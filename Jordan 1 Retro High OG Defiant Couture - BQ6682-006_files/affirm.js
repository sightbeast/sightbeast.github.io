!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://cdn1.affirm.com/products/affirmjs/master/dist/",n(n.s=50)}([function(e,t,n){var r,o,i,a,s,u,c,l,f,d;for(u in o=n(2).default,s=n(74),i=n(34).default,f=n(1),a=n(25).default,(d={}).isElement=function(e){try{return e instanceof HTMLElement}catch(e){}try{return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}catch(e){}return!1},d.extend=function(e,t){var n,r;for(n in t)r=t[n],t.hasOwnProperty(n)&&(!r||"object"!=typeof r||Array.isArray(r)||d.isElement(r)?e[n]=r:"object"==typeof e[n]?e[n]=d.extend(e[n],d.extend({},r)):e[n]=d.extend({},r));return e},d.extend(d,{getElementById:function(e){return"string"==typeof e&&(e=document.getElementById(e.replace(/^#/,""))),e},set_url:function(e){return document.location.assign?document.location.assign(e):document.location.href=e},get_api_url:function(e){return"/"!==o.api_url[o.api_url.length-1]&&(o.api_url+="/"),o.api_url+e},get_frontend_url:function(e){return"/"!==o.frontend_url[o.frontend_url.length-1]&&(o.frontend_url+="/"),o.frontend_url+e},open_new_window:function(e){return window.open(e,"_blank")},get_domain:function(e){var t,n;try{return(t=document.createElement("a")).href=encodeURI(e),n=""!==t.port?":"+t.port:"",t.protocol+"//"+t.hostname+n+"/"}catch(t){return e}},getWebhookSessionId:function(){return window._affirm_config?window._affirm_config.webhookSessionId:null},formatted_url:function(e,t){var n,r,o;return null==t&&(t={}),r=(o=e.split("#"))[0],n=o[1],r=""+r+(r.match(/\?/)?"&":"?")+d.param(t),n&&(r+="#"+n),r},get_user_agent:function(){return navigator.userAgent},is_mobile:function(){return d.get_user_agent().match(/Android/i)||d.get_user_agent().match(/iPad/i)||d.get_user_agent().match(/iPod/i)||d.get_user_agent().match(/webOS/i)||d.get_user_agent().match(/iPhone/i)||d.get_user_agent().match(/BlackBerry/i)?1:0},is_touch:function(){return d.get_user_agent().match(/Android/i)||d.get_user_agent().match(/iPad/i)||d.get_user_agent().match(/iPod/i)||d.get_user_agent().match(/iPhone/i)?1:0},is_ie:function(){return d.get_user_agent().match(/MSIE/i)||d.get_user_agent().match(/Trident.*rv\:11\./)?1:0},get_user_tzone:function(){return s.determine().name()},queryObj:function(e){var t,n,r,o,i;for(i={},t=0,o=(r=(e?d.queryString(e):location.search).slice(1).split("&")).length;t<o;t++)(n=r[t])&&(i[(n=n.split("="))[0]]=n[1]||"");return i},queryString:function(e){var t;return(t=e.indexOf("?"))>-1?e.substring(t):""},set_element_attrs:function(e,t){var n,r,o;for(n in r=[],t){o=t[n];try{r.push(e.setAttribute(n,o))}catch(t){r.push(e[n]=o)}}return r},set_element_style:function(e,t){var n,r,o;for(n in r=[],t)o=t[n],r.push(e.style[n]=o);return r},swap_style:function(e,t,n){var r,o;return e.style[t]?(o=e.style[n],e.style[n]=e.style[t],e.style[t]=o):e.style[n]?(r=e.style[t],e.style[t]=e.style[n],e.style[n]=r):void 0},delay:function(e,t){return setTimeout(e,t)},bind:i.bind,unbind:i.unbind,post_to_url:function(e,t,n){var r,o,i,a,s,u,c;for(s in null==t&&(t={}),null==n&&(n="POST"),o=document.createElement("form"),d.set_element_attrs(o,{method:n,action:e,"accept-charset":"utf-8"}),t)if(c=t[s],t.hasOwnProperty(s))for("string"==typeof c&&(c=[c]),a=0,u=c.length;a<u;a++)r=c[a],i=document.createElement("input"),d.set_element_attrs(i,{type:"hidden",name:s,value:r}),o.appendChild(i);return document.body.appendChild(o),f.trackEvent("AFJS form POSTed",{checkoutToken:t.checkout_token}),o.submit()},throw_err_if_not_object:function(e){if(!e||e.constructor!==Object)throw new Error("Provided argument is not an object")},param:function(e,t){var n,o,i;for(o in null==t&&(t=!0),i=[],n=function(e,t){return t="function"==typeof t?t():null===t||void 0===t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)},e)e[o],r(o,e[o],n);return i=i.join("&"),t&&(i=i.replace(/%20/g,"+")),i}}),r=function(e,t,n){var o,i,a,s,u;if(Array.isArray(t)){for(o in a=[],t)u=t[o],e.match(/\[\]$/)?a.push(n(e,u)):a.push(r(e+"["+("object"==typeof u?o:"")+"]",u,n));return a}if("object"==typeof t){for(i in s=[],t)s.push(r(e+"["+i+"]",t[i],n));return s}return n(e,t)},d.sniffer={failed:[],promises:{},register:function(e,t){if(t.async)return(d.sniffer.promises[e]=t.test()).then(function(n){if(d.sniffer[e]=n,d.sniffer[e]||d.sniffer.failed.push(t.message),"thirdPartyCookies"===e)return d.sniffer.thirdPartyCookies?f.trackEvent("Third Party Cookies Enabled"):f.trackEvent("Third Party Cookies Disabled")});try{d.sniffer[e]=t.test()}catch(t){t,d.sniffer[e]=!1}return d.sniffer[e]?void 0:d.sniffer.failed.push(t.message)}},c={cookies:{message:"Cookies Disabled",test:a.cookies},cors:{message:"Cross Origin Resource Sharing not available",test:a.cors},JSON:{message:"JSON not available",test:a.json},localstorage:{message:"localStorage Disabled",test:a.localStorage},thirdPartyCookies:{async:!0,message:"Third Party Cookies not available",test:function(){return a.thirdPartyCookies(o.api_url+o.resource_urls.third_party_cookie_check)}}})l=c[u],d.sniffer.register(u,l);e.exports=d},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(64)),i=d(n(65)),a=n(66),s=d(n(32)),u=d(n(33)),c=d(n(67)),l=n(68),f=d(n(24));function d(e){return e&&e.__esModule?e:{default:e}}var p="last_session_id",A={CLICK:"Click",DISMISS:"Dismiss",HOVER:"Hover",SWIPE_LEFT:"Swipe Left",SWIPE_RIGHT:"Swipe Right",TAP:"Tap"},h={},m="",g=!1,_=[];function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m){var t="localhost"===m?"/collect":"https://"+m+"/collect";window.fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}).catch(function(e){if(Math.random()<.1){var n=window.Rollbar||window.affirm&&window.affirm.Rollbar;n&&n.warn("Network error fetching "+t,e,{version:"v2"})}})}else window.console&&"function"==typeof console.log&&console.log("POST tracking event: "+e.eventType,e)}function v(){var e,t,n=(e=window.location.href,(t=document.createElement("a")).href=e,t);return{hash:n.hash,hostname:n.hostname,pathname:n.pathname,queryParams:n.search}}function b(){for(;0!==_.length;){var e=_.pop();Object.assign(e,h),y(e)}}function w(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r={hr:window.location.href,ts:Date.now()},o={};Object.assign(o,h),Object.assign(o,{eventType:e}),Object.assign(o,r),Object.assign(o,t);var a=(0,i.default)(o),s=a;return n&&(s=(0,u.default)(a)),s}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!(Math.random()>n)){var o=w(e,t,r);g?(y(o),b()):_.push(o)}}function k(e){var t={load_type:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"full":"dynamic"};e&&Object.assign(t,{pageKey:e}),E("page-view",t)}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(h,(0,u.default)((0,i.default)(e))),this}var P=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!==e.instance)return e.instance;void 0===window.affirm_tracker_promise&&(window.affirm_tracker_promise=null),this.apiUrl=t,e.instance=this,e.setDeviceIdFromSearchParam()}return r(e,[{key:"initDeviceId",value:function(){var t=e.getDeviceId();if(null!==t)window.affirm_tracker_promise=Promise.resolve(t);else if(null===window.affirm_tracker_promise){var n=this.apiUrl+e.TRACK_TOUCH_URL;window.affirm_tracker_promise=window.fetch(n,{credentials:"include",method:"GET"}).then(function(e){return e.json()}).then(function(t){return e.setDeviceId(t.id),t.id},function(){return null})}return window.affirm_tracker_promise}}],[{key:"getDeviceId",value:function(){return f.default.read(e.COOKIE_KEY)}},{key:"getDeviceIdAsync",value:function(){var t=e.getDeviceId();return null!==t?Promise.resolve(t):window.affirm_tracker_promise?window.affirm_tracker_promise:Promise.resolve(null)}},{key:"setDeviceId",value:function(t){t&&f.default.create(e.COOKIE_KEY,t,e.COOKIE_EXPIRATION)}},{key:"setDeviceIdFromSearchParam",value:function(){var t=c.default.getParamValue(e.SEARCH_PARAM);e.setDeviceId(t)}},{key:"COOKIE_EXPIRATION",get:function(){return 1825}},{key:"COOKIE_KEY",get:function(){return"tracker_device"}},{key:"SEARCH_PARAM",get:function(){return"device_id"}},{key:"TRACK_TOUCH_URL",get:function(){return"session/touch_track"}}]),e}();function I(e){var t,n=f.default.read(P.COOKIE_KEY),r=f.default.read(p),i={};i[P.COOKIE_KEY]=n,r&&(i[p]=r),O(i),g=!0,e&&(t=function(){E("page-load",{performance:(0,o.default)(),load_type:"full"})},(0,l.loadEventListener)(function(){return setTimeout(t,0)}),k()),b()}P.instance=null,e.exports={Tracker:P,clearTags:function(){return h={},this},init:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=navigator.userAgent,c=(0,s.default)(u),l=(0,a.parseUserAgentIntoDeviceType)(u);return m=r,O({client:{appName:e,appVersion:t,browser:c,deviceType:l},path:v()}),O(o),O({pageKey:window.location.href}),new P(n).initDeviceId().then(function(){return I(i)}),this},tag:O,untag:function(e){return(Array.isArray(e)?e:[e]).forEach(function(e){return delete h[e]}),this},getTrackingKey:function(){return f.default.read(P.COOKIE_KEY)},trackEvent:E,trackOnExit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=w("user-interaction",{user_action:A.DISMISS,meta_data:e});if(m){var n="https://"+m+"/collect";"localhost"===m&&(n="/collect"),navigator&&"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(n,JSON.stringify(t))}else window.console&&"function"==typeof console.log&&console.log("sendBeacon tracking event",t)},trackActionLog:function(e,t){E("action-log",{action_name:e,action_data:t})},trackApplicationResponseTime:function(e){E("resource-timing",{applicationResponseData:e})},trackImpression:function(e){E("impression",{element_name:e})},trackUserInteraction:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(A).some(function(e){return A[e]===t})&&E("user-interaction",{element_name:e,meta_data:n,user_action:t})},trackResourceTiming:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];window.performance.getEntries&&window.performance.getEntries().find&&(0,l.loadEventListener)(function(){var o=window.performance.getEntries().filter(function(n){return-1!==n.name.indexOf(e)&&"resource"===n.entryType&&n.initiatorType===t}),i=o&&o.length?o[o.length-1]:null;if(i&&i.toJSON){var a=i.toJSON();a.entryName=a.name,delete a.name;var s=Object.assign({},a,n);s.responseStart&&(s.timeToFirstByte=s.responseStart-s.fetchStart),E("resource-timing",{entry:s},r)}})},trackAPI:function(e,t,n){E("api",{url:e,response_status:t,response_message:"string"!=typeof n?JSON.stringify(n):n})},trackPageView:k,USER_ACTIONS:A}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(70)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}o.default.init("affirm-js-v2","9.54.0",r.default.api_url,r.default.tracking_endpoint,{},!1);Math.random()<.01&&o.default.trackResourceTiming("js/v2/affirm.js","script"),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(4)),i=u(n(6)),a=u(n(0)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var c=["YOUR_PUBLIC_KEY","XXXXXXXXXXXXXXX"],l=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.publicApiKey=null,e.getPublicApiKey()&&e.setPublicApiKey(e.getPublicApiKey()),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"checkPublicApiKey",value:function(){return!!this.getPublicApiKey()}},{key:"getPublicApiKey",value:function(){var e=this.publicApiKey||a.default.queryObj().public_api_key||window._affirm_config&&(window._affirm_config.public_api_key||window._affirm_config.publicApiKey);return-1===c.indexOf(e)?e:null}},{key:"setPublicApiKey",value:function(e){var t=this;this.publicApiKey=e,s.default.tag({public_api_key:e}),a.default.delay(function(){t.trigger("public_api_key_set")})}}]),t}()),f=(0,i.default)(l,["checkPublicApiKey","getPublicApiKey","off","on","setPublicApiKey","trigger"]);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.on=this.on.bind(this),this.off=this.off.bind(this),this.trigger=this.trigger.bind(this),this.logError=this.logError.bind(this),this.name=t||"AFFIRM_ELEMENT_"+Math.round(10*Math.random()),this.uuid=(""+10*Math.random()).replace(/\./,"-"),this.on("error",this.logError)}return o(e,[{key:"on",value:function(e,t){var n=this,r=e;return"string"==typeof r&&(r=[r]),this.events||(this.events={}),r.forEach(function(e){n.events[e]||(n.events[e]=[]),n.events[e].push(t)}),this}},{key:"off",value:function(e,t){var n=this,r=e;return"string"==typeof r&&(r=[r]),this.events||(this.events={}),r.forEach(function(e){return window.setTimeout(function(){if(n.events[e]){var r=-1;if(Object.keys(n.events[e]).forEach(function(o){n.events[e][o]===t&&(r=o)}),r>=0)return n.events[e].splice(r,1)}})})}},{key:"trigger",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e;"string"==typeof o&&(o=[o]),this.events||(this.events={});var i=[];return o.forEach(function(e){n.events[e]&&n.events[e].forEach(function(r){i.push("function"==typeof r.call?r.call(n,t,e):void 0)}),r&&n.events.all&&n.events.all.forEach(function(r){i.push("function"==typeof r.call?r.call(n,t,e):void 0)})}),i}},{key:"logError",value:function(e,t){var n=t,o=e;"object"===(void 0===e?"undefined":r(e))&&e.data&&(n=e.data.data||{},o=e.data.error_name);var i="Affirm Error ("+this.name+"):";try{return console.log(i,o,n)}catch(e){return}}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=t,r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];"string"==typeof t&&(n=e,o.push(t));if(!o.length)throw new Error("bindAll requires at least one method name to bind");var a=void 0;o.forEach(function(t){if("function"!=typeof(a=e[t]))throw new Error(t+" is not a method on object");e[t]=a.bind(n)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={instance:e};return t.forEach(function(t){n[t]=e[t].bind(e)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(4)),i=s(n(6)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var u=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.data={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"get",value:function(){return this.data}},{key:"resetPrequal",value:function(){this.data={},this.trigger("reset")}},{key:"set",value:function(e){a.default.throw_err_if_not_object(e),this.data=e,this.trigger("set",this.data)}},{key:"updatePrequal",value:function(e){a.default.throw_err_if_not_object(e),this.data=Object.assign(this.data,e),this.trigger("update",this.data)}}]),t}()),c=(0,i.default)(u,["get","resetPrequal","set","updatePrequal"]);t.default=c},function(e,t,n){var r,o,i,a,s,u,c,l,f,d,p,A,h,m,g,_,y,v,b,w,E,k,O,P,I,S,T,M,C,B,x,j,R,N,D,U,F={}.hasOwnProperty;r=n(3).default,w=n(20).default,v=n(15),b=n(2).default,o=n(9).default,c=n(11).default,l=n(17).default,m=n(21).default,h=n(7).default,C=n(42),R=n(1),D=n(0),U=n(12),N=n(43),M=n(41).default,B=N.setAffirmConfig,E=N.findAffirmConfig,P=U.moneyWithCents,x=U.setLocalStorage,a="Make easy monthly payments over 3, 6, or 12 months",s="Make easy monthly payments for your purchase",p="${payment}/mo based on a purchase price of ${amount} at 0% APR for {term_length} months. Rates from 0&ndash;30% APR.",A="${payment}/mo based on a purchase price of ${amount} at 10% APR for {term_length} months. Rates from 10&ndash;30% APR.",d="Rates from 0&ndash;30% APR.",f="Rates from 10&ndash;30% APR.",_={contentSpace1:"quick_and_easy",contentSpace2:"no_hidden_fees",apr:.1,termLength:12,footer:i="Subject to credit check and approval. Down payment may be required. For purchases under $100, limited payment options are available. Estimated payment amount excludes taxes and shipping fees. Affirm loans are made by Cross River Bank, a New Jersey State Chartered Commercial Bank, Member FDIC. See www.affirm.com/faqs for details.",styles:{}},y={contentSpace1:"quick_and_easy",contentSpace2:"no_hidden_fees",footer:i,styles:{}},O=window.devicePixelRatio>1,g={quick_and_easy:{icon:"quick",header:"Quick and easy",body:"Enter a few pieces of information for a real-time decision. Checking your eligibility won't affect your credit score."},no_hidden_fees:{icon:"transparent",header:"No hidden fees",body:"Know up front exactly what you'll owe, with no hidden costs and no surprises."},select_affirm_at_checkout:{icon:"bag",header:"Just select Affirm at checkout",body:"Just a few pieces of information is all it takes to get a real-time decision."},make_interest_free_payments:{icon:"loan",header:"Pay monthly without interest",body:"Your purchase is split up into three payments. There’s no interest—and never any hidden fees!"}},T={},S={},j=function(e,t,n){var r;return r="",e||(r+="affirm-no-hero-image "),t||(r+="affirm-merchant-no-logo "),"fast"===n&&(r+="affirm_fast "),r},k=function(e,t){var n,o,i;return o=r.getPublicApiKey(),t?C.default.isPromoSet(t)?"product_page_modal"===e?C.default.getConfig(t,"productPageModal"):C.default.getConfig(t,"siteWideModal"):(T[n="affirm-modal:"+o+":"+e+":"+t]||(i=""+b.promos_url_prefix+e+"/"+o+"/"+t+".json",T[n]=fetch(i).then(function(r){return r.json().then(function(e){return x(n,e),e}).catch(function(n){return console.error("Error while retrieving the modal config "+e+" "+t+". Returning Default"),k(e)})})),T[n]):"product_page_modal"===e?M.getPromoConfig(o,e,t,_):M.getPromoConfig(o,e,t,y)},I=function(e,t){var o,i,a,s,l,f,d;return l=n(30),f=t.promoId,s=t.modalId,"product_page_modal"===(d=t.type)?R.trackUserInteraction("Product Page Promo Modal",R.USER_ACTIONS.CLICK):R.trackUserInteraction("Site Wide Promo Modal",R.USER_ACTIONS.CLICK),o=t.amount&&parseFloat(t.amount),i=null,"XXXXXXXXXXXXXXX"===(i=f||s)&&(i=void 0),a=r.getPublicApiKey(),M.useV2Api(a,i)?M.getPromoResponse(a,{promoId:i,amount:o,pageType:t.pageType},M.TEMPLATE_FIELD.modal).then(function(n){var r,s;return"fast"===(null!=(s=null!=n?n.promo:void 0)&&null!=(r=s.config)?r.promo_style:void 0)?new u({renderedPromo:s,DOMNode:e}):w.getFinancingExperimentCohortId(a).then(function(e){var n,r;return n=d+"/"+i+"/"+o+"/"+t.pageType,S[n]||(r=new m(m.generatePromoPrequalConfig(Object.assign(h.get(),{use_promo:!0}),{promoId:i,amount:o,page_type:t.pageType,cohort_id:e},c.MODE_MODAL,window.location.href)),S[n]=r),S[n].open()})}):k(d,i).then(function(e){var t,n,r;return e.promoId=i,o?(e.amount=o,e.termLengthIntervals&&(n=C.default.getTermLengthIntervalForAmount(e.termLengthIntervals,o)),n?(t=n.apr,r=n.termLength):(t=e.apr,r=e.termLength),l.get_estimate({apr:t,amount:o,months:r}).then(function(n){var i;return i={},D.extend(i,e),i.payment=n.payment,i.amount=o,i.months=r,i.termLength=n.months||r,i.apr=t,i})):e},function(e){return k(d).then(function(e){var t,n;return o?(t=e.apr,n=e.termLength,l.get_estimate({apr:t,amount:o,months:n}).then(function(r){var i;return i={},D.extend(i,e),i.payment=r.payment,i.amount=o,i.months=n,i.termLength=r.months||n,i.apr=t,i})):e})}).then(function(n){var r,i;return n.promo_prequal_enabled?(r=d+"/"+n.promoId+"/"+o+"/"+t.pageType,S[r]||(C.default.isPromoSet(n.promoId)||(n.promoId=null),i=new m(m.generatePromoPrequalConfig(Object.assign(h.get(),{use_promo:!0}),n,c.MODE_MODAL,window.location.href)),S[r]=i),S[r].open()):i=new u({amount:n.amount,apr:n.apr,months:n.months,termLength:n.termLength,payment:n.payment,config:n,DOMNode:e}),i})},u=function(e){function t(e){var n,r,i,u,c,l,h,m,g,b,w,k,I,S,T,M,C,B;null==e&&(e={}),b=e.DOMNode,delete e.DOMNode,M=O?"2x":"",k="",e.renderedPromo?(l=e.renderedPromo.config.images["hero"+M],S=e.renderedPromo.config.promo_style,l&&(l="background-image: url('"+l+"')"),w=e.renderedPromo.config.images["logo"+M],u="","fast"!==S&&(u=e.renderedPromo.button.replace(/affirm/gi,'<span class="affirm-logo">Affirm</span>')),t.__super__.constructor.call(this,D.extend({name:"affirm_learn_more_splitpay",template:"templates/learn_more_split_pay.html",template_args:{hero_image:l,logo_image:w,modal_class:j(l,w,S),color:e.renderedPromo.config.styles.color||"auto",fontFamily:e.renderedPromo.config.styles.fontFamily||"inherit",copy:{tagline:e.renderedPromo.headline,promo:e.renderedPromo.tagline,cta:u,section_1:this.getSection(e.renderedPromo.content_space_1),section_2:this.getSection(e.renderedPromo.content_space_2)},footer:e.renderedPromo.footer}},e))):(r=(m=!!e.amount)?_:y,C={},D.extend(C,r),D.extend(C,e.config),D.is_mobile()&&e.source&&("function"==typeof(n=e.source).trigger&&n.trigger("loading"),null!=e.source.product_key&&v.setProduct(e.source.product_key)),l=C["heroImage"+M],w=C["logo"+M],g=null!=e.apr&&0===parseFloat(e.apr),m?(I=C.pricingTemplate,u="",(h=1===(null!=C&&null!=(T=C.termLengthIntervals)?T.length:void 0)&&3===(null!=C?C.termLength:void 0)&&0===(null!=C?C.apr:void 0))?k+="affirm_fast ":u='Just select <span class="affirm-logo">Affirm</span> at checkout.',I||h||(I=g?p:A),I=(I=(I=(I=I.replace(/\{payment\}/gi,"$"+P(e.payment))).replace(/\{amount\}/gi,"$"+P(e.amount))).replace(/\{apr\}/gi,parseInt(100*e.apr))).replace(/\{term_length\}/gi,e.termLength),c=C.headlineTemplate):((I=C.pricing)||(I=g?d:f),c=C.headline),c||(c=!e.termLength||[3,6,12].indexOf(e.termLength)>-1?a:s),l&&(l="background-image: url('"+l+"')"),k+=j(l,w),t.__super__.constructor.call(this,D.extend({name:"affirm_learn_more_splitpay",template:"templates/learn_more_split_pay.html",template_args:{hero_image:l,logo_image:w,modal_class:k,color:C.styles.color||"auto",fontFamily:C.styles.fontFamily||"inherit",copy:{tagline:c,promo:I,cta:u,section_1:this.getSection(C.contentSpace1),section_2:this.getSection(C.contentSpace2)},footer:C.footer}},e))),this.on("continue",(B=this,function(){return B.trigger("close")})),i=!1,C=E(b),this.on("close",function(){if(!i)return null!=(C=E(b))&&"function"==typeof C.onCloseModal&&C.onCloseModal(),i=!0,o.trigger("learnMore:close")}),this.open(null!=C?C.onOpenModal:void 0),e.DOMNode=b}return function(e,t){for(var n in t)F.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,l),t.openModal=function(e,t){return I(e,t)},t.setupSiteElements=function(e){var t,n,r,o,i,a,s,u,c;for(c=[],n=0,o=e.length;n<o;n++)a=(t=e[n]).getAttribute("data-modal-id"),u=t.getAttribute("data-promo-id"),s=t.getAttribute("data-page-type")||"product",t.getAttribute("data-amount")&&"undefined"!=typeof console&&null!==console&&console.error("Affirm: data-amount not valid in site modals. Element",t),t.style.cursor||(t.style.cursor="pointer"),B(t,i={promoId:u,modalId:a,type:"site_wide_modal",pageType:s}),(r=u||a)?R.trackImpression("Custom Site Wide Promo Modal"):R.trackImpression("Default Site Wide Promo Modal"),C.default.isPromoSet(r)&&R.trackImpression("Promo Set Promo Modal"),c.push(t.onclick=function(e,t){return function(){return I(e,t)}}(t,i));return c},t.setupProductElements=function(e){var t,n,r,o,i,a,s,u,c,l;for(l=[],r=0,i=e.length;r<i;r++)s=(n=e[r]).getAttribute("data-modal-id"),t=n.getAttribute("data-amount"),c=n.getAttribute("data-promo-id"),u=n.getAttribute("data-page-type"),t||"undefined"!=typeof console&&null!==console&&console.error("Affirm: data-amount attribute is required in product modals",n),t<5e3&&"undefined"!=typeof console&&null!==console&&console.error("Affirm: data-amount is lower than the minimum ($50)."),t>175e4&&"undefined"!=typeof console&&null!==console&&console.error("Affirm: data-amount is higher than the maximum ($17500)."),n.style.cursor||(n.style.cursor="pointer"),B(n,a={modalId:s,amount:t,promoId:c,type:"product_page_modal",pageType:u}),(o=c||s)?R.trackImpression("Custom Product Page Promo Modal"):R.trackImpression("Default Product Page Promo Modal"),C.default.isPromoSet(o)&&R.trackImpression("Promo Set Promo Modal"),l.push(n.onclick=function(e,t){return function(){return I(e,t)}}(n,a));return l},t.prototype.getSection=function(e){return g[e]},t}(),e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4)),o=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var a=new r.default;t.default=(0,o.default)(a,["off","on","trigger"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(2)),i=c(n(4)),a=c(n(0)),s=c(n(1)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.name));return n.options=e,n.generateFrame(),(0,u.default)(n,"handlePostMessage","handleResizeEvent"),n.on("resize",n.handleResizeEvent),a.default.bind(window,"message",n.handlePostMessage),window["_affirm_post_message_"+n.name]=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.trigger(e,t)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,null,[{key:"IFRAME_CLASSNAME",get:function(){return"affirm-sandbox-iframe"}},{key:"RESIZE_INTERVAL",get:function(){return 500}},{key:"SANDBOX_CONTAINER_CLASSNAME",get:function(){return"affirm-sandbox-container"}}]),r(t,[{key:"generateFrame",value:function(){var e=this;this.cssOptions=a.default.extend({overflow:"hidden",width:"100%",height:"100%"},this.options.css||{});var n=document.createElement("div");n.className=t.SANDBOX_CONTAINER_CLASSNAME,this.options.iframe_container_css&&a.default.set_element_style(n,this.options.iframe_container_css);var r=document.createElement("iframe");return r.className=t.IFRAME_CLASSNAME,a.default.set_element_attrs(r,{id:this.name,width:this.cssOptions.width,height:this.cssOptions.height,frameborder:0,allowScroll:"no",allowTransparency:!0}),Object.keys(this.cssOptions).forEach(function(t){r.style[t]=e.cssOptions[t]}),this.defaultContainerDisplayStyle=(null!=this.options.iframe_container_css?this.options.iframe_container_css.display:void 0)||"block",n.style.display="none",this.$iframe=r,this.$iframe_container=n,this.orientation=window.orientation,this.bind("ready",function(){return e.trigger("ready")}),this.$iframe_container}},{key:"handlePostMessage",value:function(e){var t=void 0,n=e||{data:""};try{t=JSON.parse(n.data)}catch(e){t={}}var r=new RegExp(this.name+"_");if(t&&t.name&&t.name.match(r)){var o=t.name.replace(r,"").toLowerCase(),i=t.data||{};this.trigger(o,i)}}},{key:"regenerateIfAlreadyAppended",value:function(){if(!this.isOrphan()&&this.$iframe_container.parentNode){var e=this.$iframe_container.style.display;this.$iframe_container.parentNode.removeChild(this.$iframe_container),this.generateFrame(),this.$iframe_container.style.display=e}}},{key:"appendTo",value:function(e){var t=a.default.getElementById(e);return this.regenerateIfAlreadyAppended(),this.$iframe_container.appendChild(this.$iframe),t&&t.appendChild&&t.appendChild(this.$iframe_container),this}},{key:"content",value:function(e){if(this.isOrphan())return this.logError("Tried to set content on orphaned iframe",{content:e}),this;var n=this.$iframe.contentWindow.document;return this.write(e),this.write(this.insertPostMessageSender()),this.write(this.insertPostMessageReceiver()),this.write(t.insertResizeListener()),n.close(),this}},{key:"write",value:function(e){try{this.$iframe.contentWindow.document.write(e)}catch(e){}}},{key:"insertPostMessageSender",value:function(){return["<scr","ipt"," defer='defer'>","window.trigger = function(name,data){","try{","_name = '"+this.name+"_' + name;","_d = JSON.stringify({ name: _name, data: data });","window.parent.postMessage( _d, '"+document.location.origin+"' );","} catch(e) {","window.parent._affirm_post_message_"+this.name+"(name, data);","}","}","</scr","ipt>"].join("")}},{key:"insertPostMessageReceiver",value:function(){return["<scr","ipt"," defer='defer'>","if(window.addEventListener){","_action = 'addEventListener';","_event  = 'message';","} else {","_action = 'attachEvent';","_event  = 'onmessage';","}","window[_action](_event, function(ev){","var _event = ev || {data:''},","_namespace_regex = new RegExp('"+this.name+"_');","try{","_data = JSON.parse(_event.data);","} catch (e){","_data = {};","}","if(_data && _data.name && _data.name.match(_namespace_regex)){","var _n = _data.name.replace(_namespace_regex, '').toLowerCase();","var _d = _data.data || {};","try{","if (window.affirm_events && window.affirm_events[_n]) {","window.affirm_events[_n].call(window,_d);","}","}catch(e){}","}","});","</scr","ipt>"].join("")}},{key:"handleResizeEvent",value:function(e,t){var n=this,r=t||e||{},o=this.orientation;if(this.orientation=window.orientation,window.orientation!==o&&(a.default.swap_style(this.$iframe_container,"top","bottom"),a.default.swap_style(this.$iframe_container,"left","right"),this.$iframe_container.style.width)){var i=this.$iframe_container.style.width;this.$iframe_container.style.width="",window.requestAnimationFrame(function(){n.$iframe_container.style.width=i})}r.height&&this.$iframe.scrollHeight<r.height&&(this.$iframe.style.height=r.height+100)}},{key:"trigger",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=n.data||n;(function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,o);var i={name:this.name+"_"+e,data:o};try{i=JSON.stringify(i)}catch(e){i=""}var u=a.default.get_domain(this.src())!==a.default.get_domain(window.location.href);if(r&&(u||!this.isOrphan())){var c=this.getTargetWindow();c?c.postMessage(i,this.origin()):s.default.trackEvent("Post message error: target window not found on event trigger")}}},{key:"origin",value:function(){return(this.src()||document.location.href).split("/").slice(0,3).join("/")}},{key:"isOrphan",value:function(){try{return!(this.$iframe&&this.$iframe.contentWindow&&this.$iframe.contentWindow.document)}catch(e){return!this.$iframe.parentNode}}},{key:"bind",value:function(e,t){a.default.bind(this.$iframe,e,t)}},{key:"unbind",value:function(e,t){a.default.unbind(this.$iframe(e,t))}},{key:"src",value:function(e){if(!e)try{return this.$iframe.getAttribute("src")}catch(e){return this.$iframe.src}return a.default.set_element_attrs(this.$iframe,{src:e}),this}},{key:"hide",value:function(){return this.trigger("hiding",{},!1),this.$iframe_container.style.display="none",this}},{key:"show",value:function(){return this.trigger("showing",{},!1),this.$iframe_container.style.display=this.defaultContainerDisplayStyle,this}},{key:"remove",value:function(){return a.default.unbind(window,"message",this.handlePostMessage),this.$iframe_container.parentNode&&this.$iframe_container.parentNode.removeChild(this.$iframe_container),this.trigger("remove",{},!1),this}},{key:"getTargetWindow",value:function(){return this.$iframe.contentWindow}}],[{key:"insertResizeListener",value:function(){return["<scr","ipt"," defer='defer'>","(function(){","function getHeight(){","var body = document.body, html = document.documentElement,","max_height = Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight );","return body.scrollHeight;","}","var _current_height = 0;","setInterval(function(){","if(_current_height != getHeight()){","trigger('resize', {height: getHeight()});","_current_height = getHeight();","}","}, "+t.RESIZE_INTERVAL+");","}());","</scr","ipt>"].join("")}},{key:"postMessageHasValidOrigin",value:function(e){return e.origin===o.default.frontend_url.replace(/\/$/,"")}},{key:"parsePostMessageData",value:function(e){var n=null;if(t.postMessageHasValidOrigin(e)&&"string"==typeof e.data)try{n=JSON.parse(e.data)}catch(e){}return n}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(79)),a=d(n(81)),s=d(n(0)),u=d(n(25)),c=d(n(5)),l=d(n(83)),f=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r={width:a.default.DEFAULT_OPTIONS.popupWidth},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s.default.extend({popupCss:r},n)));if(!o.constructor.isValidMode(e.mode))throw new Error(o.constructor.INVALID_MODE_ERROR);return o.config=s.default.extend({},e),o.shouldLog=Math.random()<.25,(0,c.default)(o,"configureMessaging","startConfiguringMessaging"),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"configPayload",get:function(){return{id:this.constructor.POST_MESSAGE_ID}}},{key:"targetWindow",get:function(){return this.config.mode===t.MODE_MODAL?this.$iframe.contentWindow:this.config.mode===t.MODE_POPUP?this.popup&&this.popup.popupWindow:null}}],[{key:"determineMode",value:function(e){return t.isModalSupported().then(function(e){return e}).catch(function(){return!1}).then(function(n){var r=e||t.MODE_UNSUPPORTED;return r!==t.MODE_MODAL||n||(r=t.MODE_POPUP),r!==t.MODE_POPUP||t.isPopupSupported()||(r=n?t.MODE_MODAL:t.MODE_UNSUPPORTED),r})}},{key:"isModalSupported",value:function(){var e=void 0;return e=s.default.sniffer.promises&&s.default.sniffer.promises.thirdPartyCookies?s.default.sniffer.promises.thirdPartyCookies:u.default.thirdPartyCookies(),(0,l.default)(e,500).catch(function(){return!1})}},{key:"isPopupSupported",value:function(){return!s.default.is_ie()}},{key:"isValidMode",value:function(e){return e===t.MODE_MODAL||e===t.MODE_POPUP||e===t.MODE_UNSUPPORTED}},{key:"INVALID_MODE_ERROR",get:function(){return"Widget mode must either be 'modal' or 'popup'"}},{key:"MAX_CONFIG_ATTEMPTS",get:function(){return 50}},{key:"MODE_MODAL",get:function(){return"modal"}},{key:"MODE_POPUP",get:function(){return"popup"}},{key:"MODE_UNSUPPORTED",get:function(){return"unsupported"}},{key:"POPUP_NAME",get:function(){return"modal-popup-widget"}},{key:"POPUP_TIMEOUT",get:function(){return 0}},{key:"POST_MESSAGE_ID",get:function(){return"AFFIRM_MESSAGES"}},{key:"POPUP_OVERLAY_MESSAGE",get:function(){return"Please click continue if you don't see the Affirm pop-up window. You may need to turn off your pop-up blocker."}}]),o(t,[{key:"clearTimers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.config.mode===t.MODE_POPUP&&this.popup&&this.popup.clearTimer(),clearInterval(this.payloadMessageTimer),delete this.payloadMessageTimer,e&&this.shouldLog&&f.default.trackEvent("AFJS Post Message Config Succeeded",{elapsedTime:Date.now()-this.widgetOpenTime,isIFrameReady:this.isIFrameReady,widgetMode:this.config.mode,widgetType:this.constructor.POPUP_NAME})}},{key:"close",value:function(e){this.clearTimers(),this.config.mode===t.MODE_MODAL?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this,e):this.config.mode===t.MODE_POPUP?(this.trigger("hiding"),this.popup&&this.popup.close(e)):"function"==typeof e&&e()}},{key:"configureMessaging",value:function(){var e="function"==typeof window.postMessage;this.payloadMessageCounter<this.constructor.MAX_CONFIG_ATTEMPTS?(this.postMessage(this.configPayload),this.payloadMessageCounter+=1):(this.clearTimers(),this.shouldLog&&f.default.trackEvent("AFJS Post Message Config Failed",{elapsedTime:Date.now()-this.widgetOpenTime,isIFrameReady:this.isIFrameReady,isPostMessageSupported:e,widgetMode:this.config.mode,widgetType:this.constructor.POPUP_NAME}))}},{key:"open",value:function(e){this.widgetOpenTime=Date.now(),this.shouldLog&&f.default.trackEvent("AFJS Widget Opened",{widgetMode:this.config.mode,widgetType:this.constructor.POPUP_NAME}),this.config.mode===t.MODE_MODAL?(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this,e),this.startConfiguringMessaging()):this.config.mode===t.MODE_POPUP?(this.popup||(this.popup=new a.default({popupName:this.constructor.POPUP_NAME,popupOverlayMessage:this.constructor.POPUP_OVERLAY_MESSAGE,popupTimeout:this.constructor.POPUP_TIMEOUT,popupWidth:this.options.popupCss.width,src:this.options.src})),this.popup.open(this.onPopupOpen.bind(this,e))):"function"==typeof e&&e()}},{key:"onPopupOpen",value:function(e){this.options.src&&setTimeout(this.startConfiguringMessaging,500),"function"==typeof e&&e()}},{key:"postMessage",value:function(e){if(this.config.mode===t.MODE_MODAL)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"postMessage",this).call(this,e);else if(this.config.mode===t.MODE_POPUP&&this.options.src){var n=s.default.extend({id:this.constructor.POST_MESSAGE_ID},e);this.targetWindow&&this.targetWindow.postMessage(JSON.stringify(n),s.default.get_domain(this.options.src))}}},{key:"startConfiguringMessaging",value:function(){this.config.mode===t.MODE_MODAL&&this.off("ready",this.startConfiguringMessaging),this.payloadMessageTimer||(this.payloadMessageCounter=0,this.payloadMessageTimer=setInterval(this.configureMessaging,500))}},{key:"updatePopupSource",value:function(e,t){this.options.src=e,this.popup.updateSource(e),setTimeout(this.startConfiguringMessaging,500),"function"==typeof t&&t()}}]),t}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.indexOf=function(e,t){for(var n=0;void 0!==e[n];){if(e[n]===t)return n;n+=1}return-1},t.moneyWithCents=function(e){return(parseInt(e,10)/100).toFixed(2)},t.setLocalStorage=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},t.childWindowParams=function(e){var t=void 0!==window.screenX?window.screenX:window.screenLeft,n=void 0!==window.screenY?window.screenY:window.screenTop,r=void 0!==window.outerWidth?window.outerWidth:document.documentElement.clientWidth,o=void 0!==window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,i=Math.max(t,0),a=.8*o,s=parseInt(e,10);return"width="+s+", height="+a+", left="+parseInt(i+(r-s)/2,10)+", top="+parseInt(n+(o-a)/2.5,10)+", toolbar=0, scrollbars=1"},t.getBackgroundBrightness=function(e){for(var t="rgb(255, 255, 255)";e&&"html"!==e.tagName.toLowerCase();){var n=window.getComputedStyle(e).getPropertyValue("background-color");if(n&&"rgba(0, 0, 0, 0)"!==n){t=n;break}e=e.parentNode}var r=t.replace(/[^\d,]/g,"").split(",").map(function(e){return parseInt(e,10)});return(299*r[0]+587*r[1]+114*r[2])/1e3<125?"dark":"light"},t.addInsertListener=function(e,t){var n=function(n){n.animationName===e&&t(n.target)};document.addEventListener&&(document.addEventListener("animationstart",n,!1),document.addEventListener("MSAnimationStart",n,!1),document.addEventListener("webkitAnimationStart",n,!1))},t.validateCheckoutAri=function(e){return!(!e||16!==e.length||null!==e.match(/[\Wa-z]{1,}/))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(60);(0,((r=o)&&r.__esModule?r:{default:r}).default)(),t.default=function(e,t){var n=e.split(".");return function e(t,n,r){var o=n.shift();if(0===n.length){if(o in t){var i=void 0;for(i in t[o])t[o].hasOwnProperty(i)&&!r.hasOwnProperty(i)&&(r[i]=t[o][i])}t[o]=r}else o in t||(t[o]={}),e(t[o],n,r);return t}(window.affirm,n,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){var o=null;var i=void 0;Array.isArray(t)?(o=[],t.forEach(function(t){i=e(t,n),n(i)&&o.push(i)})):null!==t&&"object"===(void 0===t?"undefined":r(t))?(o={},Object.keys(t).forEach(function(r){i=e(t[r],n),n(i)&&(o[r]=i)})):n(t)&&(o=t);return o}},function(e,t,n){var r,o,i,a,s,u,c,l,f,d,p,A,h,m=[].slice;for(r=n(3).default,l=n(2).default,i=n(4).default,s=n(26),u=n(76),o=n(77).default,h=n(0),n(28),A=n(1),n(38),{code:"unknown_error",type:"unknown_error",message:"An unknown error has occurred"},c=function(e){return null==e&&(e={}),c.set(e)},f=0,d=(p=["on","off","trigger"]).length;f<d;f++)c[a=p[f]]=i.prototype[a];h.extend(c,{init:function(){var e,t,n;return this._data={items:{}},e=null!=(null!=(t=window.affirm.checkout)?t._:void 0)?window.affirm.checkout._:[],h.delay((n=this,function(){var t,r,o;for(r=0,o=e.length;r<o;r++)t=e[r],n[t[0]].apply(n,t[1]);return n.ready()}))},isReady:!1,ready:function(e){return e?this.isReady?"function"==typeof e?e():void 0:this.on("ready",e):(this.trigger("ready"),this.isReady=!0)},set:function(e,t){var n,o,i,a,s,u,c;if(!t&&"object"==typeof e){for(a=h.extend({},e),o=0,i=(s=["items","productKey","publicApiKey","financial_product_key","public_api_key"]).length;o<i;o++)a[n=s[o]]&&(this.attr(n,a[n]),delete a[n]);return this._data=h.extend(this._data||{},a),null!=(null!=(u=this._data.config)?u.public_api_key:void 0)&&r.setPublicApiKey(null!=(c=this._data.config)?c.public_api_key:void 0),this}return this.attr(e,t)},get:function(e){return this.attr(e)},attr:function(e,t){var n,o,i;if("items"===e)return t&&this.items()?(this.empty(),this.add(t)):this.items();if("productKey"===e||"financial_product_key"===e)return null!=t?this.setProduct(t):this.getProduct();if("publicApiKey"===e||"public_api_key"===e)return null!=t?r.setPublicApiKey(t):r.getPublicApiKey();for(o=e.match(/^[^\.]+(\.[^\.]+)+$/)?e.split("."):e.match(/^[^\[\]]+(\[[^\[\]]+\])+$/)?e.replace("][","]").replace(/\]$/,"").split(/\]|\[/):[e],i=this._data;n=o.shift();){if(null!=t&&0===o.length)return i[n]=t,this;if(null==i[n]){if(null==t)return null;i[n]={}}i=i[n]}return null!=t?this:i},_current_product:null,setProduct:function(e){var t;return e!==this._current_product&&(this._current_product=e,this.trigger("product_changed",this.getProduct()),h.delay((t=this,function(){return s.get(t._current_product,function(){})}))),A.tag({product_key:e})},getProduct:function(){return this._current_product},add:function(){var e,t,n,r,o,i,a,s,u,c,l,f,d,p,A;for(r=1<=arguments.length?m.call(arguments,0):[],this._data.items||(this._data.items={}),o=0,s=r.length;o<s;o++)for(n=r[o],i=0,u=(d=[].concat(n)).length;i<u;i++){for(t=d[i],a=0,c=(p=["unit_price","sku"]).length;a<c;a++)if(null==t[e=p[a]])throw"No "+e+" given for item";for(t.qty||(t.qty=1),f=0,l=(A=["qty","unit_price"]).length;f<l;f++)if(t[e=A[f]]=parseInt(t[e],10),"NaN"===t[e].toString())throw"item "+e+" must be an integer";this._data.items[t.sku]&&this._data.items[t.sku].sku===t.sku?this._data.items[t.sku].qty+=parseInt(t.qty,10):this._data.items[t.sku]=t}return this},items:function(){var e,t,n,r;for(r in this._data.items||(this._data.items={}),e=[],n=this._data.items)t=n[r],e.push(t);return e},clean_data:function(){var e;return(e=function(t,n){var r,o,i,a,s,u,c;if(Array.isArray(n)){for(i=[],u=0,c=n.length;u<c;u++)r=n[u],i.push(e(null,r));return i}if(n instanceof Object){for(o in a={},n)s=n[o],a[o]=e(o,s);return a}return"name"===t&&"string"==typeof n?{full:n}:void 0===n?null:n})(null,h.extend({},this._data))},payload:function(){var e;return h.extend({meta:{user_timezone:h.get_user_tzone(),__affirm_tracking_uuid:A.getTrackingKey(),release:null!=(null!=l?l.version:void 0)},api_version:"v2",merchant:{public_api_key:r.getPublicApiKey()},config:{financial_product_key:c.getProduct()},ioBB:"function"==typeof window.ioGetBlackbox&&null!=(e=window.ioGetBlackbox())?e.blackbox:void 0},this.clean_data())},post:function(e){return null==e&&(e={}),this.open(h.extend(e,{redirect:!0}))},open:function(e){var t,n,r;return null==e&&(e={}),null!=e.checkout_data&&this.set(e.checkout_data),!!u.default()&&(t=h.extend({checkoutPayload:Object.assign({},this.payload()),mode:(null!=(n=this.get("metadata"))?n.mode:void 0)||"redirect"},this.clean_data()),e.onFail&&(t.onFail=e.onFail),e.onSuccess&&(t.onSuccess=e.onSuccess),this.checkoutWidget?void 0:(this.checkoutWidget=new o(t),this.checkoutWidget.on("unload",(r=this,function(){return delete r.checkoutWidget})),this.checkoutWidget.open()))},open_vcn:function(e){var t;if(h.extend(e,{checkout_data:{merchant:{use_vcn:!0}}}),(t=e.checkout_data.metadata||{}).mode=t.mode||o.MODE_POPUP,e.checkout_data.metadata=t,null==e.success||null==e.error)throw"success and error callbacks must be specified";return e.onFail=e.error,e.onSuccess=e.success,delete e.error,delete e.success,this.open(e)},empty:function(){return this._data.items={},this},reset:function(){return this._data={items:{}},this}}),c.init(),e.exports=c},function(e,t,n){var r,o,i,a,s,u,c,l,f,d,p={}.hasOwnProperty;for(s=n(2).default,o=n(4).default,i=n(17).default,d=n(0),r=function(e){function t(e){var n;null==e&&(e={}),n="the Merchant";try{null!=(null!=s?s.merchant:void 0)&&(n=s.merchant)}catch(e){}this.on("all",function(e,t){return f.trigger(t,e,!1)}),t.__super__.constructor.call(this,{name:"affirm_error_screen",template:"templates/error.html",template_args:d.extend({body:"If you continue to have trouble, please contact us at help@affirm.com.",title:"We encountered a problem with your checkout.",merchant_name:n},e)})}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,i),t.prototype.hide=function(){return t.__super__.hide.apply(this,arguments),d.delay((e=this,function(){return e.remove()}),300);var e},t}(),f=function(e){var t,n;return d.is_mobile()||d.sniffer.failed.length>0?(n=d.extend({title:"We encountered a problem with your checkout.",body:"If you continue to have trouble, please contact us at help@affirm.com."},e),alert(n.title+"\n\n"+n.body),f.trigger("close")):((t=new r(e)).open(),t)},u=0,c=(l=["on","off","trigger"]).length;u<c;u++)f[a=l[u]]=o.prototype[a];e.exports={showError:f,_modal:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(27)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i={"-webkit-tap-highlight-color":"transparent",display:"flex",justifyContent:"center",overflowY:"auto",position:"fixed",bottom:"0",left:"0",right:"0",top:"0",zIndex:r.default.MAX_ZINDEX_VALUE,margin:"0",border:"0",padding:"0"};o.default.is_mobile()&&(i["-webkit-overflow-scrolling"]="touch",i["-webkit-transform"]="translate3d(0, 0, 0)",i.transform="translate3d(0, 0, 0)",i.overflow="scroll",i.background="#fff");var a=o.default.extend({css:{overflowX:"hidden",overflowY:"auto",height:"100%",width:"100%",margin:"0",border:"0",padding:"0"},iframe_container_css:i,on:{close:function(){return n.close()}}},e);return n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=a},function(e,t,n){var r,o,i,a,s={}.hasOwnProperty;r=n(10).default,i=n(19),a=n(0),o=function(e){function t(e){var n,r,o;if(this.options=null!=e?e:{},t.__super__.constructor.apply(this,arguments),this.options.on)for(r in o=this.options.on)n=o[r],this.on(r,n)}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r),t.prototype.paint=function(){var e,t;return this.options.container?this.options.src||this.options.content||this.options.template?(this.appendTo(this.options.container),this.options.src?(this.$iframe.onload=(t=this,function(){return t.trigger("ready")}),this.src(this.options.src)):this.options.content?(this.content(this.options.content),this.trigger("ready")):this.options.template&&(e=this.options.template_args||{},i.get(this.options.template,function(t){return function(n){return t.content(i.render(e,n)),t.trigger("ready")}}(this))),this):this.logError("Cannot paint widget without src, content, or template",{options:this.options}):this.logError("Cannot paint widget without container",{options:this.options})},t.prototype.update=function(e){return null==e&&(e={}),a.extend(this.options,e),this.paint()},t.prototype.container=function(){return this.isOrphan()?this.options.container:this.$iframe_container.parentNode},t}(),e.exports=o},function(e,t,n){var r,o,i,a,s,u;o=n(2).default,u=n(0),a=n(28),i=n(33),r={},s={put:function(e,t){return r[e]=t},get:function(e,t){return r[e]?u.delay(function(){return t.call(window,r[e])}):a.get(e).then(function(e,n,r){return t(n)})},render:function(e,t){var n,r,a,s,u,c,l,f,d,p,A,h,m,g,_,y;if(null==e&&(e={}),null==t&&(t=""),e.ASSETS_ROOT||(e.ASSETS_ROOT=o.assets_root),p=i(e),A=function(e){return p[e]||""},n=t.match(/\{\{\! *([a-zA-Z0-9\$_\.]+) *\}\}/g))for(h=0,g=n.length;h<g;h++)c=n[h],y=t.indexOf(c),d="{{/ *"+(a=c.match(/\{\{\! *([a-zA-Z0-9\$_\.]+) *\}\}/)[1])+" *}}",f=(r=t.match(d)).index,t=A(a)?(t=t.replace(c,"")).replace(r[0],""):t.substr(0,y)+t.substr(f+r[0].length);if(!(u=t.match(/\{\{ *([a-zA-Z0-9\$_\.]+) *\}\}/g)))return t;for(m=0,_=u.length;m<_;m++)l=A(a=(s=u[m]).match(/\{\{ *([a-zA-Z0-9\$_\.]+) *\}\}/)[1]),t=t.replace(new RegExp(s),l);return t}},e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cachePromises=l,t.cacheSinglePromise=function(e){var t=!1,n=void 0;return function(){return t?n:(n=e(),t=!0,n)}};var r=n(22),o=a(n(37)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s=.1,u={TEST_EXPERIMENT_API_KEY:{product:"homepage",experimentId:"MotorolaPromoABTest"},PreSeededApiKeyDirect:{product:"homepage",experimentId:"MotorolaPromoABTest"},LEWNGBPRODMEC9NC:{product:"homepage",experimentId:"MotorolaPromoABTest"},"84971L7SGAB1MVTX":{product:"homepage",experimentId:"MotorolaPromoABTest"}},c={PreSeededApiKeyDirect:{experimentId:"PreSeededApiKeyDirect_financing"},YSNOR0OWZV9D3A81:{experimentId:"YSNOR0OWZV9D3A81_financing"},AU5A16D76Q7D7HKD:{experimentId:"AU5A16D76Q7D7HKD_financing"}};function l(e){var t={};return function(n){if(n in t)return t[n];var r=e(n);return t[n]=r,r}}function f(e){if(!(e in c))return Promise.resolve();var t=c[e].experimentId;return o.default.getAssignments([t]).then(function(e){return e&&e[t]})}var d=l(f);t.default={getExperimentPageType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;if(!(t&&e in u))return Promise.resolve(t);if(Math.random()>n)return Promise.resolve(t);var i=u[e].experimentId;return o.default.getAssignments([i]).then(function(n){return n[i]&&"treatment"===n[i].assignment_type?(o.default.trackImpression(i,r.TRACK_TREATMENT_IMPRESSION),u[e][t]||t):(o.default.trackImpression(i,r.TRACK_DEFAULT_IMPRESSION),t)}).catch(function(){return t})},getFinancingExperimentCohortId:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=f;return t&&(n=d),n(e,t).then(function(e){return e&&"treatment"===e.assignment_type?(o.default.trackImpression(e.experiment_name,r.TRACK_TREATMENT_IMPRESSION,{cohort_id:e.cohort_id}),e.cohort_id):e&&"control"===e.assignment_type?(o.default.trackImpression(e.experiment_name,r.TRACK_DEFAULT_IMPRESSION,{cohort_id:0}),e.cohort_id):void 0}).catch(function(e){return i.default.trackEvent("failed to fetch financing program experiment",{message:e.message}),Promise.resolve()})},getUniqueExperimentIDs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t={};return Object.keys(e).forEach(function(n){t[e[n].experimentId]=!0}),Object.keys(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=m(n(3)),s=m(n(2)),u=m(n(9)),c=m(n(29)),l=n(16),f=m(n(11)),d=m(n(10)),p=m(n(0)),A=m(n(1)),h=m(n(14));function m(e){return e&&e.__esModule?e:{default:e}}var g=p.default.get_frontend_url(s.default.resource_urls.prequal_backend_route),_=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=Object.assign({mode:e.mode||f.default.MODE_MODAL},e),o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,Object.assign({name:"prequal-application",popupCss:{width:"500px"},src:t.constructURL(e.urlParams)},n)));return o.isPrequalComplete=!1,o.on("prequalFinished",function(t){var n=e.onSuccess;"function"==typeof n&&n(t)}),p.default.bind(window,"message",o.postMessageListener.bind(o)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default),o(t,[{key:"configPayload",get:function(){var e=this.config,n=e.merchant||{};return n.name=e.merchant_name,n.public_api_key=a.default.getPublicApiKey(),Object.assign({id:t.POST_MESSAGE_ID,merchant:n,meta:{__affirm_tracking_uuid:A.default.getTrackingKey(),user_timezone:p.default.get_user_tzone()},referring_url:window.location.href},this.config)}},{key:"defaultOptions",get:function(){var e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"defaultOptions",this);return e.resizeHeight=!0,e}}],[{key:"generatePromoPrequalConfig",value:function(e,t,n,o){return r({},e,{urlParams:{device_id:A.default.getTrackingKey(),merchant_name:e.merchant_name,promo_external_id:t.promoId,referring_url:encodeURIComponent(o),unit_price:t.amount,webhook_session_id:e.webhook_session_id||p.default.getWebhookSessionId(),use_promo:e.use_promo||"",page_type:t.page_type,cohort_id:t.cohort_id},mode:n,page_type:"home"})}},{key:"constructURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r({public_api_key:a.default.getPublicApiKey()},e);return g+"?"+t.urlParamsToQueryString(n)}},{key:"urlParamsToQueryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,h.default)(e,function(e){return null!==e&&void 0!==e});return e&&Object.keys(t).length?""+Object.keys(t).map(function(e){return t[e]?encodeURIComponent(e)+"="+encodeURIComponent(t[e]):""}).join("&"):""}},{key:"POPUP_NAME",get:function(){return"Prequal"}},{key:"POPUP_OVERLAY_MESSAGE",get:function(){return"Please click continue if you don't see the Affirm Prequal window. You may need to turn off your pop-up blocker."}},{key:"POST_MESSAGE_ID",get:function(){return"AFFIRM_PREQUAL_MESSAGES"}}]),o(t,[{key:"close",value:function(e){var n=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this,function(){n.isPrequalComplete||n.unload(),u.default.trigger("prequal:close"),"function"==typeof e&&e()})}},{key:"open",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.default.determineMode(r.mode||this.config.mode||f.default.MODE_MODAL).then(function(o){if(o===f.default.MODE_UNSUPPORTED)return(0,l.showError)({body:"Affirm Prequal requires third party cookies in order to work properly. Please enable them in your settings before continuing, or use a different browser.",title:"Your browser is missing important features"}),void("function"==typeof e&&e());n.config=Object.assign(n.config,r,{mode:o}),o===f.default.MODE_MODAL?A.default.trackImpression("Prequal Modal Page"):o===t.MODE_POPUP&&A.default.trackImpression("Prequal Popup Page"),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",n).call(n,e)})}},{key:"postMessageListener",value:function(e){var n=d.default.parsePostMessageData(e);if(n&&n.id===t.POST_MESSAGE_ID)switch(n.name){case"AFFIRM_PREQUAL_FINISHED":this.isPrequalComplete=!0,this.trigger("prequalFinished",n.data);break;case"AFFIRM_PREQUAL_SIGNED_OUT":this.trigger("prequalSignedOut");break;case"AFFIRM_PREQUAL_CLOSE":this.close(),c.default.shouldOpenToastOnSuccess()&&c.default.open(!0);break;case"AFFIRM_PREQUAL_INIT":this.clearTimers(!0)}}},{key:"unload",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this),p.default.unbind(window,"message",this.postMessageListener)}}]),t}();t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssignmentStorage=t.TRACK_TREATMENT_IMPRESSION=t.TRACK_DEFAULT_IMPRESSION=t.ERROR_TRACKING_NO_EXPERIMENTS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(62)),i=l(n(63)),a=l(n(1)),s=l(n(25)),u=l(n(14)),c=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function e(){f(this,e)}return r(e,null,[{key:"delete",value:function(t){var n=e.get();delete n[t],e.put(n)}},{key:"get",value:function(){var t=localStorage.getItem(e.STORAGE_KEY);return t?JSON.parse(t):{}}},{key:"getAssignment",value:function(t){return e.get()[t]||null}},{key:"put",value:function(t){localStorage.setItem(e.STORAGE_KEY,JSON.stringify(t))}},{key:"STORAGE_KEY",get:function(){return"affirmExperiments"}}]),e}(),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),(0,c.default)(this,"flushImpressions","setFlushImpressionsTimer"),this.config=Object.assign({},t),this.impressionsQueue=[],this.isCachingEnabled=s.default.localStorage()&&!!this.config.assignmentCacheTtl,this.networkErrorCount=0,this.thresholdOverageCount=0,this.setFlushImpressionsTimer()}return r(e,[{key:"IMPRESSIONS_FLUSH_BASE_INTERVAL",get:function(){return"number"==typeof this.config.impressionsFlushBaseInterval?this.config.impressionsFlushBaseInterval:2e3}},{key:"IMPRESSIONS_QUEUE_THRESHOLD",get:function(){return"number"==typeof this.config.impressionsQueueThreshold?this.config.impressionsQueueThreshold:5}},{key:"NETWORK_RETRY_THRESHOLD",get:function(){return"number"==typeof this.config.networkRetryThreshold?this.config.networkRetryThreshold:3}}],[{key:"cacheAssignment",value:function(e,t,n,r){var o=d.get();o[e]={cacheTimestamp:r||Date.now(),data:t,input:n},d.put(o)}},{key:"getUnique",value:function(e){return e.filter(function(t,n){return e.indexOf(t)===n})}},{key:"DEVICE_FINGERPRINT_HEADER",get:function(){return"Affirm-Device-Fingerprint"}},{key:"FINGERPRINT_UNIT_TYPE",get:function(){return"device_fingerprint"}},{key:"MERCHANT_API_KEY_HEADER",get:function(){return"Affirm-Public-API-Key"}},{key:"PROJECT_HEADER",get:function(){return"Affirm-Platform"}},{key:"USER_ARI_UNIT_TYPE",get:function(){return"user_ari"}}]),r(e,[{key:"constructAssignmentsUrl",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.FINGERPRINT_UNIT_TYPE,r=t||[],o=n===e.USER_ARI_UNIT_TYPE,i=r.join(","),a=i?"&experiments="+i:"";return this.config.experimentsUrl+"?is_user_logged_in="+o+a}},{key:"fetchAllAssignments",value:function(e){return this.fetchAssignments(null,e)}},{key:"fetchAssignments",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.bucketingUnitType,s=t||[],c=this.getCommonHeaders();c[e.MERCHANT_API_KEY_HEADER]=r.merchantPublicApiKey;var l=(0,u.default)(c,function(e){return null!==e&&void 0!==e&&""!==e});return a.default.Tracker.getDeviceIdAsync().then(function(){return(0,i.default)(n.constructAssignmentsUrl(s,o),null,"GET",l).then(function(e){if(200!==e.responseStatus)throw new Error(e.responseData.message);return e.responseData})},function(){return Promise.resolve({experiments:{}})})}},{key:"flushImpressions",value:function(){var e=this;if(!this.impressionsQueue.length)return Promise.resolve(!1);var t={async:!1,impressions:this.impressionsQueue};return(0,i.default)(this.config.impressionsUrl,t,"POST",this.getCommonHeaders()).then(function(t){if(200!==t.responseStatus)throw new Error(t.responseData.message);return e.impressionsQueue=[],e.networkErrorCount=0,t.responseData}).catch(function(t){throw e.networkErrorCount+=1,e.networkErrorCount>e.NETWORK_RETRY_THRESHOLD&&(e.impressionsQueue=[]),t})}},{key:"getAllAssignments",value:function(e){return this.getAssignments(null,e)}},{key:"getAssignments",value:function(t,n){var r=this,o={},i=void 0,a=void 0,s=t?e.getUnique(t):[];if(this.isCachingEnabled?(i=[],s.forEach(function(e){(a=r.getCachedAssignment(e,n))?o[e]=a:i.push(e)})):i=s,s.length&&!i.length)return Promise.resolve(o);var u=Date.now();return this.fetchAssignments(i,n).then(function(t){return Object.keys(t.experiments).forEach(function(r){var i=t.experiments[r];o[r]=i,e.cacheAssignment(r,i,n,u)}),o}).catch(function(){return o})}},{key:"getCachedAssignment",value:function(e,t){var n=d.getAssignment(e);if(n)if(Date.now()-n.cacheTimestamp<this.config.assignmentCacheTtl){if(!n.input&&!t||(0,o.default)(n.input,t))return n.data}else d.delete(e);return null}},{key:"getCommonHeaders",value:function(){var t={Accept:"application/json","Content-Type":"application/json"};return t[e.DEVICE_FINGERPRINT_HEADER]=a.default.Tracker.getDeviceId(),t[e.PROJECT_HEADER]=this.config.projectName,t}},{key:"setFlushImpressionsTimer",value:function(){var e=this;clearTimeout(this.impressionsQueueTimer);var t=this.impressionsQueue.length>this.IMPRESSIONS_QUEUE_THRESHOLD;return this.flushImpressions().then(function(){return!0}).catch(function(){return!1}).then(function(n){!n||t?e.thresholdOverageCount+=1:e.thresholdOverageCount=0;var r=Math.pow(2,e.thresholdOverageCount);return e.impressionsQueueTimer=setTimeout(e.setFlushImpressionsTimer,e.IMPRESSIONS_FLUSH_BASE_INTERVAL*r),e.impressionsQueueTimer})}},{key:"trackImpression",value:function(e,t,n,r){this.trackImpressions([{experimentName:e,impressionData:n,impressionTag:r,impressionType:t}])}},{key:"trackImpressions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=d.get(),n=[],r=(new Date).toISOString();if(e.forEach(function(e){var o=t[e.experimentName];if(o){var i={assignment:o.data,data:e.impressionData,impression_at:r,impression_tag:e.impressionTag,impression_type:e.impressionType},a=(0,u.default)(i,function(e){return null!==e&&void 0!==e&&""!==e});n.push(a)}}),!n.length)throw new Error("No experiments to track");this.impressionsQueue=this.impressionsQueue.concat(n)}}]),e}();t.ERROR_TRACKING_NO_EXPERIMENTS="No experiments to track",t.TRACK_DEFAULT_IMPRESSION="shown_default",t.TRACK_TREATMENT_IMPRESSION="shown_treatment",t.AssignmentStorage=d,t.default=p},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=o,t.enabled=i,t.erase=a,t.read=s;var r={};function o(e,t,n){try{var r=void 0;if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toUTCString()}else r="";document.cookie=e+"="+t+r+"; path=/"}catch(e){}}function i(){try{if(window.navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var e=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}function a(e){try{r.create(e,"",-1)}catch(e){}}function s(e){try{for(var t=document.cookie.split(";"),n=0;n<t.length;n+=1){var r=t[n],o=new RegExp("s*"+e+"=(.*)").exec(r);if(o&&o.length>1)return o[1]}}catch(e){}return null}r.create=o,r.enabled=i,r.erase=a,r.read=s,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),o={};o.cookies=r.enabled,o.cors=function(){return!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest)},o.json=function(){try{return window.JSON.parse(window.JSON.stringify({affirmsniffer:!0})),!0}catch(e){return!1}},o.localStorage=function(){try{return window.localStorage.setItem("affirmsniffer","affirmsniffer"),window.localStorage.getItem("affirmsniffer"),window.localStorage.removeItem("affirmsniffer"),!0}catch(e){return!1}},o.postMessage=function(){return!!window.postMessage},o.thirdPartyCookies=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){return window.fetch(e,{credentials:"include",headers:{Accept:"application/json"},method:"GET"})}(e).then(function(e){return e.json()}).then(function(n){return!!n.cookie_sent||!t&&o.thirdPartyCookies(e,!0)}).catch(function(e){var t=window.Rollbar||window.affirm&&window.affirm.Rollbar;return t&&t.error("Error conducting third party cookie check",e),!1})},t.default=o},function(e,t,n){var r,o,i,a,s;r=n(3).default,o=n(2).default,n(13).default,s=n(0),i=n(75),a={__products:{},__callbacks:[],get:function(e,t){var n,u,c,l;return null==t&&(t=function(){}),this.__products[e]?s.delay((l=this,function(){return t(l.__products[e])})):(u=s.get_domain(o.assets_root),n=function(){var n,s;return s=u+"0/merchant/"+r.getPublicApiKey()+"/product/"+e+"/config.json",n="_"+Math.round(1e14*Math.random()),a.__callbacks[n]=function(n){a.__products[e]=n;try{t(n)}catch(e){}try{return o.merchant=n.merchant_name}catch(e){}},i.loadjs(s+"?callback=affirm.product.__callbacks."+n)},r.getPublicApiKey()?n():(c=function(){return n(),r.off("public_api_key_set",c)},r.on("public_api_key_set",c)))},clearCache:function(){return this.__products={}}},e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(18)),i=u(n(35)),a=u(n(5)),s=u(n(36));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,a.default)(n,"disablePageScroll","resetPageScroll"),n.registerEventHandlers(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,null,[{key:"MAX_ZINDEX_VALUE",get:function(){return 2147483647}}]),r(t,[{key:"close",value:function(e){i.default.close(e)}},{key:"disablePageScroll",value:function(){void 0===this.bodyOverflowStyle&&this.disablePageScrollOnShow()&&(this.bodyHasVerticalScroll=s.default.hasVerticalScrollbar(),this.htmlOverflowStyle=document.documentElement.style.overflow,document.documentElement.style.overflow="unset",this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden")}},{key:"disablePageScrollOnShow",value:function(){return!0}},{key:"open",value:function(e){var t=this;if(this.isOrphan()){var n=void 0;this.on("ready",n=function(){t.off("ready",n),i.default.open(t),"function"==typeof e&&e()}),i.default.load(this)}else i.default.open(this)}},{key:"preload",value:function(){i.default.load(this)}},{key:"registerEventHandlers",value:function(){this.on("hiding",this.resetPageScroll).on("showing",this.disablePageScroll)}},{key:"resetPageScroll",value:function(){document.documentElement.style.overflow=this.htmlOverflowStyle,delete this.htmlOverflowStyle,document.body.style.overflow=this.bodyOverflowStyle,delete this.bodyOverflowStyle}},{key:"unload",value:function(){i.default.remove(this)}}]),t}();t.default=c},function(e,t,n){"use strict";(function(e){!function(e){function t(){this._callbacks=[]}function n(e,n,r,i){var a,s,u=new t;r=r||{},i=i||{};try{a=function(){var e;if(window.XMLHttpRequest)(e=new XMLHttpRequest).withCredentials=!0;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}return e}()}catch(e){return u.done(o.ENOXHR,""),u}for(var c in s=function(e){var t="";if("string"==typeof e)t=e;else{var n=encodeURIComponent;for(var r in e)e.hasOwnProperty(r)&&(t+="&"+n(r)+"="+n(e[r]))}return t}(r),"GET"===e&&s&&(n+="?"+s,s=null),a.open(e,n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i)i.hasOwnProperty(c)&&a.setRequestHeader(c,i[c]);var l=o.ajaxTimeout;if(l)var f=setTimeout(function(){a.abort(),u.done(o.ETIMEOUT,"",a)},l);return a.onreadystatechange=function(){if(l&&clearTimeout(f),4===a.readyState){var e=!a.status||(a.status<200||a.status>=300)&&304!==a.status;u.done(e,a.responseText,a)}},a.send(s),u}function r(e){return function(t,r,o){return n(e,t,r,o)}}t.prototype.then=function(e,n){var r;return this._isdone?r=e.apply(n,this.result):(r=new t,this._callbacks.push(function(){var t=e.apply(n,arguments);t&&"function"==typeof t.then&&t.then(r.done,r)})),r},t.prototype.done=function(){this.result=arguments,this._isdone=!0;for(var e=0;e<this._callbacks.length;e++)this._callbacks[e].apply(null,arguments);this._callbacks=[]};var o={Promise:t,join:function(e){var n=new t,r=[];if(!e||!e.length)return n.done(r),n;var o=0,i=e.length;function a(e){return function(){o+=1,r[e]=Array.prototype.slice.call(arguments),o===i&&n.done(r)}}for(var s=0;s<i;s++)e[s].then(a(s));return n},chain:function e(n,r){var o=new t;return 0===n.length?o.done.apply(o,r):n[0].apply(null,r).then(function(){n.splice(0,1),e(n,arguments).then(function(){o.done.apply(o,arguments)})}),o},ajax:n,get:r("GET"),post:r("POST"),put:r("PUT"),del:r("DELETE"),ENOXHR:1,ETIMEOUT:2,ajaxTimeout:0};e.exports=o}(e)}).call(this,n(23)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}var i=new(o(n(78)).default);t.default=(0,r.default)(i,["close","isMupMerchant","open","shouldOpenToastOnPageTypeUpdate","shouldOpenToastOnSuccess"])},function(e,t,n){var r,o,i,a,s,u,c,l,f;c=n(28),s=n(8),i=n(2).default,n(0),r=n(3).default,f=n(1),n(38),o={},l=function(){return affirm.util.get_domain(i.payments_url_base)+"promos/payment_estimate_path"},a=function(e,t){var n;return"$"+(e/100|0)+"."+(n=(n=e%100)<10?"0"+n:n)+"/mo "+t[0].toLowerCase()+t.slice(1)},u={get_estimate:function(e,t){var n,i,u,d,p,A,h,m,g;return n=e.amount,i=e.apr,p=e.months,h=(A=new Date).getUTCFullYear()+"/"+(A.getUTCMonth()+1)+"/"+A.getUTCDate(),m=r.getPublicApiKey(),u=o[d=[n,i,p,h]],g=l(),u?c=u:(c=window.fetch(g+"/"+m+"/"+i+"/"+n+"/"+p+"?date="+h).then(function(e){return e.ok?e.json().then(function(t){return{url:e.url,status:e.status,json:t}}):e.json().then(function(t){return f.trackAPI(e.url,e.status,t.message),Promise.reject("Could not get an estimate for apr: "+i+", amount: "+n+", months: "+p+". Error: "+t.error)})}).then(function(t){var r,o,u,c;return c=t.url,u=t.status,r=t.json,f.trackAPI(c,u,r.disclosure),(o=r).open_modal=function(t){return null!=t&&"function"==typeof t.preventDefault&&t.preventDefault(),f.trackUserInteraction("Promo Modal",f.USER_ACTIONS.CLICK),new s({disclosure:a(o.payment,o.disclosure),amount:n,payment:o.payment,months:p,termLength:o.months,apr:i,DOMNode:e.elem})},o}),o[d]=c),t&&c.then(t),c}},e.exports=u},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e){return-1!==e.indexOf("Opera")||-1!==e.indexOf("OPR")?"Opera":-1!==e.indexOf("Edge")?"Edge":-1!==e.indexOf("Chrome")?"Chrome":-1!==e.indexOf("Safari")?"Safari":-1!==e.indexOf("Firefox")?"Firefox":-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident")?"IE":"Other"}},function(e,t){var n;n=function(e){var t;return null==e&&(e={}),t={},Object.keys(e).forEach(function(r){var o;if(e.hasOwnProperty(r))return Array.isArray(e[r])?t[r+"_json"]=JSON.stringify(e[r]):"object"==typeof e[r]&&null!==e[r]?(o=n(e[r]),Object.keys(o).forEach(function(e){return t[r+"."+e]=o[e]})):t[r]=e[r]}),t},e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bind:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},unbind:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}}},function(e,t,n){var r,o,i=function(e,t){return function(){return e.apply(t,arguments)}},a=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};n(13).default,o=n(0),r=function(){function e(){this.close=i(this.close,this),this.widgets=[],this.hidden=!0}return 250,e.prototype.load=function(e){return e.options.container=document.body,e.paint(),this.widgets.push(e)},e.prototype.open=function(e,t){return this.hidden?(a.call(this.widgets,e)<0&&this.load(e),e.show(),this.hidden=!1,o.delay(function(){if("function"==typeof t)return o.delay(t,250)})):this.transition(e,t)},e.prototype.close=function(e){var t,n,r;if(!this.hidden){for(t=0,n=(r=this.widgets).length;t<n;t++)r[t].hide();return this.hidden=!0,o.delay(function(){if("function"==typeof e)return e()},250)}"function"==typeof e&&e()},e.prototype.transition=function(e,t){var n,r,i,s;if(this.hidden)return this.open(e,t);for(a.call(this.widgets,e)<0&&this.load(e),r=0,i=(s=this.widgets).length;r<i;r++)(n=s[r])!==e&&n.hide();return e.show(),o.delay(function(){if("function"==typeof t)return t()},250)},e.prototype.remove=function(e){var t;if(this.widgets=function(){var n,r,o,i;for(i=[],n=0,r=(o=this.widgets).length;n<r;n++)(t=o[n])!==e&&i.push(t);return i}.call(this),e.remove)return e.remove()},e}(),e.exports=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getScrollbarWidth:function(){var e=document.createElement("div");e.style.msOverflowStyle="scrollbar",e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),t-r},hasVerticalScrollbar:function(){return window.innerWidth>document.documentElement.clientWidth}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(22)),o=a(n(2)),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var s=o.default.frontend_url.replace(/\/$/,"")+"/",u=new r.default({assignmentCacheTtl:3e5,experimentsUrl:s+o.default.resource_urls.experiments,impressionsUrl:s+o.default.resource_urls.experimentImpressions,networkRetryThreshold:0,projectName:"affirm_js"});t.default=(0,i.default)(u,["getAllAssignments","getAssignments","trackImpression"])},function(e,t,n){"use strict";e.exports={using_cdn:"Used CloudFront for this request",checkout_saved:"Checkout Saved",no_redirect_url_returned:"No redirect_url returned in callback",checkout_save_response_error:"Checkout Save Response Error",button_widget_created:"Button Widget Created",button_widget_rendered:"Button Widget Rendered",checkout_start:"Checkout Start",checkout_launched:"Checkout Launched",payment_estimate_response:"Payment Estimate Response",open_promo_modal:"Open Promo Modal",unknown_error_code:"Unknown error code",exception_page:"Exception Page",error_page:"Error Page",error_redirect_called:"Error Redirect Called",unknown_error:"Unknown Error",cookie_disabled:"Cookies Disabled",local_storage_disabled:"localStorage Disabled",no_cors:"CORS not available",no_is_array:"Array.isArray not available",no_post_message:"postMessage not available",no_get_elemet_by_class:"getElementsByClassName not available",device_not_supported:"device not supported",client_side_form_error:"Client-side Form Error",payment_type_selected:"Payment type selected",copy_paste_cut:"Form input copy/paste/cut detected",user_message:"User Message",institution_search_page:"Institution Search Page",cant_find_back:"Can't Find Bank",insitution_not_found_page:"Institution Not Found Page",insitution_not_found_back:"Institution Not Found Back",insitution_not_found_submit:"Institution Not Found Submit",insitution_not_found_success:"Institution Not Found Success",already_connected_account_page:"Already connected account page",already_connected_account_back_button:"Already connected account back button",institution_auth_page:"Institution Auth Page",institution_auth_form_loaded:"Institution Auth Form Loaded",institution_auth_back_button:"Institution Auth Back Button",institution_auth_submit:"Institution Auth Submit",institution_auth_success:"Institution Auth Success",institution_auth_error:"Institution Auth Error",update_account_page:"Update Account Page",update_account_submit:"Update Account Submit",update_account_success:"Update Account Success",update_account_form_error:"Account update client-side form error",login_page:"Login Page",login_submit:"Login Submit",login_form_error:"Login form client side error",login_success:"Login Success",auth_questions_shown:"Auth Questions Shown",empty_auth_question_set:"Empty Auth Question Set",auth_questions_submit:"Auth Questions Submit",auth_questions_form_error:"Auth Questions client side form error",auth_questions_answered:"Auth Questions Answered",address_conf_shown:"Address Conf: Shown",address_conf_suggested_rejected:"Address Conf: Suggestion(s) Rejected",address_conf_single_accepted:"Address Conf: Single Suggestion Accecpted",address_conf_many_accepted:"Address Conf: One of Many Suggestion Accecpted",address_conf_manual_address:"Address Conf: Manual Address Submitted",address_conf_submit_attempt:"Address Conf: Submit Attempt",address_conf_submit_success:"Address Conf: Submit Success",address_conf_submit_error:"Address Conf: Submit Error",signup_page:"Signup Page",signup_form_submit:"Signup Form Submit",signup_form_error:"Signup Form client side error",verify_page:"Verify Page",verify_form_submit:"Verify Form Submit",sms_pin_verified:"SMS security pin verified",resend_verification_code:"Resend Verification Code",resend_code_error:"Resend Code Error",verify_income_page_loaded:"Verify Income Page Loaded",verify_income_submit:"Verify Income Page Submit",verify_income_submit_success:"Verify Income Page Submit Success",user_created:"User Created",user_already_exists:"User Create - User Exists",session_expired:"Session Expired",logout:"Logout",verified:"Verified",authenticated:"Authenticated",redirect_to_stores_after_login:"Redirected to Stores page after login",user_clicked_signup_disclosure_link:"User clicked signup disclosure link",help_page:"Help Page",help_page_back_button:"Help Page Back Button",help_form_submit:"Help Form Submitted",help_form_error:"Client side help form error",help_form_success:"Help Form Success",help_modal_opened:"Help Modal Opened",contextual_FAQ_modal_opened:"Contextual FAQ Modal Opened",contextual_FAQ_modal_closed:"Contextual FAQ Modal Closed",help_form_modal_opened:"Help Form Modal Opened",help_form_modal_closed:"Help Form Modal Closed",FAQ_opened:"FAQ Opened",FAQ_closed:"FAQ Closed",full_FAQ_list_clicked:"Link to Full FAQ List Clicked",phone_number_clicked:"Link to Phone Number Clicked",checkout_loaded:"Checkout Loaded",sandbox_warning_dismissed:"Sandbox warning dismissed",user_cancelled_checkout:"User Cancelled Checkout",exception_connected_account_mismatch:"Connected Account Mismatch",account_mismatch_try_another:"Try Another Account",account_mismatch_cancel_application:"Cancel Application",cancel_preapproval_notice:"Cancel Preapproval Notice",cancel_preapproval:"Cancel Preapproval Notice",loan_application_missing_fields:"Loan Application missing fields",requesting_loan_terms:"Requesting Loan Terms",terms_page_loaded:"Terms Page Loaded",loan_terms_selected:"Loan Terms Selected",loan_terms_submit:"Terms Page Submit",loan_terms_missing_unknown:"Loan terms application-missing-fields with unknown field",terms_disclosure_checked:"Terms disclosure checked",confirm_page_loaded:"Confirm Page Loaded",confirm_page_submit:"Confirm Page Submit",confirm_page_back:"Confirm Page Back",confirm_modal_submit:"Confirm Modal Submit",confirm_modal_seen:"Confirm Modal Seen",autopay_learn_more:"Autopay Learn More",autopay_disable:"Autopay Disable",autopay_enable:"Autopay Enable",checkout_complete:"Checkout Complete",confirm_page_error:"Confirm Page Error",til_page_loaded:"TIL Page Loaded",til_page_back:"TIL Page Back",til_page_submit:"Til Page Confirm",prequal_cta_banner_loaded_product_page:"Prequal CTA banner loaded on a product page",prequal_cta_banner_loaded_on_upfunnel_page:"Prequal CTA banner loaded on a upfunnel page",prequal_cta_banner_dismissed:"Prequal CTA banner dismiss",prequal_cta_banner_click:"Prequal CTA banner click",prequal_toast_banner_loaded:"Prequal toast banner loaded",prequal_toast_banner_dismissed:"Prequal toast banner dismissed",prequal_create:"Prequal Create",prequal_create_success:"Prequal Create Success",prequal_approved:"Prequal Approved",prequal_denied:"Prequal Denied",prequal_create_card_click:"Prequal Create Card Click",prequal_instore_declination_finish_button_click:"Prequal finished post in-store declination",prequal_launched:"Prequal Launched",online_prequal_education_page_loaded:"Prequal education page loaded",online_prequal_learn_more_continue:"Prequal education page -- clicked continue",online_prequal_data_validation_failed:"Prequal data failed validation",prequal_approval_page_loaded_online_flow:"Prequal approval page loaded -- online flow",online_prequal_approval_page_finish_button_click:"Prequal finished post online approval",prequal_declination_page_loaded_online_flow:"Prequal declination page loaded -- online flow",online_prequal_declination_page_details_link:"Prequal declination details link click",online_prequal_declination_page_finish_button_click:"Prequal finished post online declination",sign_out_click:"User clicked sign out",header_back_link:"User clicked header back link",active_tab_link:"User clicked header active loans tab link",past_tab_link:"User clicked header past loans tab link",dropdown_clicked:"User clicked dropdown icon",share_click:"User clicked share",share_modal_click:"User clicked share in modal",share_modal_dismissed:"User dismissed share modal",share_modal_seen:"User saw share modal",disclosure_page:"Disclosure Page",disclosure_page_loading_error:"Disclosure Page Loading Error",notification_page:"Notification Page",notification_page_loading_error:"Notification Page Loading Error",nav_loans_link:"User Portal Loans Page from Nav",nav_store_link:"User Portal Store Page from Nav",nav_settings_link:"User Portal Settings Page from Nav",nav_card_link:"User Portal Card Page from Nav",nav_card_waitlist_link:"User Portal Card Waitlist Page from Nav",user_portal_payment_page:"User Portal Payment Page",user_portal_payment_page_view:"User Portal Payment Page View",user_portal_payment_form_submit:"User Portal Payment Form Submit",user_portal_payment_request_submit:"User Portal Payment Request Submit",user_portal_payment_request_success:"User Portal Payment Request Success",user_portal_payment_request_failure:"User Portal Payment Request Failure",user_portal_payment_autopay_submit:"User Portal Payment Autopay Submit",user_portal_payment_autopay_success:"User Portal Payment Autopay Success",user_portal_payment_autopay_failure:"User Portal Payment Autopay Failure",user_portal_payment_autopay_page_not_now:"User Portal Payment Autopay Not Now",user_portal_payment_new_instrument_submit:"User Portal Payment New Instrument Submit",user_portal_payment_new_instrument_success:"User Portal Payment New Instrument Success",user_portal_payment_new_instrument_failure:"User Portal Payment New Instrument Failure",user_portal_payment_schedule_request_submit:"User Portal Payment Schedule Request Submit",user_portal_payment_schedule_request_success:"User Portal Payment Schedule Request Success",user_portal_payment_schedule_request_failure:"User Portal Payment Schedule Request Failure",user_portal_date_selected:"User Portal Date Selected",user_portal_payment_instrument_selected:"User Portal Payment Instrument Selected",user_portal_payment_amount_selected:"User Portal Payment Amount Selected",user_portal_recent_payment_modal:"User Portal Recent Payment Modal",user_portal_recent_payment_modal_continue:"User Portal Recent Payment Modal Continue",user_portal_recent_payment_modal_back:"User Portal Recent Payment Modal Back",user_portal_payment_success_auto_redirect:"User Portal Payment Success Auto Redirect",user_portal_payment_success_continue:"User Portal Payment Success Continue",user_portal_loan_timeline_event_cancel:"User Portal Loan Timeline Event Cancel",user_portal_loan_timeline_event_back:"User Portal Loan Timeline Event Back",user_portal_loan_timeline_event_confirm:"User Portal Loan Timeline Event Confirm",autopay_settings_page:"Autopay Settings Page",autopay_disable_submit:"Autopay Disable Submit",autopay_disable_success:"Autopay Disable Success",autopay_enable_submit:"Autopay Enable Submit",autopay_enable_success:"Autopay Enable Success",autopay_enable_failure:"Autopay Enable Failure",autopay_instrument_selected:"Autopay instrument selected from dropdown",loan_details_page:"Loans Detail Page",make_payment_from_loan_details_page:"Make Payment from Loan Details Page",make_one_time_payment_from_loan_details_page:"Make One-Time Payment from Loan Details Page",autopay_from_loan_details_page:"Enable Autopay from Loan Details Page",edit_autopay_from_loan_details_page:"Edit Autopay from Loan Details Page",show_term_definitions_loan_details_page:"Show Term Definitions on Loan Details Page",hide_term_definitions_loan_details_page:"Hide Term Definitions on Loan Details Page",loan_terms_loan_details_page:"Loan Terms from Loan Details Page",click_loan_cancellation_button:"Click Loan Cancellation Button",loans_page:"Loans Page",autopay_from_loans_page:"Autopay from Loans Page",make_payment_from_loans_page:"Make Payment from Loans Page",loan_get_with_no_id:"Tried to get loan without ID set",featured_merchant_page:"Featured Merchant Page",featured_merchant_open:"Merchant List - Modal Open ",featured_merchant_close:"Merchant List - Modal Close ",featured_merchant_click:"Redirect to ",settings_page:"Settings Page",dropdown_settings_page:"Settings Page from Dropdown",delete_instrument:"User delete instrument from settings",reconnect_account_from_settings:"Reconnecting account from settings page",disconnect_institution_from_settings:"User disconnect institution from settings",payment_method_tooltip:"Payment method tooltip from settings",connected_account_tooltip:"Connected account tooltip from settings",info_sharing_opt_in:"User opted in to info sharing",info_sharing_opt_out:"User opted out of info sharing",personalized_services_opt_in:"Personalized services opt-in",personalized_services_opt_out:"Personalized services opt-out",mci_page:"User Portal In-store MCI Page",vcn_input_amount:"VCN input amount",vcn_amount_shown:"VCN Amount Shown",vcn_amount_submit:"VCN amount submit",vcn_create_card_successful:"VCN Create card successful",vcn_create_card_failed:"VCN Create card failed",vcn_custom_category_selected:"VCN Custom Category Selected",vcn_card_page:"VCN card page",vcn_card_page_request_card:"VCN card page request card",success_canceling_card:"Success canceling card",error_canceling_card:"Error canceling card",web_anywhere_shown:"Web Anywhere Shown",web_anywhere_search_cell_clicked:"Web Anywhere Search Cell Clicked",web_anywhere_active_card_tab_clicked:"Web Anywhere Active Card From User Portal Navigation",web_anywhere_stores_show_on_web:"Web VCN Stores Shown on User Portal",web_anywhere_onboarding_shown:"VCN Onboarding Shown",web_anywhere_onboarding_cancelled:"VCN Onboarding Cancelled",web_anywhere_cancel_duplicate_card_succeeded:"Web Anywhere Cancel Duplicate Card Succeeded",web_anywhere_cancel_duplicate_card_failed:"Web Anywhere Cancel Duplicate Card Failed",offer_list:"Web Anywhere Offers shown",offer_card_click:"Web Anywhere Offers card clicked",offer_modal_closed:"Web Anywhere Offers details modal closed",offer_modal_get_started:"Web Anywhere Offers details modal get started",guarantees_header_locked:"Web Anywhere Guarantees locked state shown",guarantees_header_active:"Web Anywhere Guarantees active guarantee state shown",guarantees_header_extended_victim:"Web Anywhere Guarantees extended victim state shown",guarantees_header_bank_auth:"Web Anywhere Guarantees bank auth state shown",guarantees_header_income_verification:"Web Anywhere Guarantees income verification state shown",guarantees_header_no_previous:"Web Anywhere Guarantees no previous guarantee state shown",guarantees_header_permalocked:"Web Anywhere Guarantees permalocked state shown",guarantees_header_cta:"Web Anywhere Guarantees header cta clicked",guarantees_modal_onboarding:"Web Anywhere Guarantees onboarding modal shown",guarantees_modal_locked:"Web Anywhere Guarantees locked modal shown",guarantees_modal_extended_victim:"Web Anywhere Guarantees extended victim modal shown",guarantees_modal_bank_auth:"Web Anywhere Guarantees bank auth modal shown",guarantees_modal_income_verification:"Web Anywhere Guarantees income modal shown",guarantees_modal_income_verification_input:"Web Anywhere Guarantees income modal input clicked",guarantees_modal_cta:"Web Anywhere Guarantees modal cta clicked",cobranding_getstarted_modal_page_view:"cobranding_getstarted_modal_page_view",cobranding_getstarted_modal_page_tapped:"cobranding_getstarted_modal_page_tapped",cobranding_getstarted_modal_page_exited:"cobranding_getstarted_modal_page_exited",featured_offer_card_click:"Web Anywhere Featured Offers card clicked",featured_offer_modal_closed:"Web Anywhere Featured Offers details modal closed",featured_offer_modal_get_started:"Web Anywhere Featured Offers details modal get started",web_savings_tab_exposure:"web_savings_tab_exposure",web_savings_tab_tap:"web_savings_tab_tap",web_savings_tab_page_view:"web_savings_tab_page_view",web_savings_tab_taps_waitlist_cta:"web_savings_tab_taps_waitlist_cta",web_waitlist_disclosure_shown:"web_waitlist_disclosure_shown",web_waitlist_disclosure_closed:"web_waitlist_disclosure_closed",user_verification_poll:"User Verification -- 3: poll",user_verification_keep_polling:"User Verification -- 3: keep polling",user_verification_appear:"User Verification -- 0: appear",user_verification_already_done:"User Verification -- 1: already done",user_verification_already_in_progress:"User Verification -- 1: already in progress",user_verification_initiation_error:"User Verification -- 1: error",user_verification_initiated:"User Verification -- 1: initiated",user_verification_initiation_unknown:"User Verification -- 1: unknown",user_verification_initiation_exception:"User Verification -- 1: exception",user_verification_upload_start:"User Verification -- 2: start uploading",user_verification_upload_complete:"User Verification -- 2: uploaded... trigger verify",user_verification_upload_already_done:"User Verification -- 2: already done",user_verification_upload_start_polling:"User Verification -- 2: start polling",user_verification_upload_error:"User Verification -- 2: error",user_verification_upload_unknown:"User Verification -- 2: unknown",user_verification_upload_exception:"User Verification -- 2: exception",user_verification_status_done:"User Verification -- 3: done",user_verification_status_error:"User Verification -- 3: error",user_verification_status_unknown:"User Verification -- 3: unknown",user_verification_status_exception:"User Verification -- 3: exception",user_verification_status_polling:"User Verification -- 3: status polling started",user_verification_status_start_over:"User Verification -- 4: start over",user_verification_open_photo_tips:"User Verification -- open photo tips",user_verification_close_photo_tips:"User Verification -- close photo tips",user_verification_take_photo:"User Verification -- take photo",user_verification_retake_photo:"User Verification -- retake photo",user_verification_cancel_take_photo:"User Verification -- cancel take photo",modal_popup_open:"Modal open with title: ",modal_popup_close:"Modal closed with title: ",modal_popup_option_called:" modal option selected: ",redux_action:"redux_action",clicked_ios_app_store_link:"Clicked iOS App Store link",clicked_android_play_store_link:"Clicked Android Play Store link",show_app_download_links:"Show app download links",clicked_text_app_download_link:"Clicked text app download link",show_text_app_download_link_success:"Show text app download link success",card_waitlist_page:"Card Waitlist Page",edit_phone_contact_phone_number_clicked:"Link to contact number clicked from edit phone info message",clicked_edit_phone_btn:"Clicked edit phone button",clicked_edit_email_btn:"Clicked edit email button",invalid_email_address_submit_attempt:"Attempted to submit an invalid email",suggestion_on_email_address_submit_attempt:"Attempted to submit an email with likely typo, and we offered a suggestion",bypassed_suggestion:"Chose to ignore our email address suggestion",took_suggestion:"Accepted our email address suggestion",clicked_save_email_change:"Clicked button to save email change",proposed_email_change_rejected:"Proposed email rejected",proposed_email_change_accepted:"Proposed email accepted",invalid_email_format_save_attempt:"Attempted to update email to an malformed address",no_login_payment_page:"No login payment page",no_login_payment_confirm:"No login payment confirm",no_login_payment_submit:"No login payment submit",no_login_payment_submit_confirmation:"No login payment submit confirmation",no_login_payment_error:"No login payment payment error",go_to_add_instrument_page:"Add Instrument Pressed From Settings",submit_add_instrument:"Submit Add Instrument From Settings Page",anywhere_banner_shown:"Anywhere Banner Shown",anywhere_banner_not_shown:"Anywhere Banner Not Allowed",redirected_to_new_email_entry:"New email entry - forced email update redirect upon login",submit_new_email_entry:"New email entry - email update attempted",failed_new_email_entry:"New email entry - email update submit failed",success_add_instrument:"Success Add Instrument From Settings Page",copy_info_in_user_account:"Copy information in user account",show_sidebar_details:"Show sidebar details",fetch_usercomm_content_sent:"Fetch usercomm content - PENDING",fetch_usercomm_content_success:"Fetch usercomm content - SUCCESS",fetch_usercomm_content_failed:"Fetch usercomm content - FAILED",select_application:"Select loan application from list",change_tab:"Change tab",crm_click_mordor_link:"Click Mordor link",show_modal:"Show Modal",close_modal:"Close Modal",form_changed:"Form Changed",make_payment_sent:"Make a Payment sent",make_payment_success:"Make a Payment successfully",future_payment_sent:"Future Payment sent",future_payment_success:"Future Payment scheduled successfully",make_payment_confirmation_modal:"Make a Payment Confirmation Modal"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}var i=new(o(n(86)).default);i.runQueuedActions(),t.default=(0,r.default)(i,["on","off","ready","trigger"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=m(n(20)),i=m(n(41)),a=m(n(3)),s=m(n(2)),u=m(n(7)),c=m(n(8)),l=m(n(11)),f=n(30),d=m(n(21)),p=m(n(42)),A=m(n(0));n(44);var h=m(n(1));function m(e){return e&&e.__esModule?e:{default:e}}var g={apr:.1,pricingTemplate:"Starting at {payment}/month with {affirm_logo}",termLength:12},_=["text","logo","symbol"],y=["black","blue","white"],v={},b=function(e){if(!e.isDefault){var t=u.default.get();return r({},t,{urlParams:{device_id:h.default.getTrackingKey(),merchant_name:t.merchant_name,promo_external_id:e.promoId,referring_url:encodeURIComponent(window.location.href),unit_price:e.amount,webhook_session_id:t.webhook_session_id||A.default.getWebhookSessionId(),page_type:e.pageType,use_promo:!0,cohort_id:e.cohortId},mode:l.default.MODE_MODAL,page_type:"home"})}return null},w=function(e){var t=a.default.getPublicApiKey();if(!e)return i.default.getPromoConfig(t,"as_low_as",e,g);var n="affirm-promo:"+t+"-"+e;if(!v[n]){var r=s.default.promos_url_prefix+"as_low_as/"+t+"/"+e+".json";v[n]=window.fetch(r).then(function(e){return e.json()}).catch(function(){return g})}return v[n]},E=function(e,t,n,r){return e=(e=(e=e.replace(/\{lowest_apr\}/gi,(100*n).toString())).replace(/\{payment\}/gi,'<span class="affirm-ala-price">$'+t+"</span>")).replace(/\{affirm_logo\}/gi,r)},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.promoId;if(t.isDefault)return c.default.openModal(e,t),Promise.resolve();var i=r+"-"+t.amount+"-"+t.pageType;return T.promoPrequalWidgets[i]?(T.promoPrequalWidgets[i].open(null,{mode:l.default.MODE_MODAL}),Promise.resolve()):o.default.getFinancingExperimentCohortId(a.default.getPublicApiKey()).then(function(e){t.cohortId=e;var r=b(t),o=new d.default(r);T.promoPrequalWidgets[i]=o,o.on(["prequalFinished","prequalSignedOut"],function(){n&&I(n)}),o.open(null,{mode:l.default.MODAL_MODE})})},O=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Learn more";if(n){""!==e.innerHTML&&(e.innerHTML+=". ");var i=document.createElement("a");i.innerHTML=o,i.setAttribute("href","javascript:void(0)"),i.onclick=function(n){n.preventDefault(),k(n,t,e)},e.appendChild(i)}else r&&(e.setAttribute("href","javascript:void(0)"),e.onclick=function(n){n.preventDefault(),k(n,t,e)},e.style="cursor: pointer;")},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],o=void 0,i=void 0,a=void 0;if(n.isDefault=!t.promo_prequal_enabled,t.termLengthIntervals){if(!(o=p.default.getTermLengthIntervalForAmount(t.termLengthIntervals,n.amount))){if(t.defaultMessage){var s=t.defaultMessage.replace(/\{affirm_logo\}/gi,n.affirmLogo),u=p.default.getMinAPR(t.termLengthIntervals);e.innerHTML=s.replace(/\{lowest_apr\}/gi,(100*u).toString()),T.setSiteWideModalOnElement(e,n)}else e.innerHTML="";return}i=o.apr,a=o.termLength}else{if(n.amount<5e3)return void(e.innerHTML="");i=t.apr,a=t.termLength}(0,f.get_estimate)({amount:n.amount,apr:i,months:a,elem:e}).then(function(o){n.apr=i,n.termLength=a,n.paymentString=o.payment_string,n.pricingTemplate=t.pricingTemplate,T.setPromoOnElement(e,n),T.setProductPageModalOnElement(e,n),r&&r()})},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("data-amount"),o=e.getAttribute("data-affirm-color")||"blue",s=e.getAttribute("data-affirm-type")||"logo",u="false"!==e.getAttribute("data-learnmore-show"),c=e.getAttribute("data-page-type"),l=void 0,f="XXXXXXXXXXXXXXX"===e.getAttribute("data-promo-id")?null:e.getAttribute("data-promo-id");if(l=t?"true"===e.getAttribute("data-clickable"):"false"!==e.getAttribute("data-clickable"),!n)throw new Error("Affirm: data-amount is required in as low as promos. Element:",e);if(n>175e4)return e.innerHTML="",Promise.resolve();if(-1===_.indexOf(s))throw new Error('Affirm: Received a wrong data-affirm-type value "'+s+'". Element:',e);if(-1===y.indexOf(o))throw new Error('Affirm: Received a wrong data-affirm-color value "'+o+'". Element:',e);var d=function(e,t){return"text"===t?"Affirm":'<span class="__affirm-logo __affirm-logo-'+e+'">'+("symbol"===t?"affirm":"Affirm")+"</span>"}(o,s);f?h.default.trackImpression("Custom As Low as Promo"):h.default.trackImpression("Default As Low as Promo"),p.default.isPromoSet(f)&&h.default.trackImpression("Promo Set Promo Modal");var A={amount:n,affirmLogo:d,learnMore:u,clickable:l,promoId:f,pageType:c},m=a.default.getPublicApiKey();if(i.default.useV2Api(m,f)){var g={promoId:A.promoId,amount:A.amount,pageType:A.pageType,logoType:s,showCTA:u?"true":"false",logoColor:o},v=i.default.TEMPLATE_FIELD.ala;return i.default.getPromoResponse(m,g,v).then(function(t){var n=t?t.promo:null;if(n&&n.config){var o={isDefault:"fast"===n.config.promo_style,amount:A.amount,pageType:A.pageType,promoId:f,type:"product_page_modal"};e.innerHTML=n.html_ala,l&&function(e,t){var n=e.getElementsByClassName("affirm-modal-trigger");if(0!==n.length){n.length>1&&h.default.trackEvent("too many affirm-modal-trigger elements found",r({numElements:n.length},t));var o=n[0];o.setAttribute("href","javascript:void(0)"),o.onclick=function(n){n.preventDefault(),k(n,t,e)}}else h.default.trackEvent("no affirm-modal-trigger found",r({},t))}(e,o)}})}return T.getConfig(f).then(function(t){P(e,t,A)})},S=function(e,t){return-1!==e.parentElement.className.indexOf(t)},T={defaultConfig:g,generatePromoPrequalConfig:b,getConfig:function(e){return p.default.isPromoSet(e)?p.default.getConfig(e,"asLowAs").catch(function(t){return w(e)}):w(e)},getDisplayText:E,getPromoConfig:w,openModalAssociatedWithPromoId:k,processConfigAndSetElement:P,promoPrequalWidgets:{},promos:v,setProductPageModalOnElement:function(e,t){var n=e.getAttribute("data-promo-id"),r=e.getAttribute("data-modal-id"),o={isDefault:t.isDefault,modalId:r,amount:t.amount,promoId:n,apr:t.apr,termLength:t.termLength,type:"product_page_modal"};O(e,o,t.learnMore,t.clickable)},setPromoOnElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.innerHTML=E(t.pricingTemplate,t.paymentString,t.apr,t.affirmLogo)},setSiteWideModalOnElement:function(e,t){var n=e.getAttribute("data-promo-id"),r=e.getAttribute("data-modal-id"),o={isDefault:t.isDefault,modalId:r,promoId:n,type:"site_wide_modal"};O(e,o,t.learnMore,t.clickable)},setupElement:I,setupElements:function(e){for(var t=0;t<e.length;t+=1){var n=e[t];try{var r=S(n,"affirm-product-modal")||S(n,"affirm-site-modal");I(n,r)}catch(e){console.error(e)}}}};t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(20)),o=u(n(2)),i=u(n(0)),a=u(n(1)),s=u(n(14));function u(e){return e&&e.__esModule?e:{default:e}}var c=.01,l=["TEST_BLACKLISTED_MERCHANT"],f="promo_set",d="api/promos/v2",p={all:"all",ala:"ala",modal:"modal"},A={promo:{ala:"Buy in monthly payments with Affirm on orders over $50. Learn more",html_ala:'Buy in monthly payments with Affirm on orders over $50. <a class="affirm-modal-trigger">Learn more</a>',button:"Just select Affirm at checkout.",config:{calculate_ala_option:"longest_loan_term",images:{hero:null,hero2x:null,logo:null,logo2x:null},promo_prequal_enabled:!1,styles:{color:null,fontFamily:null}},content_space_1:"quick_and_easy",content_space_2:"no_hidden_fees",footer:"Subject to credit check and approval. Down payment may be required. Available for purchases over $50. Estimated payment amount excludes taxes and shipping fees. Affirm loans are made by Cross River Bank, a New Jersey State Chartered Commercial Bank, Member FDIC. See www.affirm.com/faqs for details.",headline:"Make easy monthly payments for your purchase",tagline:"Rates from 10-30% APR"},offer:{terms:[],expiry:null}};t.default={getPromoConfig:function(e,t,n,r){var i=o.default.api_url+"promos/"+e+"/"+t;return n&&(i+="?promo_external_id="+n),window.fetch(i).then(function(e){return e.ok?e.json().then(function(t){return a.default.trackAPI(e.url,e.status,t),t}):e.json().then(function(t){return a.default.trackAPI(e.url,e.status,t.message),r})})},getPromoResponse:function(e,t,n){var o=p[n]||p.all,u=void 0;return r.default.getExperimentPageType(e,t.pageType).then(function(n){return r.default.getFinancingExperimentCohortId(e).then(function(r){var a=d+"/"+e+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.default)(e,function(e){return""!==e&&null!==e&&void 0!==e});return e&&Object.keys(t).length?"?"+Object.keys(t).map(function(e){return t[e]?encodeURIComponent(e)+"="+encodeURIComponent(t[e]):""}).join("&"):""}({field:o,amount:t.amount,cohort_id:r,logo_color:t.logoColor,logo_type:t.logoType,page_type:n,promo_external_id:t.promoId,show_cta:t.showCTA});return u=i.default.get_frontend_url(a),window.fetch(u,{credentials:"include"})})}).then(function(e){return e.ok?e.json().then(function(t){return a.default.trackAPI(e.url,e.status,t),a.default.trackResourceTiming(u,"",void 0,c),t}):e.json().then(function(t){return a.default.trackAPI(e.url,e.status,t.message),a.default.trackResourceTiming(u,"",void 0,c),A})}).catch(function(){return a.default.trackAPI(u,500,"error"),a.default.trackResourceTiming(u,"",void 0,c),A})},useV2Api:function(e,t){var n,r=-1!==l.indexOf(e);return t?(n=t)&&n.indexOf&&0===n.indexOf(f)&&!r:!r},DEFAULT_PROMO_RESPONSE:A,TEMPLATE_FIELD:p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(n(2)),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var s={},u=["asLowAs","productPageModal","siteWideModal"],c=function(e){return e&&e.indexOf&&0==e.indexOf("promo_set")||!1},l={getConfig:function(e,t){if(!c(e))return Promise.reject("The provided promoSetId "+e+" is not a valid promoset.");if(-1==u.indexOf(t))return Promise.reject("The provided key "+t+" must be one of: "+u.join(", ")+".");var n=i.default.getPublicApiKey(),a="affirm-promoset:"+n+"-"+e;if(!s[a]){var l=o.default.promos_url_prefix+"promo_set/"+n+"/"+e+".json";s[a]=window.fetch(l).then(function(e){return e.ok?e.json():Promise.reject("Invalid promoset")})}return s[a].then(function(e){return r({},e[t],{promo_prequal_enabled:e.promo_prequal_enabled})})},getMinAPR:function(e){for(var t=1,n=0;n<e.length;n++)e[n].apr<=t&&(t=e[n].apr);return t},isPromoSet:c,getTermLengthIntervalForAmount:function(e,t){var n=void 0,r=void 0;for(r=0;r<e.length;r++)e[r].minimumLoanAmount<=t&&(n=e[r]);return n}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.affirmConfig?e.affirmConfig:null}t.findAffirmConfig=o,t.setAffirmConfig=function(e,t){var n=o(e)||{};return e.affirmConfig=r({},n,t),e.affirmConfig}},function(e,t,n){var r=n(87);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(93)(r,o);r.locals&&(e.exports=r.locals)},function(e,t){e.exports="data:application/vnd.ms-fontobject;base64,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"},function(e,t,n){"use strict";var r=i(n(8)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){if(o.default.checkPublicApiKey()){var t=e||{},n=t.amount||null,i={pageType:t.pageType||null,promoId:t.id||t.promoId||null,isSdk:"true"===t.isSdk};n&&n>=5e3&&n<=175e4?(i.type="product_page_modal",i.amount=n):i.type="site_wide_modal";var a=document.createElement("p");return r.default.openModal(a,i),a}console.warn("Missing API Key")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}var i=new(o(n(95)).default);t.default=(0,r.default)(i,["hide","launchPrequalFlow","show"])},function(e,t,n){var r,o,i,a,s,u,c,l,f,d={}.hasOwnProperty;s=n(15),u=n(2).default,c=n(26),r=n(8),a=n(18),f=n(0),l=n(1),i="Promo Widget",o=function(e){function t(e){var n,o,a,d,p,A,h,m,g,_;return null==e&&(e={}),!!(n=e.container)&&(!!(a=e.size||n.getAttribute("data-promo-size"))&&(this.size=a.toLowerCase(),this.promo_ari=e.key||n.getAttribute("data-promo-key"),o=e.content||n.getAttribute("data-promo-content"),!(!this.promo_ari&&!o)&&(this.promo_content=null,o?this.promo_content=o:(d=u.base_cdn_url,this.promo_content=d+"/"+this.promo_ari+"_"+this.size),m=this.size.split("x"),g=parseInt(m[0]),p=parseInt(m[1]),A=f.extend({template_args:{img_src:this.promo_content,target_href:f.get_domain(u.url)+"learn-more/"},container:n,css:{width:g,height:p}},e||{}),t.__super__.constructor.call(this,f.extend(A,{name:"affirm_promo",template:"templates/promo.html"})),this.product_key=e.productKey||n.getAttribute("data-financial-product-key")||n.getAttribute("data-product-key")||s.getProduct(),_=this,h=function(){return _.paint()&&_.show(),l.trackImpression(i)},this.product_key?c.get(this.product_key,function(e){return function(t){return e.details=t,h()}}(this)):h(),void this.on("click",function(e){return function(t){return f.is_mobile()&&window.scrollTo(0,0),null!=e.learn_more_window?e.learn_more_window.open():e.learn_more_window=new r({source:e})}}(this)))))}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,a),t}(),e.exports=o},function(e,t,n){"use strict";var r=c(n(3)),o=c(n(40)),i=c(n(97)),a=c(n(8)),s=c(n(46)),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n){var r={},o=void 0;if((o=t.length>0?t:e.length>0?e:n).length>0){var i=o[0].getAttribute("data-promo-id"),a=o[0].getAttribute("data-modal-id"),u=o[0].getAttribute("data-page-type");r.id=i||a,r.pageType=u;var c=o[0].getAttribute("data-amount");c&&(r.amount=c)}(0,s.default)(r),sessionStorage.setItem("AffirmLearnMore","true")};e.exports=function(){if(r.default.checkPublicApiKey()){var e=document.getElementsByClassName("affirm-as-low-as");o.default.setupElements(e);var t=document.getElementsByClassName("affirm-site-modal");a.default.setupSiteElements(t);var n=document.getElementsByClassName("affirm-product-modal");a.default.setupProductElements(n);var s=document.getElementsByClassName("affirm-prequal-text");i.default.setupElements(s),"t"===(0,u.queryObj)().aff_fm&&"true"!==sessionStorage.getItem("AffirmLearnMore")&&l(e,n,t)}else console.warn("Missing API Key")}},function(e,t,n){e.exports=n(51)},function(e,t,n){var r;n(52).polyfill(),n(53).polyfill(),n(54),n(55),n(57),n(13),r=n(61).default,n(98),r();try{n(99),n(105).default()}catch(e){}},function(e,t,n){(function(t){var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,o=void 0,i=void 0,a=function(e,t){p[r]=e,p[r+1]=t,2===(r+=2)&&(i?i(A):y())};var s="undefined"!=typeof window?window:void 0,u=s||{},c=u.MutationObserver||u.WebKitMutationObserver,l="undefined"==typeof self&&"[object process]"==={}.toString.call(Object({env:Object({NODE_ENV:"production"}),project:"affirm-js",version:"9.54.0",buildconf:Object({environment_paths:Object({api_url:"https://api-cf.affirm.com/api/v2/",api_version:"v2",base_cdn_url:"https://promos.affirm.com/static",frontend_url:"https://www.affirm.com",payments_url_base:"https://calculator.affirm.com",promos_url_path:"public/promos/",minified_url:"https://cdn1.affirm.com/js/v2/affirm.js",assets_root:"https://cdn1.affirm.com/products/affirmjs/master/dist/",promos_url_prefix:"https://cdn1.affirm.com/platform/public/promos/",affirm_tracking_endpoint:"tracker.affirm.com",cdn_root:"https://cdn1.affirm.com",platform_cdn_url:"https://cdn1.affirm.com/platform"}),api_tokens:Object({affirmjs_rollbar:"a118d4416b08480984711912aca9ac51",mup_enabled_merchants:Object({0:"Z7Z0JX7BBT6OUTYC",1:"A9DSK0H1ZLDIPQTS",2:"TJZ8RG1ONJZ1VWLV",3:"VBFZ6ZOWV59T5SCP",4:"SOPRFXA9T1NI37O7"}),rollbar:"dcce876e5122437d8373240f0b7c0778",rollbar_server:"e2a5957026d34c4b81128318311b7a95",branch:"key_live_eak0b1ysFeymTfKqPf8GfmjhyFpG45mQ"}),html:Object({"<%=ROOT_URL%>":"https://cdn1.affirm.com/products/affirmjs/master/dist"}),target:"prod-live",buildTarget:"prod-live",environment:"live"})})),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(A,1)}}var p=new Array(1e3);function A(){for(var e=0;e<r;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}r=0}var h,m,g,_,y=void 0;function v(e,t){var n=this,r=new this.constructor(E);void 0===r[w]&&U(r);var o=n._state;if(o){var i=arguments[o-1];a(function(){return N(o,r,i,n._result)})}else j(n,r,e,t);return r}function b(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(E);return M(t,e),t}l?y=function(){return Object({env:Object({NODE_ENV:"production"}),project:"affirm-js",version:"9.54.0",buildconf:Object({environment_paths:Object({api_url:"https://api-cf.affirm.com/api/v2/",api_version:"v2",base_cdn_url:"https://promos.affirm.com/static",frontend_url:"https://www.affirm.com",payments_url_base:"https://calculator.affirm.com",promos_url_path:"public/promos/",minified_url:"https://cdn1.affirm.com/js/v2/affirm.js",assets_root:"https://cdn1.affirm.com/products/affirmjs/master/dist/",promos_url_prefix:"https://cdn1.affirm.com/platform/public/promos/",affirm_tracking_endpoint:"tracker.affirm.com",cdn_root:"https://cdn1.affirm.com",platform_cdn_url:"https://cdn1.affirm.com/platform"}),api_tokens:Object({affirmjs_rollbar:"a118d4416b08480984711912aca9ac51",mup_enabled_merchants:Object({0:"Z7Z0JX7BBT6OUTYC",1:"A9DSK0H1ZLDIPQTS",2:"TJZ8RG1ONJZ1VWLV",3:"VBFZ6ZOWV59T5SCP",4:"SOPRFXA9T1NI37O7"}),rollbar:"dcce876e5122437d8373240f0b7c0778",rollbar_server:"e2a5957026d34c4b81128318311b7a95",branch:"key_live_eak0b1ysFeymTfKqPf8GfmjhyFpG45mQ"}),html:Object({"<%=ROOT_URL%>":"https://cdn1.affirm.com/products/affirmjs/master/dist"}),target:"prod-live",buildTarget:"prod-live",environment:"live"})}).nextTick(A)}:c?(m=0,g=new c(A),_=document.createTextNode(""),g.observe(_,{characterData:!0}),y=function(){_.data=m=++m%2}):f?((h=new MessageChannel).port1.onmessage=A,y=function(){return h.port2.postMessage(0)}):y=void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(A)}:d()}catch(e){return d()}}():d();var w=Math.random().toString(36).substring(2);function E(){}var k=void 0,O=1,P=2,I={error:null};function S(e){try{return e.then}catch(e){return I.error=e,I}}function T(t,n,r){n.constructor===t.constructor&&r===v&&n.constructor.resolve===b?function(e,t){t._state===O?B(e,t._result):t._state===P?x(e,t._result):j(t,void 0,function(t){return M(e,t)},function(t){return x(e,t)})}(t,n):r===I?(x(t,I.error),I.error=null):void 0===r?B(t,n):e(r)?function(e,t,n){a(function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?M(e,n):B(e,n))},function(t){r||(r=!0,x(e,t))},e._label);!r&&o&&(r=!0,x(e,o))},e)}(t,n,r):B(t,n)}function M(e,t){var n,r;e===t?x(e,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=t),null===n||"object"!==r&&"function"!==r?B(e,t):T(e,t,S(t)))}function C(e){e._onerror&&e._onerror(e._result),R(e)}function B(e,t){e._state===k&&(e._result=t,e._state=O,0!==e._subscribers.length&&a(R,e))}function x(e,t){e._state===k&&(e._state=P,e._result=t,a(C,e))}function j(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+O]=n,o[i+P]=r,0===i&&e._state&&a(R,e)}function R(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?N(n,r,o,i):o(i);e._subscribers.length=0}}function N(t,n,r,o){var i=e(r),a=void 0,s=void 0,u=void 0,c=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return I.error=e,I}}(r,o))===I?(c=!0,s=a.error,a.error=null):u=!0,n===a)return void x(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,u=!0;n._state!==k||(i&&u?M(n,a):c?x(n,s):t===O?B(n,a):t===P&&x(n,a))}var D=0;function U(e){e[w]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}var F=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(E),this.promise[w]||U(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&B(this.promise,this._result))):x(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===k&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===b){var o=S(e);if(o===v&&e._state!==k)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===L){var i=new n(E);T(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===k&&(this._remaining--,e===P?x(r,n):this._result[t]=n),0===this._remaining&&B(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;j(e,void 0,function(e){return n._settledAt(O,t,e)},function(e){return n._settledAt(P,t,e)})},e}();var L=function(){function t(e){this[w]=D++,this._result=this._state=void 0,this._subscribers=[],E!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){M(e,t)},function(t){x(e,t)})}catch(t){x(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return L.prototype.then=v,L.all=function(e){return new F(this,e).promise},L.race=function(e){var t=this;return n(e)?new t(function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},L.resolve=b,L.reject=function(e){var t=new this(E);return x(t,e),t},L._setScheduler=function(e){i=e},L._setAsap=function(e){a=e},L._asap=a,L.polyfill=function(){var e=void 0;if(void 0!==t)e=t;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===r&&!n.cast)return}e.Promise=L},L.Promise=L,L},e.exports=n()}).call(this,n(31))},function(e,t,n){"use strict";function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var u=i[a],c=Object.getOwnPropertyDescriptor(o,u);void 0!==c&&c.enumerable&&(n[u]=o[u])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=u(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},h.call(m.prototype),h.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];_.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=m,e.Response=_,e.fetch=function(e,n){return new Promise(function(r,o){var i=new m(e,n),a=new XMLHttpRequest;a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new _(o,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function A(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=A(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=A(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=d(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var n,r,o=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){},,function(e,t,n){"use strict";var r=i(n(58)),o=i(n(59));function i(e){return e&&e.__esModule?e:{default:e}}(window.affirm||{}).Rollbar=new r.default({accessToken:"a118d4416b08480984711912aca9ac51",autoInstrument:!1,captureUncaught:!0,captureUnhandledRejections:!0,scrubTelemetryInputs:!0,checkIgnore:function(e,t,n){return o.default.shouldIgnoreError(e,t,n,"affirm.js")},payload:{client:{javascript:{code_version:"affirm-js:9.54.0",guess_uncaught_frames:!0,source_map_enabled:!0}},environment:"affirm-js-live"}})},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var r=n(2);"undefined"==typeof window||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),e.exports=r},function(e,t,n){"use strict";var r=n(3),o=n(6),i=n(11),a=n(13),s=n(16),u=n(17),c=n(18),l=n(19),f=n(23),d=n(24),p=n(25),A=n(20),h=n(26);function m(e,t){this.options=o.extend(!0,v,e);var n=new i(this.options,u,c);this.client=t||new r(this.options,n,a,"browser");var A="undefined"!=typeof window&&window||"undefined"!=typeof self&&self,m="undefined"!=typeof document&&document;this.client.notifier.addTransform(l.handleItemWithError).addTransform(l.ensureItemHasSomethingToSay).addTransform(l.addBaseInfo).addTransform(l.addRequestInfo(window)).addTransform(l.addClientInfo(window)).addTransform(l.addPluginInfo(window)).addTransform(l.addBody).addTransform(f.addMessageWithError).addTransform(f.addTelemetryData).addTransform(f.addConfigToPayload).addTransform(l.scrubPayload).addTransform(f.userTransform(a)).addTransform(f.itemToPayload),this.client.queue.addPredicate(p.checkLevel).addPredicate(d.checkIgnore).addPredicate(p.userCheckIgnore(a)).addPredicate(p.urlIsNotBlacklisted(a)).addPredicate(p.urlIsWhitelisted(a)).addPredicate(p.messageIsIgnored(a)),(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(s.captureUncaughtExceptions(A,this),s.wrapGlobals(A,this)),(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&s.captureUnhandledRejections(A,this),this.instrumenter=new h(this.options,this.client.telemeter,this,A,m),this.instrumenter.instrument()}var g=null;function _(e){var t="Rollbar is not initialized";a.error(t),e&&e(new Error(t))}function y(e){for(var t=0,n=e.length;t<n;++t)if(o.isFunction(e[t]))return e[t]}m.init=function(e,t){return g?g.global(e).configure(e):g=new m(e,t)},m.prototype.global=function(e){return this.client.global(e),this},m.global=function(e){if(g)return g.global(e);_()},m.prototype.configure=function(e,t){var n=this.options,r={};return t&&(r={payload:t}),this.options=o.extend(!0,{},n,e,r),this.client.configure(e,t),this.instrumenter.configure(e),this},m.configure=function(e,t){if(g)return g.configure(e,t);_()},m.prototype.lastError=function(){return this.client.lastError},m.lastError=function(){if(g)return g.lastError();_()},m.prototype.log=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.log(e),{uuid:t}},m.log=function(){if(g)return g.log.apply(g,arguments);_(y(arguments))},m.prototype.debug=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.debug(e),{uuid:t}},m.debug=function(){if(g)return g.debug.apply(g,arguments);_(y(arguments))},m.prototype.info=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.info(e),{uuid:t}},m.info=function(){if(g)return g.info.apply(g,arguments);_(y(arguments))},m.prototype.warn=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warn(e),{uuid:t}},m.warn=function(){if(g)return g.warn.apply(g,arguments);_(y(arguments))},m.prototype.warning=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warning(e),{uuid:t}},m.warning=function(){if(g)return g.warning.apply(g,arguments);_(y(arguments))},m.prototype.error=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.error(e),{uuid:t}},m.error=function(){if(g)return g.error.apply(g,arguments);_(y(arguments))},m.prototype.critical=function(){var e=this._createItem(arguments),t=e.uuid;return this.client.critical(e),{uuid:t}},m.critical=function(){if(g)return g.critical.apply(g,arguments);_(y(arguments))},m.prototype.handleUncaughtException=function(e,t,n,r,i,a){var s,u=o.makeUnhandledStackInfo(e,t,n,r,i,"onerror","uncaught exception",A);o.isError(i)?(s=this._createItem([e,i,a]))._unhandledStackInfo=u:o.isError(t)?(s=this._createItem([e,t,a]))._unhandledStackInfo=u:(s=this._createItem([e,a])).stackInfo=u,s.level=this.options.uncaughtErrorLevel,s._isUncaught=!0,this.client.log(s)},m.prototype.handleUnhandledRejection=function(e,t){var n="unhandled rejection was null or undefined!";n=e?e.message||String(e):n;var r,i=e&&e._rollbarContext||t&&t._rollbarContext;o.isError(e)?r=this._createItem([n,e,i]):(r=this._createItem([n,e,i])).stackInfo=o.makeUnhandledStackInfo(n,"",0,0,null,"unhandledrejection","",A),r.level=this.options.uncaughtErrorLevel,r._isUncaught=!0,r._originalArgs=r._originalArgs||[],r._originalArgs.push(t),this.client.log(r)},m.prototype.wrap=function(e,t,n){try{var r;if(r=o.isFunction(t)?t:function(){return t||{}},!o.isFunction(e))return e;if(e._isWrap)return e;if(!e._rollbar_wrapped&&(e._rollbar_wrapped=function(){n&&o.isFunction(n)&&n.apply(this,arguments);try{return e.apply(this,arguments)}catch(n){var t=n;throw o.isType(t,"string")&&(t=new String(t)),t._rollbarContext=r()||{},t._rollbarContext._wrappedSource=e.toString(),window._rollbarWrappedError=t,t}},e._rollbar_wrapped._isWrap=!0,e.hasOwnProperty))for(var i in e)e.hasOwnProperty(i)&&(e._rollbar_wrapped[i]=e[i]);return e._rollbar_wrapped}catch(t){return e}},m.wrap=function(e,t){if(g)return g.wrap(e,t);_()},m.prototype.captureEvent=function(e,t){return this.client.captureEvent(e,t)},m.captureEvent=function(e,t){if(g)return g.captureEvent(e,t);_()},m.prototype.captureDomContentLoaded=function(e,t){return t||(t=new Date),this.client.captureDomContentLoaded(t)},m.prototype.captureLoad=function(e,t){return t||(t=new Date),this.client.captureLoad(t)},m.prototype._createItem=function(e){return o.createItem(e,a,this)};var v={version:"2.3.9",scrubFields:["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","secret_key","secretKey","secretToken"],logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",endpoint:"api.rollbar.com/api/1/item/",verbose:!1,enabled:!0,sendConfig:!1,includeItemsInTelemetry:!0};e.exports=m},function(e,t,n){"use strict";var r=n(4),o=n(5),i=n(9),a=n(10),s=n(6);function u(e,t,n,r){this.options=s.extend(!0,{},e),this.logger=n,u.rateLimiter.configureGlobal(this.options),u.rateLimiter.setPlatformOptions(r,this.options),this.queue=new o(u.rateLimiter,t,n,this.options),this.notifier=new i(this.queue,this.options),this.telemeter=new a(this.options),this.lastError=null}u.rateLimiter=new r({maxItems:0,itemsPerMinute:60}),u.prototype.global=function(e){return u.rateLimiter.configureGlobal(e),this},u.prototype.configure=function(e,t){this.notifier&&this.notifier.configure(e),this.telemeter&&this.telemeter.configure(e);var n=this.options,r={};return t&&(r={payload:t}),this.options=s.extend(!0,{},n,e,r),this.global(this.options),this},u.prototype.log=function(e){var t=this._defaultLogLevel();return this._log(t,e)},u.prototype.debug=function(e){this._log("debug",e)},u.prototype.info=function(e){this._log("info",e)},u.prototype.warn=function(e){this._log("warning",e)},u.prototype.warning=function(e){this._log("warning",e)},u.prototype.error=function(e){this._log("error",e)},u.prototype.critical=function(e){this._log("critical",e)},u.prototype.wait=function(e){this.queue.wait(e)},u.prototype.captureEvent=function(e,t){return this.telemeter.captureEvent(e,t)},u.prototype.captureDomContentLoaded=function(e){return this.telemeter.captureDomContentLoaded(e)},u.prototype.captureLoad=function(e){return this.telemeter.captureLoad(e)},u.prototype._log=function(e,t){if(this._sameAsLastError(t))t.callback&&t.callback();else try{var n=null;t.callback&&(n=t.callback,delete t.callback),t.level=t.level||e,this.telemeter._captureRollbarItem(t),t.telemetryEvents=this.telemeter.copyEvents(),this.notifier.log(t,n)}catch(e){this.logger.error(e)}},u.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},u.prototype._sameAsLastError=function(e){return!(!this.lastError||this.lastError!==e.err)||(this.lastError=e.err,!1)},e.exports=u},function(e,t){"use strict";function n(e){this.startTime=(new Date).getTime(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(e)}function r(e,t,n){return!e.ignoreRateLimit&&t>=1&&n>t}function o(e,t,n,r,o,i,a){var s=null;return n&&(n=new Error(n)),n||r||(s=function(e,t,n,r,o){var i,a=t.environment||t.payload&&t.payload.environment;i=o?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.";var s={body:{message:{body:i,extra:{maxItems:n,itemsPerMinute:r}}},language:"javascript",environment:a,notifier:{version:t.notifier&&t.notifier.version||t.version}};"browser"===e?(s.platform="browser",s.framework="browser-js",s.notifier.name="rollbar-browser-js"):"server"===e?(s.framework=t.framework||"node-js",s.notifier.name=t.notifier.name):"react-native"===e&&(s.framework=t.framework||"react-native",s.notifier.name=t.notifier.name);return s}(e,t,o,i,a)),{error:n,shouldSend:r,payload:s}}n.globalSettings={startTime:(new Date).getTime(),maxItems:void 0,itemsPerMinute:void 0},n.prototype.configureGlobal=function(e){void 0!==e.startTime&&(n.globalSettings.startTime=e.startTime),void 0!==e.maxItems&&(n.globalSettings.maxItems=e.maxItems),void 0!==e.itemsPerMinute&&(n.globalSettings.itemsPerMinute=e.itemsPerMinute)},n.prototype.shouldSend=function(e,t){(t=t||(new Date).getTime())-this.startTime>=6e4&&(this.startTime=t,this.perMinCounter=0);var i=n.globalSettings.maxItems,a=n.globalSettings.itemsPerMinute;if(r(e,i,this.counter))return o(this.platform,this.platformOptions,i+" max items reached",!1);if(r(e,a,this.perMinCounter))return o(this.platform,this.platformOptions,a+" items per minute reached",!1);this.counter++,this.perMinCounter++;var s=!r(e,i,this.counter),u=s;return s=s&&!r(e,a,this.perMinCounter),o(this.platform,this.platformOptions,null,s,i,a,u)},n.prototype.setPlatformOptions=function(e,t){this.platform=e,this.platformOptions=t},e.exports=n},function(e,t,n){"use strict";var r=n(6);function o(e,t,n,r){this.rateLimiter=e,this.api=t,this.logger=n,this.options=r,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}o.prototype.configure=function(e){this.api&&this.api.configure(e);var t=this.options;return this.options=r.extend(!0,{},t,e),this},o.prototype.addPredicate=function(e){return r.isFunction(e)&&this.predicates.push(e),this},o.prototype.addPendingItem=function(e){this.pendingItems.push(e)},o.prototype.removePendingItem=function(e){var t=this.pendingItems.indexOf(e);-1!==t&&this.pendingItems.splice(t,1)},o.prototype.addItem=function(e,t,n,o){t&&r.isFunction(t)||(t=function(){});var i=this._applyPredicates(e);if(i.stop)return this.removePendingItem(o),void t(i.err);this._maybeLog(e,n),this.removePendingItem(o),this.pendingRequests.push(e);try{this._makeApiRequest(e,function(n,r){this._dequeuePendingRequest(e),t(n,r)}.bind(this))}catch(n){this._dequeuePendingRequest(e),t(n)}},o.prototype.wait=function(e){r.isFunction(e)&&(this.waitCallback=e,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval(function(){this._maybeCallWait()}.bind(this),500)))},o.prototype._applyPredicates=function(e){for(var t=null,n=0,r=this.predicates.length;n<r;n++)if(!(t=this.predicates[n](e,this.options))||void 0!==t.err)return{stop:!0,err:t.err};return{stop:!1,err:null}},o.prototype._makeApiRequest=function(e,t){var n=this.rateLimiter.shouldSend(e);n.shouldSend?this.api.postItem(e,function(n,r){n?this._maybeRetry(n,e,t):t(n,r)}.bind(this)):n.error?t(n.error):this.api.postItem(n.payload,t)};var i=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"];o.prototype._maybeRetry=function(e,t,n){var r=!1;if(this.options.retryInterval)for(var o=0,a=i.length;o<a;o++)if(e.code===i[o]){r=!0;break}r?this._retryApiRequest(t,n):n(e)},o.prototype._retryApiRequest=function(e,t){this.retryQueue.push({item:e,callback:t}),this.retryHandle||(this.retryHandle=setInterval(function(){for(;this.retryQueue.length;){var e=this.retryQueue.shift();this._makeApiRequest(e.item,e.callback)}}.bind(this),this.options.retryInterval))},o.prototype._dequeuePendingRequest=function(e){var t=this.pendingRequests.indexOf(e);-1!==t&&(this.pendingRequests.splice(t,1),this._maybeCallWait())},o.prototype._maybeLog=function(e,t){if(this.logger&&this.options.verbose){var n=t;if(n=(n=n||r.get(e,"body.trace.exception.message"))||r.get(e,"body.trace_chain.0.exception.message"))return void this.logger.error(n);(n=r.get(e,"body.message.body"))&&this.logger.log(n)}},o.prototype._maybeCallWait=function(){return!(!r.isFunction(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length)&&(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),!0)},e.exports=o},function(e,t,n){"use strict";var r=n(7),o={},i=!1;function a(e,t){return t===s(e)}function s(e){var t=typeof e;return"object"!==t?t:e?e instanceof Error?"error":{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function u(e){return a(e,"function")}function c(e){var t,n,r=Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),o=RegExp("^"+r+"$");return n=typeof(t=e),null!=t&&("object"==n||"function"==n)&&o.test(e)}function l(e,t,n){var r,o,i,s=a(e,"object"),u=a(e,"array"),c=[];if(s&&-1!==n.indexOf(e))return e;if(n.push(e),s)for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&c.push(r);else if(u)for(i=0;i<e.length;++i)c.push(i);var l=s?{}:[];for(i=0;i<c.length;++i)o=e[r=c[i]],l[r]=t(r,o,n);return 0!=c.length?l:e}function f(){return"********"}function d(){var e=m();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)})}i||(i=!0,a(JSON,"undefined")||(c(JSON.stringify)&&(o.stringify=JSON.stringify),c(JSON.parse)&&(o.parse=JSON.parse)),u(o.stringify)&&u(o.parse)||n(8)(o));var p={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function A(e,t){var n,r;try{n=o.stringify(e)}catch(o){if(t&&u(t))try{n=t(e)}catch(e){r=e}else r=o}return{error:r,value:n}}function h(e,t){return function(n,r){try{t(n,r)}catch(t){e.error(t)}}}function m(){return Date.now?+Date.now():+new Date}e.exports={isType:a,typeName:s,isFunction:u,isNativeFunction:c,isIterable:function(e){var t=s(e);return"object"===t||"array"===t},isError:function(e){return a(e,"error")},extend:r,traverse:l,redact:f,uuid4:d,LEVELS:{debug:0,info:1,warning:2,error:3,critical:4},sanitizeUrl:function(e){var t=function(e){if(!a(e,"string"))throw new Error("received invalid input");for(var t=p,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},o=t.key.length;o--;)r[t.key[o]]=n[o]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,o){n&&(r[t.q.name][n]=o)}),r}(e);return""===t.anchor&&(t.source=t.source.replace("#","")),e=t.source.replace("?"+t.query,"")},addParamsAndAccessTokenToPath:function(e,t,n){(n=n||{}).access_token=e;var r,o=[];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&o.push([r,n[r]].join("="));var i="?"+o.sort().join("&");(t=t||{}).path=t.path||"";var a,s=t.path.indexOf("?"),u=t.path.indexOf("#");-1!==s&&(-1===u||u>s)?(a=t.path,t.path=a.substring(0,s)+i+"&"+a.substring(s+1)):-1!==u?(a=t.path,t.path=a.substring(0,u)+i+a.substring(u)):t.path=t.path+i},formatUrl:function(e,t){if(!(t=t||e.protocol)&&e.port&&(80===e.port?t="http:":443===e.port&&(t="https:")),t=t||"https:",!e.hostname)return null;var n=t+"//"+e.hostname;return e.port&&(n=n+":"+e.port),e.path&&(n+=e.path),n},stringify:A,jsonParse:function(e){var t,n;try{t=o.parse(e)}catch(e){n=e}return{error:n,value:t}},makeUnhandledStackInfo:function(e,t,n,r,o,i,a,s){var u={url:t||"",line:n,column:r};u.func=s.guessFunctionName(u.url,u.line),u.context=s.gatherContext(u.url,u.line);var c=document&&document.location&&document.location.href,l=window&&window.navigator&&window.navigator.userAgent;return{mode:i,message:o?String(o):e||a,url:c,stack:[u],useragent:l}},createItem:function(e,t,n,o,i){for(var a,u,c,l,f,p,A=[],g=0,_=e.length;g<_;++g){var y=s(p=e[g]);switch(y){case"undefined":break;case"string":a?A.push(p):a=p;break;case"function":l=h(t,p);break;case"date":A.push(p);break;case"error":case"domexception":u?A.push(p):u=p;break;case"object":case"array":if(p instanceof Error||"undefined"!=typeof DOMException&&p instanceof DOMException){u?A.push(p):u=p;break}if(o&&"object"===y&&!f){for(var v=0,b=o.length;v<b;++v)if(void 0!==p[o[v]]){f=p;break}if(f)break}c?A.push(p):c=p;break;default:if(p instanceof Error||"undefined"!=typeof DOMException&&p instanceof DOMException){u?A.push(p):u=p;break}A.push(p)}}A.length>0&&((c=r(!0,{},c)).extraArgs=A);var w={message:a,err:u,custom:c,timestamp:m(),callback:l,uuid:d()};return c&&void 0!==c.level&&(w.level=c.level,delete c.level),o&&f&&(w.request=f),i&&(w.lambdaContext=i),w._originalArgs=e,w},get:function(e,t){if(e){var n=t.split("."),r=e;try{for(var o=0,i=n.length;o<i;++o)r=r[n[o]]}catch(e){r=void 0}return r}},set:function(e,t,n){if(e){var r=t.split("."),o=r.length;if(!(o<1))if(1!==o)try{for(var i=e[r[0]]||{},a=i,s=1;s<o-1;s++)i[r[s]]=i[r[s]]||{},i=i[r[s]];i[r[o-1]]=n,e[r[0]]=a}catch(e){return}else e[r[0]]=n}},scrub:function(e,t){var n=function(e){for(var t,n=[],r=0;r<e.length;++r)t="^\\[?(%5[bB])?"+e[r]+"\\[?(%5[bB])?\\]?(%5[dD])?$",n.push(new RegExp(t,"i"));return n}(t=t||[]),r=function(e){for(var t,n=[],r=0;r<e.length;++r)t="\\[?(%5[bB])?"+e[r]+"\\[?(%5[bB])?\\]?(%5[dD])?",n.push(new RegExp("("+t+"=)([^&\\n]+)","igm"));return n}(t);function o(e,t,n,r,o,i){return t+"********"}return l(e,function e(t,i,s){var u=function(e,t){var r;for(r=0;r<n.length;++r)if(n[r].test(e)){t="********";break}return t}(t,i);return u===i?a(i,"object")||a(i,"array")?l(i,e,s):function(e){var t;if(a(e,"string"))for(t=0;t<r.length;++t)e=e.replace(r[t],o);return e}(u):u},[])},formatArgsAsString:function(e){var t,n,r,o=[];for(t=0,n=e.length;t<n;t++)"object"==typeof(r=e[t])?(r=(r=A(r)).error||r.value).length>500&&(r=r.substr(0,500)+"..."):void 0===r&&(r="undefined"),o.push(r);return o.join(" ")},now:m}},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},i=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,o=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||n.call(e,t)};e.exports=function e(){var t,n,r,a,s,u,c=arguments[0],l=1,f=arguments.length,d=!1;for("boolean"==typeof c?(d=c,c=arguments[1]||{},l=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});l<f;++l)if(null!=(t=arguments[l]))for(n in t)r=c[n],c!==(a=t[n])&&(d&&a&&(i(a)||(s=o(a)))?(s?(s=!1,u=r&&o(r)?r:[]):u=r&&i(r)?r:{},c[n]=e(d,u,a)):void 0!==a&&(c[n]=a));return c}},function(e,t){e.exports=function(e){var t,n,r,o,i=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function a(e){return e<10?"0"+e:e}function s(){return this.valueOf()}function u(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=s,Number.prototype.toJSON=s,String.prototype.toJSON=s),"function"!=typeof e.stringify&&(r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e.stringify=function(e,r,i){var a;if(t="",n="","number"==typeof i)for(a=0;a<i;a+=1)n+=" ";else"string"==typeof i&&(n=i);if(o=r,r&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw new Error("JSON.stringify");return function e(r,i){var a,s,c,l,f,d=t,p=i[r];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(r)),"function"==typeof o&&(p=o.call(i,r,p)),typeof p){case"string":return u(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(t+=n,f=[],"[object Array]"===Object.prototype.toString.apply(p)){for(l=p.length,a=0;a<l;a+=1)f[a]=e(a,p)||"null";return c=0===f.length?"[]":t?"[\n"+t+f.join(",\n"+t)+"\n"+d+"]":"["+f.join(",")+"]",t=d,c}if(o&&"object"==typeof o)for(l=o.length,a=0;a<l;a+=1)"string"==typeof o[a]&&(c=e(s=o[a],p))&&f.push(u(s)+(t?": ":":")+c);else for(s in p)Object.prototype.hasOwnProperty.call(p,s)&&(c=e(s,p))&&f.push(u(s)+(t?": ":":")+c);return c=0===f.length?"{}":t?"{\n"+t+f.join(",\n"+t)+"\n"+d+"}":"{"+f.join(",")+"}",t=d,c}}("",{"":e})}),"function"!=typeof e.parse&&(e.parse=(A={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},h={go:function(){c="ok"},firstokey:function(){d=p,c="colon"},okey:function(){d=p,c="colon"},ovalue:function(){c="ocomma"},firstavalue:function(){c="acomma"},avalue:function(){c="acomma"}},m={go:function(){c="ok"},ovalue:function(){c="ocomma"},firstavalue:function(){c="acomma"},avalue:function(){c="acomma"}},g={"{":{go:function(){l.push({state:"ok"}),f={},c="firstokey"},ovalue:function(){l.push({container:f,state:"ocomma",key:d}),f={},c="firstokey"},firstavalue:function(){l.push({container:f,state:"acomma"}),f={},c="firstokey"},avalue:function(){l.push({container:f,state:"acomma"}),f={},c="firstokey"}},"}":{firstokey:function(){var e=l.pop();p=f,f=e.container,d=e.key,c=e.state},ocomma:function(){var e=l.pop();f[d]=p,p=f,f=e.container,d=e.key,c=e.state}},"[":{go:function(){l.push({state:"ok"}),f=[],c="firstavalue"},ovalue:function(){l.push({container:f,state:"ocomma",key:d}),f=[],c="firstavalue"},firstavalue:function(){l.push({container:f,state:"acomma"}),f=[],c="firstavalue"},avalue:function(){l.push({container:f,state:"acomma"}),f=[],c="firstavalue"}},"]":{firstavalue:function(){var e=l.pop();p=f,f=e.container,d=e.key,c=e.state},acomma:function(){var e=l.pop();f.push(p),p=f,f=e.container,d=e.key,c=e.state}},":":{colon:function(){if(Object.hasOwnProperty.call(f,d))throw new SyntaxError("Duplicate key '"+d+'"');c="ovalue"}},",":{ocomma:function(){f[d]=p,c="okey"},acomma:function(){f.push(p),c="avalue"}},true:{go:function(){p=!0,c="ok"},ovalue:function(){p=!0,c="ocomma"},firstavalue:function(){p=!0,c="acomma"},avalue:function(){p=!0,c="acomma"}},false:{go:function(){p=!1,c="ok"},ovalue:function(){p=!1,c="ocomma"},firstavalue:function(){p=!1,c="acomma"},avalue:function(){p=!1,c="acomma"}},null:{go:function(){p=null,c="ok"},ovalue:function(){p=null,c="ocomma"},firstavalue:function(){p=null,c="acomma"},avalue:function(){p=null,c="acomma"}}},function(e,t){var n,r,o=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;c="go",l=[];try{for(;n=o.exec(e);)n[1]?g[n[1]][c]():n[2]?(p=+n[2],m[c]()):(r=n[3],p=r.replace(/\\(?:u(.{4})|([^u]))/g,function(e,t,n){return t?String.fromCharCode(parseInt(t,16)):A[n]}),h[c]()),e=e.slice(n[0].length)}catch(e){c=e}if("ok"!==c||/[^\u0020\t\n\r]/.test(e))throw c instanceof SyntaxError?c:new SyntaxError("JSON");return"function"==typeof t?function e(n,r){var o,i,a=n[r];if(a&&"object"==typeof a)for(o in p)Object.prototype.hasOwnProperty.call(a,o)&&(void 0!==(i=e(a,o))?a[o]=i:delete a[o]);return t.call(n,r,a)}({"":p},""):p}));var c,l,f,d,p,A,h,m,g}},function(e,t,n){"use strict";var r=n(6);function o(e,t){this.queue=e,this.options=t,this.transforms=[]}o.prototype.configure=function(e){this.queue&&this.queue.configure(e);var t=this.options;return this.options=r.extend(!0,{},t,e),this},o.prototype.addTransform=function(e){return r.isFunction(e)&&this.transforms.push(e),this},o.prototype.log=function(e,t){if(t&&r.isFunction(t)||(t=function(){}),!this.options.enabled)return t(new Error("Rollbar is not enabled"));this.queue.addPendingItem(e);var n=e.err;this._applyTransforms(e,function(r,o){if(r)return this.queue.removePendingItem(e),t(r,null);this.queue.addItem(o,t,n,e)}.bind(this))},o.prototype._applyTransforms=function(e,t){var n=-1,r=this.transforms.length,o=this.transforms,i=this.options,a=function(e,s){e?t(e,null):++n!==r?o[n](s,i,a):t(null,s)};a(null,e)},e.exports=o},function(e,t,n){"use strict";var r=n(6),o=100;function i(e){this.queue=[],this.options=r.extend(!0,{},e);var t=this.options.maxTelemetryEvents||o;this.maxQueueSize=Math.max(0,Math.min(t,o))}i.prototype.configure=function(e){var t=this.options;this.options=r.extend(!0,{},t,e);var n=this.options.maxTelemetryEvents||o,i=Math.max(0,Math.min(n,o)),a=0;this.maxQueueSize>i&&(a=this.maxQueueSize-i),this.maxQueueSize=i,this.queue.splice(0,a)},i.prototype.copyEvents=function(){return Array.prototype.slice.call(this.queue,0)},i.prototype.capture=function(e,t,n,o,i){var a={level:function(e,t){if(t)return t;return{error:"error",manual:"info"}[e]||"info"}(e,n),type:e,timestamp_ms:i||r.now(),body:t,source:"client"};o&&(a.uuid=o);try{if(r.isFunction(this.options.filterTelemetry)&&this.options.filterTelemetry(a))return!1}catch(a){this.options.filterTelemetry=null}return this.push(a),a},i.prototype.captureEvent=function(e,t,n){return this.capture("manual",e,t,n)},i.prototype.captureError=function(e,t,n,r){var o={message:e.message||String(e)};return e.stack&&(o.stack=e.stack),this.capture("error",o,t,n,r)},i.prototype.captureLog=function(e,t,n,r){return this.capture("log",{message:e},t,n,r)},i.prototype.captureNetwork=function(e,t,n,r){t=t||"xhr",e.subtype=e.subtype||t,r&&(e.request=r);var o=this.levelFromStatus(e.status_code);return this.capture("network",e,o,n)},i.prototype.levelFromStatus=function(e){return e>=200&&e<400?"info":0===e||e>=400?"error":"info"},i.prototype.captureDom=function(e,t,n,r,o){var i={subtype:e,element:t};return void 0!==n&&(i.value=n),void 0!==r&&(i.checked=r),this.capture("dom",i,"info",o)},i.prototype.captureNavigation=function(e,t,n){return this.capture("navigation",{from:e,to:t},"info",n)},i.prototype.captureDomContentLoaded=function(e){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,e&&e.getTime())},i.prototype.captureLoad=function(e){return this.capture("navigation",{subtype:"load"},"info",void 0,e&&e.getTime())},i.prototype.captureConnectivityChange=function(e,t){return this.captureNetwork({change:e},"connectivity",t)},i.prototype._captureRollbarItem=function(e){if(this.options.includeItemsInTelemetry)return e.err?this.captureError(e.err,e.level,e.uuid,e.timestamp):e.message?this.captureLog(e.message,e.level,e.uuid,e.timestamp):e.custom?this.capture("log",e.custom,e.level,e.uuid,e.timestamp):void 0},i.prototype.push=function(e){this.queue.push(e),this.queue.length>this.maxQueueSize&&this.queue.shift()},e.exports=i},function(e,t,n){"use strict";var r=n(6),o=n(12),i={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443};function a(e,t,n,r){this.options=e,this.transport=t,this.url=n,this.jsonBackup=r,this.accessToken=e.accessToken,this.transportOptions=s(e,n)}function s(e,t){return o.getTransportFromOptions(e,i,t)}a.prototype.postItem=function(e,t){var n=o.transportOptions(this.transportOptions,"POST"),r=o.buildPayload(this.accessToken,e,this.jsonBackup);this.transport.post(this.accessToken,n,r,t)},a.prototype.configure=function(e){var t=this.oldOptions;return this.options=r.extend(!0,{},t,e),this.transportOptions=s(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this},e.exports=a},function(e,t,n){"use strict";var r=n(6);e.exports={buildPayload:function(e,t,n){if(!r.isType(t.context,"string")){var o=r.stringify(t.context,n);o.error?t.context="Error: could not serialize 'context'":t.context=o.value||"",t.context.length>255&&(t.context=t.context.substr(0,255))}return{access_token:e,data:t}},getTransportFromOptions:function(e,t,n){var r=t.hostname,o=t.protocol,i=t.port,a=t.path,s=t.search,u=e.proxy;if(e.endpoint){var c=n.parse(e.endpoint);r=c.hostname,o=c.protocol,i=c.port,a=c.pathname,s=c.search}return{hostname:r,protocol:o,port:i,path:a,search:s,proxy:u}},transportOptions:function(e,t){var n=e.protocol||"https:",r=e.port||("http:"===n?80:"https:"===n?443:void 0),o=e.hostname,i=e.path;return e.search&&(i+=e.search),e.proxy&&(i=n+"//"+o+i,o=e.proxy.host||e.proxy.hostname,r=e.proxy.port,n=e.proxy.protocol||n),{protocol:n,hostname:o,path:i,port:r,method:t}},appendPathToPath:function(e,t){var n=/\/$/.test(e),r=/^\//.test(t);return n&&r?t=t.substring(1):n||r||(t="/"+t),e+t}}},function(e,t,n){"use strict";n(14);var r=n(15),o=n(6);e.exports={error:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),r.ieVersion()<=8?console.error(o.formatArgsAsString(e)):console.error.apply(console,e)},info:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),r.ieVersion()<=8?console.info(o.formatArgsAsString(e)):console.info.apply(console,e)},log:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("Rollbar:"),r.ieVersion()<=8?console.log(o.formatArgsAsString(e)):console.log.apply(console,e)}}},function(e,t){!function(e){"use strict";e.console||(e.console={});for(var t,n,r=e.console,o=function(){},i=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=i.pop();)r[t]||(r[t]={});for(;n=a.pop();)r[n]||(r[n]=o)}("undefined"==typeof window?this:window)},function(e,t){"use strict";var n={ieVersion:function(){if(document){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:void 0}}};e.exports=n},function(e,t){"use strict";function n(e,t,n){if(t.hasOwnProperty&&t.hasOwnProperty("addEventListener")){for(var r=t.addEventListener;r._rollbarOldAdd&&r.belongsToShim;)r=r._rollbarOldAdd;var o=function(t,n,o){r.call(this,t,e.wrap(n),o)};o._rollbarOldAdd=r,o.belongsToShim=n,t.addEventListener=o;for(var i=t.removeEventListener;i._rollbarOldRemove&&i.belongsToShim;)i=i._rollbarOldRemove;var a=function(e,t,n){i.call(this,e,t&&t._rollbar_wrapped||t,n)};a._rollbarOldRemove=i,a.belongsToShim=n,t.removeEventListener=a}}e.exports={captureUncaughtExceptions:function(e,t,n){if(e){var r;"function"==typeof t._rollbarOldOnError?r=t._rollbarOldOnError:e.onerror&&!e.onerror.belongsToShim&&(r=e.onerror,t._rollbarOldOnError=r);var o=function(){var n=Array.prototype.slice.call(arguments,0);!function(e,t,n,r){e._rollbarWrappedError&&(r[4]||(r[4]=e._rollbarWrappedError),r[5]||(r[5]=e._rollbarWrappedError._rollbarContext),e._rollbarWrappedError=null),t.handleUncaughtException.apply(t,r),n&&n.apply(e,r)}(e,t,r,n)};o.belongsToShim=n,e.onerror=o}},captureUnhandledRejections:function(e,t,n){if(e){"function"==typeof e._rollbarURH&&e._rollbarURH.belongsToShim&&e.removeEventListener("unhandledrejection",e._rollbarURH);var r=function(e){var n,r,o;try{n=e.reason}catch(e){n=void 0}try{r=e.promise}catch(e){r="[unhandledrejection] error getting `promise` from event"}try{o=e.detail,!n&&o&&(n=o.reason,r=o.promise)}catch(e){o="[unhandledrejection] error getting `detail` from event"}n||(n="[unhandledrejection] error getting `reason` from event"),t&&t.handleUnhandledRejection&&t.handleUnhandledRejection(n,r)};r.belongsToShim=n,e._rollbarURH=r,e.addEventListener("unhandledrejection",r)}},wrapGlobals:function(e,t,r){if(e){var o,i,a="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(o=0;o<a.length;++o)e[i=a[o]]&&e[i].prototype&&n(t,e[i].prototype,r)}}}},function(e,t,n){"use strict";var r=n(6),o=n(13);function i(e,t,n,i,s,u){var c;if(!(c=u?u():function(){var e,t,n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],r=n.length;for(t=0;t<r;t++)try{e=n[t]();break}catch(e){}return e}()))return s(new Error("No way to send a request"));try{try{var l=function(){try{if(l&&4===c.readyState){l=void 0;var e=r.jsonParse(c.responseText);if((i=c)&&i.status&&200===i.status)return void s(e.error,e.value);if(function(e){return e&&r.isType(e.status,"number")&&e.status>=400&&e.status<600}(c)){if(403===c.status){var t=e.value&&e.value.message;o.error(t)}s(new Error(String(c.status)))}else{s(a("XHR response had no status code (likely connection failure)"))}}}catch(e){var n;n=e&&e.stack?e:new Error(e),s(n)}var i};c.open(n,t,!0),c.setRequestHeader&&(c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("X-Rollbar-Access-Token",e)),c.onreadystatechange=l,c.send(i)}catch(e){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return s(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===t.substring(0,5)&&(t="http"+t.substring(5));var f=new XDomainRequest;f.onprogress=function(){},f.ontimeout=function(){s(a("Request timed out","ETIMEDOUT"))},f.onerror=function(){s(new Error("Error during request"))},f.onload=function(){var e=r.jsonParse(f.responseText);s(e.error,e.value)},f.open(n,t,!0),f.send(i)}else s(new Error("Cannot find a method to transport a request"))}}catch(e){s(e)}}function a(e,t){var n=new Error(e);return n.code=t||"ENOTFOUND",n}e.exports={get:function(e,t,n,o,a){o&&r.isFunction(o)||(o=function(){}),r.addParamsAndAccessTokenToPath(e,t,n),i(e,r.formatUrl(t),"GET",null,o,a)},post:function(e,t,n,o,a){if(o&&r.isFunction(o)||(o=function(){}),!n)return o(new Error("Cannot send empty request"));var s=r.stringify(n);if(s.error)return o(s.error);var u=s.value;i(e,r.formatUrl(t),"POST",u,o,a)}}},function(e,t){"use strict";e.exports={parse:function(e){var t,n,r={protocol:null,auth:null,host:null,path:null,hash:null,href:e,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(t=e.indexOf("//"))?(r.protocol=e.substring(0,t),n=t+2):n=0,-1!==(t=e.indexOf("@",n))&&(r.auth=e.substring(n,t),n=t+1),-1===(t=e.indexOf("/",n))){if(-1===(t=e.indexOf("?",n)))return-1===(t=e.indexOf("#",n))?r.host=e.substring(n):(r.host=e.substring(n,t),r.hash=e.substring(t)),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),r;r.host=e.substring(n,t),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),n=t}else r.host=e.substring(n,t),r.hostname=r.host.split(":")[0],r.port=r.host.split(":")[1],r.port&&(r.port=parseInt(r.port,10)),n=t;if(-1===(t=e.indexOf("#",n))?r.path=e.substring(n):(r.path=e.substring(n,t),r.hash=e.substring(t)),r.path){var o=r.path.split("?");r.pathname=o[0],r.query=o[1],r.search=r.query?"?"+r.query:null}return r}}},function(e,t,n){"use strict";var r=n(6),o=n(20),i=n(13);function a(e,t,n){var o=e.message,i=e.custom;if(!o)if(i){var a=t.scrubFields,s=r.stringify(r.scrub(i,a));o=s.error||s.value||""}else o="";var u={body:o};i&&(u.extra=r.extend(!0,{},i)),r.set(e,"data.body",{message:u}),n(null,e)}e.exports={handleItemWithError:function(e,t,n){if(e.data=e.data||{},e.err)try{e.stackInfo=e.err._savedStackTrace||o.parse(e.err)}catch(t){i.error("Error while parsing the error object.",t),e.message=e.err.message||e.err.description||e.message||String(e.err),delete e.err}n(null,e)},ensureItemHasSomethingToSay:function(e,t,n){e.message||e.stackInfo||e.custom||n(new Error("No message, stack info, or custom data"),null),n(null,e)},addBaseInfo:function(e,t,n){var o=t.payload&&t.payload.environment||t.environment;e.data=r.extend(!0,{},e.data,{environment:o,level:e.level,endpoint:t.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:e.uuid,notifier:{name:"rollbar-browser-js",version:t.version}}),n(null,e)},addRequestInfo:function(e){return function(t,n,o){if(!e||!e.location)return o(null,t);r.set(t,"data.request",{url:e.location.href,query_string:e.location.search,user_ip:"$remote_ip"}),o(null,t)}},addClientInfo:function(e){return function(t,n,o){if(!e)return o(null,t);var i=e.navigator||{},a=e.screen||{};r.set(t,"data.client",{runtime_ms:t.timestamp-e._rollbarStartTime,timestamp:Math.round(t.timestamp/1e3),javascript:{browser:i.userAgent,language:i.language,cookie_enabled:i.cookieEnabled,screen:{width:a.width,height:a.height}}}),o(null,t)}},addPluginInfo:function(e){return function(t,n,o){if(!e||!e.navigator)return o(null,t);for(var i,a=[],s=e.navigator.plugins||[],u=0,c=s.length;u<c;++u)i=s[u],a.push({name:i.name,description:i.description});r.set(t,"data.client.javascript.plugins",a),o(null,t)}},addBody:function(e,t,n){e.stackInfo?function(e,t,n){var i=e.data.description,s=e.stackInfo,u=e.custom,c=o.guessErrorClass(s.message),l=s.name||c[0],f=c[1],d={exception:{class:l,message:f}};i&&(d.exception.description=i);var p=s.stack;if(p&&0===p.length&&e._unhandledStackInfo&&e._unhandledStackInfo.stack&&(p=e._unhandledStackInfo.stack),p){var A,h,m,g,_,y,v,b;for(0===p.length&&(d.exception.stack=s.rawStack,d.exception.raw=String(s.rawException)),d.frames=[],v=0;v<p.length;++v)A=p[v],(h={filename:A.url?r.sanitizeUrl(A.url):"(unknown)",lineno:A.line||null,method:A.func&&"?"!==A.func?A.func:"[anonymous]",colno:A.column}).method&&h.method.endsWith&&h.method.endsWith("_rollbar_wrapped")||(m=g=_=null,(y=A.context?A.context.length:0)&&(b=Math.floor(y/2),g=A.context.slice(0,b),m=A.context[b],_=A.context.slice(b)),m&&(h.code=m),(g||_)&&(h.context={},g&&g.length&&(h.context.pre=g),_&&_.length&&(h.context.post=_)),A.args&&(h.args=A.args),d.frames.push(h));d.frames.reverse(),u&&(d.extra=r.extend(!0,{},u)),r.set(e,"data.body",{trace:d}),n(null,e)}else e.message=l+": "+f,a(e,t,n)}(e,t,n):a(e,t,n)},scrubPayload:function(e,t,n){var o=t.scrubFields;e.data=r.scrub(e.data,o),n(null,e)}}},function(e,t,n){"use strict";var r=n(21),o="?",i=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function a(){return null}function s(e){var t={};return t._stackFrame=e,t.url=e.fileName,t.line=e.lineNumber,t.func=e.functionName,t.column=e.columnNumber,t.args=e.args,t.context=(t.url,t.line,null),t}function u(e){return{stack:function(){var t,n=[];if(e.stack)t=e;else try{throw e}catch(e){t=e}try{n=r.parse(t)}catch(e){n=[]}for(var o=[],i=0;i<n.length;i++)o.push(new s(n[i]));return o}(),message:e.message,name:e.name,rawStack:e.stack,rawException:e}}e.exports={guessFunctionName:function(){return o},guessErrorClass:function(e){if(!e||!e.match)return["Unknown error. There was no error message to display.",""];var t=e.match(i),n="(unknown)";return t&&(n=t[t.length-1],e=(e=e.replace((t[t.length-2]||"")+n+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[n,e]},gatherContext:a,parse:function(e){return new u(e)},Stack:u,Frame:s}},function(e,t,n){var r,o,i;!function(a,s){"use strict";o=[n(22)],void 0===(i="function"==typeof(r=function(e){var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;function o(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var r=new Array(e.length),o=0;o<e.length;o++)r[o]=t.call(n,e[o]);return r}function i(e,t,n){if("function"==typeof Array.prototype.filter)return e.filter(t,n);for(var r=[],o=0;o<e.length;o++)t.call(n,e[o])&&r.push(e[o]);return r}return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=e.replace(/[\(\)\s]/g,"").split(":"),n=t.pop(),r=t[t.length-1];if(!isNaN(parseFloat(r))&&isFinite(r)){var o=t.pop();return[t.join(":"),o,n]}return[t.join(":"),n,void 0]},parseV8OrIE:function(t){var r=i(t.stack.split("\n"),function(e){return!!e.match(n)},this);return o(r,function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),o=n.join(" ")||void 0,i="eval"===r[0]?void 0:r[0];return new e(o,void 0,i,r[1],r[2],t)},this)},parseFFOrSafari:function(t){var n=i(t.stack.split("\n"),function(e){return!e.match(r)},this);return o(n,function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e(t);var n=t.split("@"),r=this.extractLocation(n.pop()),o=n.shift()||void 0;return new e(o,void 0,r[0],r[1],r[2],t)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e(void 0,void 0,s[2],s[1],void 0,r[i]))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e(s[3]||void 0,void 0,s[2],s[1],void 0,r[i]))}return o},parseOpera11:function(n){var r=i(n.stack.split("\n"),function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this);return o(r,function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e(a,s,o[0],o[1],o[2],t)},this)}}})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){var r,o,i;!function(n,a){"use strict";o=[],void 0===(i="function"==typeof(r=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,n,r,o,i){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}},t})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){"use strict";var r=n(6);e.exports={itemToPayload:function(e,t,n){var o=t.payload||{};o.body&&delete o.body;var i=r.extend(!0,{},e.data,o);e._isUncaught&&(i._isUncaught=!0),e._originalArgs&&(i._originalArgs=e._originalArgs),n(null,i)},addTelemetryData:function(e,t,n){e.telemetryEvents&&r.set(e,"data.body.telemetry",e.telemetryEvents),n(null,e)},addMessageWithError:function(e,t,n){if(e.message){var o="data.body.trace_chain.0",i=r.get(e,o);if(i||(o="data.body.trace",i=r.get(e,o)),i){if(!i.exception||!i.exception.description)return r.set(e,o+".exception.description",e.message),void n(null,e);var a=r.get(e,o+".extra")||{},s=r.extend(!0,{},a,{message:e.message});r.set(e,o+".extra",s)}n(null,e)}else n(null,e)},userTransform:function(e){return function(t,n,o){var i=r.extend(!0,{},t);try{r.isFunction(n.transform)&&n.transform(i.data)}catch(r){return n.transform=null,e.error("Error while calling custom transform() function. Removing custom transform().",r),void o(null,t)}o(null,i)}},addConfigToPayload:function(e,t,n){if(!t.sendConfig)return n(null,e);var o=r.get(e,"data.custom")||{};o._rollbarConfig=t,e.data.custom=o,n(null,e)}}},function(e,t,n){"use strict";var r=n(6);e.exports={checkIgnore:function(e,t){return!r.get(t,"plugins.jquery.ignoreAjaxErrors")||!r.get(e,"body.message.extra.isAjax")}}},function(e,t,n){"use strict";var r=n(6);function o(e,t,n,o){var i,a,s,u,c,l,f,d,p=!1;"blacklist"===n&&(p=!0);try{if(l=(i=p?t.hostBlackList:t.hostWhiteList)&&i.length,a=r.get(e,"body.trace"),!i||0===l)return!p;if(!a||!a.frames||0===a.frames.length)return!p;for(u=a.frames.length,f=0;f<u;f++){if(s=a.frames[f].filename,!r.isType(s,"string"))return!p;for(d=0;d<l;d++)if(c=i[d],new RegExp(c).test(s))return!0}}catch(e){p?t.hostBlackList=null:t.hostWhiteList=null;var A=p?"hostBlackList":"hostWhiteList";return o.error("Error while reading your configuration's "+A+" option. Removing custom "+A+".",e),!p}return!1}e.exports={checkLevel:function(e,t){var n=e.level,o=r.LEVELS[n]||0,i=t.reportLevel;return!(o<(r.LEVELS[i]||0))},userCheckIgnore:function(e){return function(t,n){var o=!!t._isUncaught;delete t._isUncaught;var i=t._originalArgs;delete t._originalArgs;try{r.isFunction(n.onSendCallback)&&n.onSendCallback(o,i,t)}catch(t){n.onSendCallback=null,e.error("Error while calling onSendCallback, removing",t)}try{if(r.isFunction(n.checkIgnore)&&n.checkIgnore(o,i,t))return!1}catch(t){n.checkIgnore=null,e.error("Error while calling custom checkIgnore(), removing",t)}return!0}},urlIsNotBlacklisted:function(e){return function(t,n){return!o(t,n,"blacklist",e)}},urlIsWhitelisted:function(e){return function(t,n){return o(t,n,"whitelist",e)}},messageIsIgnored:function(e){return function(t,n){var o,i,a,s,u,c,l,f;try{if(u=!1,!(a=n.ignoredMessages)||0===a.length)return!0;if(c=t.body,l=r.get(c,"trace.exception.message"),f=r.get(c,"message.body"),!(o=l||f))return!0;for(s=a.length,i=0;i<s&&!(u=new RegExp(a[i],"gi").test(o));i++);}catch(t){n.ignoredMessages=null,e.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!u}}}},function(e,t,n){"use strict";var r=n(6),o=n(18),i=n(27),a={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestBody:!1,log:!0,dom:!0,navigation:!0,connectivity:!0};function s(e,t,n,r,o){var i=e[t];e[t]=n(i),r&&r[o].push([e,t,i])}function u(e,t){for(var n;e[t].length;)(n=e[t].shift())[0][n[1]]=n[2]}function c(e,t,n,o,i){var s=e.autoInstrument;!1===e.enabled||!1===s?this.autoInstrument={}:(r.isType(s,"object")||(s=a),this.autoInstrument=r.extend(!0,{},a,s)),this.scrubTelemetryInputs=!!e.scrubTelemetryInputs,this.telemetryScrubber=e.telemetryScrubber,this.telemeter=t,this.rollbar=n,this._window=o||{},this._document=i||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}c.prototype.configure=function(e){var t=e.autoInstrument,n=r.extend(!0,{},this.autoInstrument);!1===e.enabled||!1===t?this.autoInstrument={}:(r.isType(t,"object")||(t=a),this.autoInstrument=r.extend(!0,{},a,t)),this.instrument(n),void 0!==e.scrubTelemetryInputs&&(this.scrubTelemetryInputs=!!e.scrubTelemetryInputs),void 0!==e.telemetryScrubber&&(this.telemetryScrubber=e.telemetryScrubber)},c.prototype.instrument=function(e){!this.autoInstrument.network||e&&e.network?!this.autoInstrument.network&&e&&e.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||e&&e.log?!this.autoInstrument.log&&e&&e.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||e&&e.dom?!this.autoInstrument.dom&&e&&e.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||e&&e.navigation?!this.autoInstrument.navigation&&e&&e.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||e&&e.connectivity?!this.autoInstrument.connectivity&&e&&e.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity()},c.prototype.deinstrumentNetwork=function(){u(this.replacements,"network")},c.prototype.instrumentNetwork=function(){var e=this;function t(t,n){t in n&&r.isFunction(n[t])&&s(n,t,function(t){return e.rollbar.wrap(t)})}if("XMLHttpRequest"in this._window){var n=this._window.XMLHttpRequest.prototype;s(n,"open",function(e){return function(t,n){return r.isType(n,"string")&&(this.__rollbar_xhr={method:t,url:n,status_code:null,start_time_ms:r.now(),end_time_ms:null}),e.apply(this,arguments)}},this.replacements,"network"),s(n,"send",function(n){return function(o){var i=this;function a(){if(i.__rollbar_xhr&&(1===i.readyState||4===i.readyState)){if(null===i.__rollbar_xhr.status_code){i.__rollbar_xhr.status_code=0;var t=null;e.autoInstrument.networkRequestBody&&(t=o),i.__rollbar_event=e.telemeter.captureNetwork(i.__rollbar_xhr,"xhr",void 0,t)}if(1===i.readyState)i.__rollbar_xhr.start_time_ms=r.now();else{i.__rollbar_xhr.end_time_ms=r.now();var n=null;if(e.autoInstrument.networkResponseHeaders){var a=e.autoInstrument.networkResponseHeaders;n={};try{var s,u;if(!0===a){var c=i.getAllResponseHeaders();if(c){var l,f,d=c.trim().split(/[\r\n]+/);for(u=0;u<d.length;u++)s=(l=d[u].split(": ")).shift(),f=l.join(": "),n[s]=f}}else for(u=0;u<a.length;u++)n[s=a[u]]=i.getResponseHeader(s)}catch(e){}}var p=null;if(e.autoInstrument.networkResponseBody)try{p=i.responseText}catch(e){}var A=null;(p||n)&&(A={},p&&(A.body=p),n&&(A.headers=n)),A&&(i.__rollbar_xhr.response=A)}try{var h=i.status;h=1223===h?204:h,i.__rollbar_xhr.status_code=h,i.__rollbar_event.level=e.telemeter.levelFromStatus(h)}catch(e){}}}return t("onload",i),t("onerror",i),t("onprogress",i),"onreadystatechange"in i&&r.isFunction(i.onreadystatechange)?s(i,"onreadystatechange",function(t){return e.rollbar.wrap(t,void 0,a)}):i.onreadystatechange=a,n.apply(this,arguments)}},this.replacements,"network")}"fetch"in this._window&&s(this._window,"fetch",function(t){return function(n,o){for(var i=new Array(arguments.length),a=0,s=i.length;a<s;a++)i[a]=arguments[a];var u,c=i[0],l="GET";r.isType(c,"string")?u=c:c&&(u=c.url,c.method&&(l=c.method)),i[1]&&i[1].method&&(l=i[1].method);var f={method:l,url:u,status_code:null,start_time_ms:r.now(),end_time_ms:null},d=null;return e.autoInstrument.networkRequestBody&&(i[1]&&i[1].body?d=i[1].body:i[0]&&!r.isType(i[0],"string")&&i[0].body&&(d=i[0].body)),e.telemeter.captureNetwork(f,"fetch",void 0,d),t.apply(this,i).then(function(t){f.end_time_ms=r.now(),f.status_code=t.status;var n=null;if(e.autoInstrument.networkResponseHeaders){var o=e.autoInstrument.networkResponseHeaders;n={};try{if(!0===o);else for(var i=0;i<o.length;i++){var a=o[i];n[a]=t.headers.get(a)}}catch(e){}}var s=null;return n&&(s={headers:n}),s&&(f.response=s),t})}},this.replacements,"network")},c.prototype.deinstrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var e;this.replacements.log.length;)e=this.replacements.log.shift(),this._window.console[e[0]]=e[1]},c.prototype.instrumentConsole=function(){if("console"in this._window&&this._window.console.log)for(var e=this,t=this._window.console,n=["debug","info","warn","error","log"],o=0,i=n.length;o<i;o++)a(n[o]);function a(n){var o=t[n],i=t,a="warn"===n?"warning":n;t[n]=function(){var t=Array.prototype.slice.call(arguments),n=r.formatArgsAsString(t);e.telemeter.captureLog(n,a),o&&Function.prototype.apply.call(o,i,t)},e.replacements.log.push([n,o])}},c.prototype.deinstrumentDom=function(){("addEventListener"in this._window||"attachEvent"in this._window)&&this.removeListeners("dom")},c.prototype.instrumentDom=function(){if("addEventListener"in this._window||"attachEvent"in this._window){var e=this.handleClick.bind(this),t=this.handleBlur.bind(this);this.addListener("dom",this._window,"click","onclick",e,!0),this.addListener("dom",this._window,"blur","onfocusout",t,!0)}},c.prototype.handleClick=function(e){try{var t=i.getElementFromEvent(e,this._document),n=t&&t.tagName,r=i.isDescribedElement(t,"a")||i.isDescribedElement(t,"button");n&&(r||i.isDescribedElement(t,"input",["button","submit"]))?this.captureDomEvent("click",t):i.isDescribedElement(t,"input",["checkbox","radio"])&&this.captureDomEvent("input",t,t.value,t.checked)}catch(e){}},c.prototype.handleBlur=function(e){try{var t=i.getElementFromEvent(e,this._document);t&&t.tagName&&(i.isDescribedElement(t,"textarea")?this.captureDomEvent("input",t,t.value):i.isDescribedElement(t,"select")&&t.options&&t.options.length?this.handleSelectInputChanged(t):i.isDescribedElement(t,"input")&&!i.isDescribedElement(t,"input",["button","submit","hidden","checkbox","radio"])&&this.captureDomEvent("input",t,t.value))}catch(e){}},c.prototype.handleSelectInputChanged=function(e){if(e.multiple)for(var t=0;t<e.options.length;t++)e.options[t].selected&&this.captureDomEvent("input",e,e.options[t].value);else e.selectedIndex>=0&&e.options[e.selectedIndex]&&this.captureDomEvent("input",e,e.options[e.selectedIndex].value)},c.prototype.captureDomEvent=function(e,t,n,r){if(void 0!==n)if(this.scrubTelemetryInputs||"password"===i.getElementType(t))n="[scrubbed]";else if(this.telemetryScrubber){var o=i.describeElement(t);this.telemetryScrubber(o)&&(n="[scrubbed]")}var a=i.elementArrayToString(i.treeToArray(t));this.telemeter.captureDom(e,a,n,r)},c.prototype.deinstrumentNavigation=function(){var e=this._window.chrome;!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState&&u(this.replacements,"navigation")},c.prototype.instrumentNavigation=function(){var e=this._window.chrome;if(!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState){var t=this;s(this._window,"onpopstate",function(e){return function(){var n=t._location.href;t.handleUrlChange(t._lastHref,n),e&&e.apply(this,arguments)}},this.replacements,"navigation"),s(this._window.history,"pushState",function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t.handleUrlChange(t._lastHref,n+""),e.apply(this,arguments)}},this.replacements,"navigation")}},c.prototype.handleUrlChange=function(e,t){var n=o.parse(this._location.href),r=o.parse(t),i=o.parse(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.path+(r.hash||"")),n.protocol===i.protocol&&n.host===i.host&&(e=i.path+(i.hash||"")),this.telemeter.captureNavigation(e,t)},c.prototype.deinstrumentConnectivity=function(){("addEventListener"in this._window||"body"in this._document)&&(this._window.addEventListener?this.removeListeners("connectivity"):u(this.replacements,"connectivity"))},c.prototype.instrumentConnectivity=function(){if("addEventListener"in this._window||"body"in this._document)if(this._window.addEventListener)this.addListener("connectivity",this._window,"online",void 0,function(){this.telemeter.captureConnectivityChange("online")}.bind(this),!0),this.addListener("connectivity",this._window,"offline",void 0,function(){this.telemeter.captureConnectivityChange("offline")}.bind(this),!0);else{var e=this;s(this._document.body,"ononline",function(t){return function(){e.telemeter.captureConnectivityChange("online"),t&&t.apply(this,arguments)}},this.replacements,"connectivity"),s(this._document.body,"onoffline",function(t){return function(){e.telemeter.captureConnectivityChange("offline"),t&&t.apply(this,arguments)}},this.replacements,"connectivity")}},c.prototype.addListener=function(e,t,n,r,o,i){t.addEventListener?(t.addEventListener(n,o,i),this.eventRemovers[e].push(function(){t.removeEventListener(n,o,i)})):r&&(t.attachEvent(r,o),this.eventRemovers[e].push(function(){t.detachEvent(r,o)}))},c.prototype.removeListeners=function(e){for(;this.eventRemovers[e].length;)this.eventRemovers[e].shift()()},e.exports=c},function(e,t){"use strict";function n(e){return(e.getAttribute("type")||"").toLowerCase()}function r(e){if(!e||!e.tagName)return"";var t=[e.tagName];e.id&&t.push("#"+e.id),e.classes&&t.push("."+e.classes.join("."));for(var n=0;n<e.attributes.length;n++)t.push("["+e.attributes[n].key+'="'+e.attributes[n].value+'"]');return t.join("")}function o(e){if(!e||!e.tagName)return null;var t,n,r,o,i={};i.tagName=e.tagName.toLowerCase(),e.id&&(i.id=e.id),(t=e.className)&&"string"==typeof t&&(i.classes=t.split(/\s+/));var a=["type","name","title","alt"];for(i.attributes=[],o=0;o<a.length;o++)n=a[o],(r=e.getAttribute(n))&&i.attributes.push({key:n,value:r});return i}e.exports={describeElement:o,descriptionToString:r,elementArrayToString:function(e){for(var t,n,o=" > ".length,i=[],a=0,s=e.length-1;s>=0;s--){if(t=r(e[s]),n=a+i.length*o+t.length,s<e.length-1&&n>=83){i.unshift("...");break}i.unshift(t),a+=t.length}return i.join(" > ")},treeToArray:function(e){for(var t,n=[],r=0;e&&r<5&&"html"!==(t=o(e)).tagName;r++)n.unshift(t),e=e.parentNode;return n},getElementFromEvent:function(e,t){return e.target?e.target:t&&t.elementFromPoint?t.elementFromPoint(e.clientX,e.clientY):void 0},isDescribedElement:function(e,t,r){if(e.tagName.toLowerCase()!==t.toLowerCase())return!1;if(!r)return!0;e=n(e);for(var o=0;o<r.length;o++)if(r[o]===e)return!0;return!1},getElementType:n}}])},e.exports=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["_rollbar_wrapped","_wrapped","instrumentNavigation","instrumentNetwork"];function o(e,t){return e.filename&&-1!==e.filename.indexOf(t)}function i(e){return e.method&&r.some(function(t){return-1!==e.method.indexOf(t)})}t.default={frameHasValidOrigin:o,frameIsInternalRollbarMethod:i,shouldIgnoreError:function(e,t,n,r){for(var a=n&&n.body&&n.body.trace&&n.body.trace.frames||[],s=0;s<a.length;s+=1){var u=a[s];if(o(u,r))return i(u)}return a.length>0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){window.affirm=window.affirm||{},window.affirm.lib={},window.affirm.VERSION="@VERSION",window.affirm.VERSION_DATE="@DATE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,s.default)("config",a.default),(0,s.default)("util",d.default),(0,s.default)("checkout",i.default),(0,s.default)("experiments",r.default),(0,s.default)("events",p.default),(0,s.default)("product",c.default),(0,s.default)("ui",f.default),(0,s.default)("findAffirmConfig",m.findAffirmConfig),(0,s.default)("setAffirmConfig",m.setAffirmConfig),(0,s.default)("ui.error",g.showError),(0,s.default)("widgets.learn_more",_.default),(0,s.default)("widgets.as_low_as",h.default),(0,s.default)("analytics",o),(0,s.default)("ui.modal",P.default),(0,s.default)("ui.modal_access",v.default),(0,s.default)("ui.payments",b.default),(0,s.default)("widgets.promo",E.default),(0,s.default)("ui.template",O.default),(0,s.default)("ui.refresh",k.default),(0,s.default)("ui.openModal",y.default),(0,s.default)("ui.prequal",w.default),(0,s.default)("prequal",u.default);var e="function"==typeof Proxy,t="Chrome"===(0,I.default)(d.default.get_user_agent());e&&t&&A.default.getAssignments(["TrackApiUsage"]).then(function(e){if(e.TrackApiUsage&&"treatment"===e.TrackApiUsage.assignment_type){window.unproxiedAffirm=window.affirm;try{window.affirm=(0,l.default)(window.affirm,"affirm")}catch(e){window.affirm&&window.affirm.Rollbar&&window.affirm.Rollbar.error("Proxy error",e)}}})};var r=S(n(22)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(69)),i=S(n(15)),a=S(n(2)),s=S(n(13)),u=S(n(7)),c=S(n(26)),l=S(n(85)),f=S(n(39)),d=S(n(0)),p=S(n(9)),A=S(n(37)),h=S(n(40)),m=n(43),g=n(16),_=S(n(8)),y=S(n(46)),v=S(n(17)),b=S(n(30)),w=S(n(47)),E=S(n(48)),k=S(n(49)),O=S(n(19)),P=S(n(35)),I=S(n(32));function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){(function(e,n){var r=200,o="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,u="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",f="[object Boolean]",d="[object Date]",p="[object Error]",A="[object Function]",h="[object GeneratorFunction]",m="[object Map]",g="[object Number]",_="[object Null]",y="[object Object]",v="[object Proxy]",b="[object RegExp]",w="[object Set]",E="[object String]",k="[object Symbol]",O="[object Undefined]",P="[object ArrayBuffer]",I="[object DataView]",S=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[u]=M[c]=M[P]=M[f]=M[I]=M[d]=M[p]=M[A]=M[m]=M[g]=M[y]=M[b]=M[w]=M[E]=M["[object WeakMap]"]=!1;var C="object"==typeof e&&e&&e.Object===Object&&e,B="object"==typeof self&&self&&self.Object===Object&&self,x=C||B||Function("return this")(),j=t&&!t.nodeType&&t,R=j&&"object"==typeof n&&n&&!n.nodeType&&n,N=R&&R.exports===j,D=N&&C.process,U=function(){try{return D&&D.binding&&D.binding("util")}catch(e){}}(),F=U&&U.isTypedArray;function L(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Y(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var H,q,G,W=Array.prototype,V=Function.prototype,z=Object.prototype,K=x["__core-js_shared__"],J=V.toString,X=z.hasOwnProperty,Z=(H=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",$=z.toString,ee=RegExp("^"+J.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=N?x.Buffer:void 0,ne=x.Symbol,re=x.Uint8Array,oe=z.propertyIsEnumerable,ie=W.splice,ae=ne?ne.toStringTag:void 0,se=Object.getOwnPropertySymbols,ue=te?te.isBuffer:void 0,ce=(q=Object.keys,G=Object,function(e){return q(G(e))}),le=Ue(x,"DataView"),fe=Ue(x,"Map"),de=Ue(x,"Promise"),pe=Ue(x,"Set"),Ae=Ue(x,"WeakMap"),he=Ue(Object,"create"),me=Ye(le),ge=Ye(fe),_e=Ye(de),ye=Ye(pe),ve=Ye(Ae),be=ne?ne.prototype:void 0,we=be?be.valueOf:void 0;function Ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Oe;++t<n;)this.add(e[t])}function Ie(e){var t=this.__data__=new ke(e);this.size=t.size}function Se(e,t){var n=Ge(e),r=!n&&qe(e),o=!n&&!r&&We(e),i=!n&&!r&&!o&&Xe(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!X.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Qe(c,u))||s.push(c);return s}function Te(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}function Me(e){return null==e?void 0===e?O:_:ae&&ae in Object(e)?function(e){var t=X.call(e,ae),n=e[ae];try{e[ae]=void 0;var r=!0}catch(e){}var o=$.call(e);r&&(t?e[ae]=n:delete e[ae]);return o}(e):function(e){return $.call(e)}(e)}function Ce(e){return Je(e)&&Me(e)==u}function Be(e,t,n,r,o){return e===t||(null==e||null==t||!Je(e)&&!Je(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var l=Ge(e),A=Ge(t),h=l?c:Le(e),_=A?c:Le(t),v=(h=h==u?y:h)==y,O=(_=_==u?y:_)==y,S=h==_;if(S&&We(e)){if(!We(t))return!1;l=!0,v=!1}if(S&&!v)return s||(s=new Ie),l||Xe(e)?Re(e,t,n,r,o,s):function(e,t,n,r,o,s,u){switch(n){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!s(new re(e),new re(t)));case f:case d:case g:return He(+e,+t);case p:return e.name==t.name&&e.message==t.message;case b:case E:return e==t+"";case m:var c=Q;case w:var l=r&i;if(c||(c=Y),e.size!=t.size&&!l)return!1;var A=u.get(e);if(A)return A==t;r|=a,u.set(e,t);var h=Re(c(e),c(t),r,o,s,u);return u.delete(e),h;case k:if(we)return we.call(e)==we.call(t)}return!1}(e,t,h,n,r,o,s);if(!(n&i)){var T=v&&X.call(e,"__wrapped__"),M=O&&X.call(t,"__wrapped__");if(T||M){var C=T?e.value():e,B=M?t.value():t;return s||(s=new Ie),o(C,B,n,r,s)}}if(!S)return!1;return s||(s=new Ie),function(e,t,n,r,o,a){var s=n&i,u=Ne(e),c=u.length,l=Ne(t).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var d=u[f];if(!(s?d in t:X.call(t,d)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var A=!0;a.set(e,t),a.set(t,e);for(var h=s;++f<c;){d=u[f];var m=e[d],g=t[d];if(r)var _=s?r(g,m,d,t,e,a):r(m,g,d,e,t,a);if(!(void 0===_?m===g||o(m,g,n,r,a):_)){A=!1;break}h||(h="constructor"==d)}if(A&&!h){var y=e.constructor,v=t.constructor;y!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v)&&(A=!1)}return a.delete(e),a.delete(t),A}(e,t,n,r,o,s)}(e,t,n,r,Be,o))}function xe(e){return!(!Ke(e)||Z&&Z in e)&&(Ve(e)?ee:S).test(Ye(e))}function je(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||z,t!==r)return ce(e);var t,n,r,o=[];for(var i in Object(e))X.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Re(e,t,n,r,o,s){var u=n&i,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var d=-1,p=!0,A=n&a?new Pe:void 0;for(s.set(e,t),s.set(t,e);++d<c;){var h=e[d],m=t[d];if(r)var g=u?r(m,h,d,t,e,s):r(h,m,d,e,t,s);if(void 0!==g){if(g)continue;p=!1;break}if(A){if(!L(t,function(e,t){if(i=t,!A.has(i)&&(h===e||o(h,e,n,r,s)))return A.push(t);var i})){p=!1;break}}else if(h!==m&&!o(h,m,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Ne(e){return function(e,t,n){var r=t(e);return Ge(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ze,Fe)}function De(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xe(n)?n:void 0}Ee.prototype.clear=function(){this.__data__=he?he(null):{},this.size=0},Ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ee.prototype.get=function(e){var t=this.__data__;if(he){var n=t[e];return n===o?void 0:n}return X.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return he?void 0!==t[e]:X.call(t,e)},Ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=he&&void 0===t?o:t,this},ke.prototype.clear=function(){this.__data__=[],this.size=0},ke.prototype.delete=function(e){var t=this.__data__,n=Te(t,e);return!(n<0||(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,0))},ke.prototype.get=function(e){var t=this.__data__,n=Te(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return Te(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,r=Te(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Oe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ee,map:new(fe||ke),string:new Ee}},Oe.prototype.delete=function(e){var t=De(this,e).delete(e);return this.size-=t?1:0,t},Oe.prototype.get=function(e){return De(this,e).get(e)},Oe.prototype.has=function(e){return De(this,e).has(e)},Oe.prototype.set=function(e,t){var n=De(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Pe.prototype.add=Pe.prototype.push=function(e){return this.__data__.set(e,o),this},Pe.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.clear=function(){this.__data__=new ke,this.size=0},Ie.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var o=n.__data__;if(!fe||o.length<r-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Oe(o)}return n.set(e,t),this.size=n.size,this};var Fe=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(se(e),function(t){return oe.call(e,t)}))}:function(){return[]},Le=Me;function Qe(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function Ye(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(le&&Le(new le(new ArrayBuffer(1)))!=I||fe&&Le(new fe)!=m||de&&"[object Promise]"!=Le(de.resolve())||pe&&Le(new pe)!=w||Ae&&"[object WeakMap]"!=Le(new Ae))&&(Le=function(e){var t=Me(e),n=t==y?e.constructor:void 0,r=n?Ye(n):"";if(r)switch(r){case me:return I;case ge:return m;case _e:return"[object Promise]";case ye:return w;case ve:return"[object WeakMap]"}return t});var qe=Ce(function(){return arguments}())?Ce:function(e){return Je(e)&&X.call(e,"callee")&&!oe.call(e,"callee")},Ge=Array.isArray;var We=ue||function(){return!1};function Ve(e){if(!Ke(e))return!1;var t=Me(e);return t==A||t==h||t==l||t==v}function ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Je(e){return null!=e&&"object"==typeof e}var Xe=F?function(e){return function(t){return e(t)}}(F):function(e){return Je(e)&&ze(e.length)&&!!M[Me(e)]};function Ze(e){return null!=(t=e)&&ze(t.length)&&!Ve(t)?Se(e):je(e);var t}n.exports=function(e,t){return Be(e,t)}}).call(this,n(31),n(23)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.sendRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={credentials:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"include",headers:r,method:n},i=r["Content-Type"];return"POST"!==n&&"PUT"!==n&&"PATCH"!==n||(o.body=JSON.stringify(t)),fetch(e,o).then(function(e){if(e.status>=500||404===e.status)return{responseData:{message:404===e.status?"Not Found":"Unexpected Error"},responseHeaders:e.headers,responseStatus:e.status};switch(i){case"application/json":return e.json().then(function(t){return{responseData:t,responseHeaders:e.headers,responseStatus:e.status}});default:return e.text().then(function(t){return{responseData:t,responseHeaders:e.headers,responseStatus:e.status}})}})};t.default=r},function(e,t,n){"use strict";var r=function(){r={};var e=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance;if(e){Object.keys(Object.getPrototypeOf(e.timing)).forEach(function(t){"function"!=typeof e.timing[t]&&(r[t]=e.timing[t])}),window.chrome&&window.chrome.loadTimes&&"number"==typeof window.chrome.loadTimes().firstPaintTime&&(r.chromeFirstPaint=Math.round(1e3*window.chrome.loadTimes().firstPaintTime));var t=r.fetchStart;Object.keys(r).forEach(function(e){0!==r[e]&&(r[e]=r[e]-t)}),Object.assign(r,{TTFB:r.responseStart,contentDownloadTime:r.responseEnd-r.responseStart,domContentLoaded:r.domContentLoadedEventStart-r.domLoading,domProcessing:r.domComplete-r.domLoading,pageLoadTime:r.loadEventEnd})}return r};e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=["ssn","cvc","dob","name","phone","email","line1","address","zipcode","ssn_last4","card_number","phone_number","account_number"];e.exports=function e(t,n){if(void 0===t||null===t||"boolean"==typeof t)return t;if("string"==typeof t||"number"==typeof t)return n?(""+t).replace(/[0-9a-z]/gi,"*"):t;if(Array.isArray(t))return t.map(function(t){return e(t,n)});if("object"===(void 0===t?"undefined":r(t))){var i={};return Object.keys(t).forEach(function(r){i[r]=e(t[r],function(e){return-1!==o.indexOf(e)}(r)||n)}),i}return null}},function(e,t,n){"use strict";var r=["Android","BlackBerry","iPad","iPhone","iPod","webOS","Windows Phone"],o=["Linux","Macintosh","Windows"];function i(e){for(var t=0;t<r.length;t++){var n=r[t];if(-1!==e.indexOf(n))return n}for(var i=0;i<o.length;i++){var a=o[i];if(-1!==e.indexOf(a))return a}return"Other"}e.exports={parseUserAgentIntoDeviceType:i,isMobile:function(){var e=i(navigator.userAgent);return-1!==r.indexOf(e)}}},function(e,t,n){"use strict";e.exports={getParamValue:function(e){var t=window.location.search.substring(1);if(""===t)return null;t=t.split("&");for(var n=0;n<t.length;n+=1){var r=t[n].split("=");if(r[0]===e){if(void 0===r[1])break;return decodeURIComponent(r[1])}}return null}}},function(e,t,n){"use strict";e.exports={loadEventListener:function(e){"complete"===document.readyState?e():window.addEventListener&&window.addEventListener("load",e,!1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackOrderUpdated=t.trackOrderRefunded=t.trackOrderCancelled=t.trackOrderConfirmed=t.trackCheckoutPaymentEntered=t.trackCheckoutStepCompleted=t.trackCheckoutStepViewed=t.trackCheckoutStarted=t.trackCartViewed=t.trackProductRemoved=t.trackProductAdded=t.trackProductViewed=t.trackProductClicked=t.trackPromotionClicked=t.trackPromotionViewed=t.trackProductListViewed=t.trackProductsSearched=t.schematizePromotion=t.schematizeProduct=t.schematizeOrder=t.schematizeListOfProducts=t.schematizeCart=void 0;var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};var a=t.schematizeCart=function(e){return{ctid:e.cartId,ctnm:e.name}},s=t.schematizeListOfProducts=function(e){return{ltid:e.listId,ltc:e.category,ltnm:e.name}},u=t.schematizeOrder=function(e){return{osn:e.storeName,oci:e.checkoutId,occ:e.coupon,ocu:e.currency,od:e.discount,ooi:e.orderId,opm:e.paymentMethod,or:e.revenue,os:e.shipping,osm:e.shippingMethod,otx:e.tax,ot:e.total}},c=t.schematizeProduct=function(e){return{prbr:e.brand,prca:e.category,prcc:e.coupon,prcu:e.currency,prnm:e.name,prpr:e.price,prid:e.productId,prqt:e.quantity,prva:e.variant}},l=t.schematizePromotion=function(e){return{pmmc:e.creativeId,pmms:e.message,pmpo:e.position,pmpi:e.promotionId}};t.trackProductsSearched=function(e){var t={query:decodeURIComponent(e)};i.default.trackEvent("trackProductsSearched",t,1,!1)},t.trackProductListViewed=function(e,t){var n={list:s(e),products:t.map(function(e){return c(e)})};i.default.trackEvent("trackProductListViewed",n,1,!1)},t.trackPromotionViewed=function(e){var t={promotion:l(e)};i.default.trackEvent("trackPromotionViewed",t,1,!1)},t.trackPromotionClicked=function(e){var t={promotion:l(e)};i.default.trackEvent("trackPromotionClicked",t,1,!1)},t.trackProductClicked=function(e){var t={product:c(e)};i.default.trackEvent("trackProductClicked",t,1,!1)},t.trackProductViewed=function(e){var t={product:c(e)};i.default.trackEvent("trackProductViewed",t,1,!1)},t.trackProductAdded=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={cart:a(t),product:c(e)};i.default.trackEvent("trackProductAdded",n,1,!1)},t.trackProductRemoved=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={cart:a(t),product:c(e)};i.default.trackEvent("trackProductRemoved",n,1,!1)},t.trackCartViewed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={cart:a(t),products:e.map(function(e){return c(e)})};i.default.trackEvent("trackCartViewed",n,1,!1)},t.trackCheckoutStarted=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])||[],n={order:u(e),products:t.map(function(e){return c(e)})};i.default.trackEvent("trackCheckoutStarted",n,1,!1)},t.trackCheckoutStepViewed=function(e,t){var n={order:u(t),step:e};i.default.trackEvent("trackCheckoutStepViewed",n,1,!1)},t.trackCheckoutStepCompleted=function(e,t){var n={order:u(t),step:e};i.default.trackEvent("trackCheckoutStepCompleted",n,1,!1)},t.trackCheckoutPaymentEntered=function(e,t){var n={order:u(t),step:e};i.default.trackEvent("trackCheckoutPaymentEntered",n,1,!1)},t.trackOrderConfirmed=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])||[],n={order:u(e),products:t.map(function(e){return c(e)})};i.default.trackEvent("trackOrderConfirmed",n,1,!1)},t.trackOrderCancelled=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])||[],n={order:u(e),products:t.map(function(e){return c(e)})};i.default.trackEvent("trackOrderCancelled",n,1,!1)},t.trackOrderRefunded=function(e,t,n){var r={amount:e,currency:t,orderId:n,products:((arguments.length>3&&void 0!==arguments[3]?arguments[3]:[])||[]).map(function(e){return c(e)})};i.default.trackEvent("trackOrderRefunded",r,1,!1)},t.trackOrderUpdated=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])||[],n={order:u(e),products:t.map(function(e){return c(e)})};i.default.trackEvent("trackOrderUpdated",n,1,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(71);var i=new((r=o)&&r.__esModule?r:{default:r}).default;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(9)),i=a(n(72));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api_url="https://api-cf.affirm.com/api/v2/",this.assets_root="https://cdn1.affirm.com/products/affirmjs/master/dist/",this.base_cdn_url="https://promos.affirm.com/static",this.cart={},this.frontend_url="https://www.affirm.com",this.mup_enabled_merchants=Object({0:"Z7Z0JX7BBT6OUTYC",1:"A9DSK0H1ZLDIPQTS",2:"TJZ8RG1ONJZ1VWLV",3:"VBFZ6ZOWV59T5SCP",4:"SOPRFXA9T1NI37O7"}),this.pageType="",this.payments_url_base="https://calculator.affirm.com",this.promos_url_prefix="https://cdn1.affirm.com/platform/public/promos/",this.resource_urls={experiments:"api/v3/features/",experimentImpressions:"api/v3/features/impressions_cors",new_order:"checkout/",new_future_checkout:"checkout/?as_future=1",prequal_backend_route:"apps/prequal/",prequal_frontend_learn_more_route:"#/prequalifications/learn-more",prequal_banner_route:"apps/prequal/banner",send_future_checkout:"send_future_checkout",third_party_cookie_check:"cookie_sent",toast_backend_route:"apps/toast"},this.toast={onCartPage:!1,onPrequalSuccess:!1},this.tracking_endpoint="tracker.affirm.com",this.set=this.set.bind(this)}return r(e,[{key:"set",value:function(t){var n=e.scrubConfig(t);(0,i.default)(this,n),Object.prototype.hasOwnProperty.call(t,"pageType")&&o.default.trigger("config:pageType"),t.toast&&Object.prototype.hasOwnProperty.call(t.toast,"onCartPage")&&o.default.trigger("config:toast:onCartPage"),t.toast&&Object.prototype.hasOwnProperty.call(t.toast,"onPrequalSuccess")&&o.default.trigger("config:toast:onPrequalSuccess")}}],[{key:"scrubConfig",value:function(e){var t=(0,i.default)({},e);return delete t.scrubConfig,delete t.set,delete t.learn_more,t}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(73),i=(r=o)&&r.__esModule?r:{default:r};t.default=function e(t,n){return Object.keys(n).forEach(function(r){var o=n[r];null!=o&&Object.prototype.hasOwnProperty.call(n,r)&&(i.default.isPlainObject(o)?i.default.isPlainObject(t[r])?t[r]=e(t[r],e({},o)):t[r]=e({},o):t[r]=o)}),t}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){return"object"===(void 0===e?"undefined":r(e))&&!i(e)}function i(e){return Array.isArray(e)}e.exports={isObject:o,isPlainObject:function(e){return o(e)&&"[object Object]"===String(e)},isArray:i}},function(e,t,n){"use strict";(function(e){var t,n,r,o,i,a;t=e,n=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},r=function(e,t,n){var r=new Date;return void 0!==e&&r.setFullYear(e),r.setMonth(t),r.setDate(n),r},o=function(e){return n(r(e,0,2))},i=function(e){return n(r(e,5,2))},(a={determine:function(){var e,t,n,r=(e=o(),t=i(),(n=e-t)<0?e+",1":n>0?t+",1,s":e+",0");return new a.TimeZone(a.olson.timezones[r])},date_is_dst:function(e){var t=e.getMonth()>7,r=t?i(e.getFullYear()):o(e.getFullYear()),a=r-n(e);return r<0||t?0!==a:a<0},dst_start_for:function(e){var t=new Date(2010,6,15,1,0,0,0);return{"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":t,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":t,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)}[e]}}).TimeZone=function(e){var t={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},n=e;return void 0!==t[n]&&function(){for(var e=t[n],r=e.length,o=0,i=e[0];o<r;o+=1)if(i=e[o],a.date_is_dst(a.dst_start_for(i)))return void(n=i)}(),{name:function(){return n}}},a.olson={},a.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},t.exports=a}).call(this,n(23)(e))},function(e,t){var n,r,o;r=document.getElementsByTagName("script")[0],o=r.parentNode,n=function(e,t){var n;return(n=document.createElement("script")).src=e,n.type="text/javascript",null!=n.addEventListener?n.addEventListener("load",t,!1):n.onreadystatechange=function(){if(n.readyState in{loaded:1,complete:1})return n.onreadystatechange=null,t()},o.insertBefore(n,r)},e.exports={loadjs:n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!o.default.sniffer.cookies)return r.default.showError({body:"Affirm Checkout requires cookies in order to work properly.  Please enable them in your settings before continuing.",title:"You do not have cookies enabled."}),i.default.trackEvent(c),!1;if(!o.default.sniffer.localstorage)return r.default.showError({body:"This application requires features that are disabled in private browsing mode. Please return to normal web browsing before continuing.",title:"Private browsing not supported"}),i.default.trackEvent(l),!1;if(!o.default.sniffer.cors)return r.default.showError({body:u,title:s}),i.default.trackEvent(f),!1;return!0};var r=a(n(16)),o=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var s="Your browser is out of date",u="Your browser is missing important features that allow Affirm checkout to work properly. Please upgrade your browser at http://browsehappy.com before continuing.",c="Cookies Disabled",l="localStorage Disabled",f="CORS not available"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=y(n(20)),s=y(n(3)),u=y(n(2)),c=y(n(29)),l=n(16),f=y(n(11)),d=y(n(10)),p=n(12),A=y(n(0)),h=y(n(1)),m=y(n(5)),g=y(n(14)),_=y(n(84));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.checkoutPayload&&!e.src)throw new Error(t.MISSING_SOURCE_ERROR);var r=Object.assign({mode:e.mode||t.MODE_REDIRECT},e),o={name:"checkout-application",popupCss:{width:"640px"}};e.src&&(o.src=t.decorateUrlWithDeviceId(e.src));var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,Object.assign(o,n)));return i.config=Object.assign(i.config,i.defaultConfig,r),(0,m.default)(i,"onGetCheckoutDataError","onPopupClose","postMessageListener"),(0,m.default)(i.config,i,"onFail","onSuccess"),A.default.bind(window,"message",i.postMessageListener),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default),o(t,[{key:"defaultConfig",get:function(){return{mode:t.MODE_REDIRECT,onFail:this.onCheckoutFail,onSuccess:this.onCheckoutSuccess}}},{key:"defaultOptions",get:function(){var e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"defaultOptions",this);return e.resizeHeight=!0,e}}],[{key:"addCohortIdToPayload",value:function(e){return a.default.getFinancingExperimentCohortId(s.default.getPublicApiKey()).then(function(t){if(!t)return e;var n=Object.assign({},e);return n.meta=n.meta||{},n.meta.cohort_id=t,n})}},{key:"decorateUrlWithDeviceId",value:function(e){var t=h.default.getTrackingKey();return null!==t?A.default.formatted_url(e,{device_id:t}):e}},{key:"createCheckout",value:function(e){return t.addCohortIdToPayload(e).then(function(e){return fetch(t.CREATE_CHECKOUT_URL,{body:A.default.param(e),headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},method:"POST",mode:"cors"})})}},{key:"createCheckoutUrl",value:function(e,n){return{checkoutUrl:""+t.CHECKOUT_FRONTEND_URL+n.merchant.public_api_key+"/new/"+e+"/",checkoutAri:e}}},{key:"getErrorDialogConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=void 0,r=t.ERROR_MAPPING,o=e.field&&e.field.match(/^(shipping|billing|total)/i);if(["financial-product-state-exclusion","inactive-merchant"].indexOf(e.code)>-1)n={body:e.message};else if("invalid_field"===e.code&&o)if(e.ui&&e.ui.main&&e.ui.sub){var i=e.ui.sub_extra,a="";i&&i.length&&(a="<br /><p>"+i.map(_.default).join("</p><p>")+"</p>"),n={body:(0,_.default)(e.ui.sub),body_extra:a,title:(0,_.default)(e.ui.main)}}else if(r[e.field]&&"state"===e.message)n={title:"Your address is outside the United States.",body:"We're sorry, Affirm currently only provides financing in the United States. Please return to the merchant to choose another payment method."};else if(r[e.field]){var s=r[e.field];n={body:"Please return to the merchant to correct your "+s+".",title:"You provided an invalid "+s+"."}}else n=e.message?{body:e.message}:{body:"We're sorry, there was an issue with the "+o[0]+" information provided, please update your information and try again."};else"checkout-amount-over-limit"===e.code?n={body:"Your purchase amount is over Affirm's limit. Please choose another payment method or modify your purchase total.",title:"Please choose another payment method"}:"service_unavailable"===e.code&&(n={body:"We're working hard to make Affirm even better. Please try again later.",icon_class:"affirm-alert-icon-large",title:"Affirm is temporarily unavailable due to regular maintenance"});return n}},{key:"handleCheckoutWithIdResponse",value:function(e){var n=e.checkoutUrl,r=e.checkoutAri;return(0,p.validateCheckoutAri)(r)?{token:r,url:n}:Promise.reject({error:t.INVALID_CHECKOUT_ARI})}},{key:"handleCheckoutResponse",value:function(e){var n=e.checkoutData,r=e.response;if(h.default.trackAPI(t.CREATE_CHECKOUT_URL,r.status,n),200===r.status){var o=n.redirect_url;if(o){var i=n.id;i||(i=o.replace(/\/$/,"").split("/").pop());var a={token:i,url:o};return n.js_callback_id&&(a.js_callback_id=n.js_callback_id),a}var s={error:t.UNKNOWN_ERROR};return Promise.reject(s)}var u=n||t.UNKNOWN_ERROR;return 503===r.status&&(u={code:"service_unavailable"}),Promise.reject(u)}},{key:"isValidMode",value:function(e){return f.default.isValidMode(e)||e===t.MODE_REDIRECT}},{key:"parseCheckoutResponse",value:function(e){return e.json().then(function(t){return{checkoutData:t,response:e}}).catch(function(){return e.text().then(function(t){return{checkoutData:t,response:e}}).catch(function(){return{checkoutData:e.body,response:e}})})}},{key:"payloadFilter",value:function(e){return void 0!==e&&null!==e&&(!!Array.isArray(e)||("object"!==(void 0===e?"undefined":r(e))||Object.keys(e).length>0))}},{key:"showGetCheckoutDataError",value:function(e){(0,l.showError)(t.getErrorDialogConfig(e))}},{key:"windowReload",value:function(e){window.location=e}},{key:"CREATE_CHECKOUT_URL",get:function(){return encodeURI(A.default.get_api_url(u.default.resource_urls.new_order))}},{key:"CHECKOUT_FRONTEND_URL",get:function(){return encodeURI(A.default.get_frontend_url(u.default.resource_urls.new_order))}},{key:"ERROR_MAPPING",get:function(){return{"billing.address":"billing address","billing.phone_number.phone_number":"billing phone number","billing.phone_number":"billing phone number","billing.name.first":"billing first name","billing.name.last":"billing last name","billing.email.email":"billing email","billing.name":"billing name","billing.email":"billing email","shipping.address":"shipping address","shipping.phone_number.phone_number":"shipping phone number","shipping.phone_number":"shipping phone number","shipping.name":"shipping name","shipping.name.first":"shipping first name","shipping.name.last":"shipping last name","shipping.email.email":"shipping email","shipping.email":"shipping email",total:"total"}}},{key:"INVALID_CHECKOUT_ARI",get:function(){return"Checkout ARI must be non-empty and may only contain characters [A-Z] and [0-9]"}},{key:"INVALID_MODE_ERROR",get:function(){return"Widget mode must either be 'modal', 'popup', or 'redirect'"}},{key:"MISSING_SOURCE_ERROR",get:function(){return"Widget config must either include a checkoutPayload or a src"}},{key:"MODE_REDIRECT",get:function(){return"redirect"}},{key:"POPUP_NAME",get:function(){return"Checkout"}},{key:"POPUP_OVERLAY_MESSAGE",get:function(){return"Please click continue if you don't see the Affirm Checkout window. You may need to turn off your pop-up blocker."}},{key:"POST_MESSAGE_ID",get:function(){return"AFFIRM_CHECKOUT_MESSAGES"}},{key:"REQUEST_CHECKOUT_CLOSE_MESSAGE",get:function(){return"REQUEST_CHECKOUT_CLOSE"}},{key:"UNKNOWN_ERROR",get:function(){return{code:"unknown_error",message:"An unknown error has occurred",type:"unknown_error"}}}]),o(t,[{key:"close",value:function(e,n){var r=this;n?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this,function(){n.success?(h.default.trackEvent("AFJS Checkout Succeeded",{checkoutAri:r.config.checkoutAri,checkoutToken:n.data&&n.data.checkout_token,elapsedTime:Date.now()-r.widgetOpenTime,isIFrameReady:r.isIFrameReady,widgetMode:r.config.mode}),r.config.onSuccess(n.data)):(h.default.trackEvent("AFJS Checkout Failed",{checkoutAri:r.config.checkoutAri,elapsedTime:Date.now()-r.widgetOpenTime,isIFrameReady:r.isIFrameReady,widgetMode:r.config.mode}),r.config.onFail(n.data)),r.unload(),"function"==typeof e&&e()}):this.postMessage({id:t.POST_MESSAGE_ID,name:t.REQUEST_CHECKOUT_CLOSE_MESSAGE})}},{key:"getCheckoutData",value:function(){var e=(0,g.default)(this.config.checkoutPayload,t.payloadFilter),n=this.config.checkoutAri;return n?Promise.resolve(t.createCheckoutUrl(n,e)).then(t.handleCheckoutWithIdResponse):t.createCheckout(e).then(t.parseCheckoutResponse).then(t.handleCheckoutResponse)}},{key:"loadCheckoutSource",value:function(e){var t=this;this.getCheckoutData().then(function(n){t.onGetCheckoutDataSuccess(n,e)},this.onGetCheckoutDataError)}},{key:"onCheckoutFail",value:function(e){"declined"===e.reason?t.windowReload(this.config.merchant.user_decline_url):t.windowReload(this.config.merchant.user_cancel_url)}},{key:"onCheckoutSuccess",value:function(e){var t={};e.checkout_token?t.checkout_token=e.checkout_token:t.charge_id=e.id,"GET"===this.config.merchant.user_confirmation_url_action&&(t=Object.assign(A.default.queryObj(this.config.merchant.user_confirmation_url),t)),A.default.post_to_url(this.config.merchant.user_confirmation_url,t,this.config.merchant.user_confirmation_url_action)}},{key:"onGetCheckoutDataError",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this,function(){e.unload(),t.showGetCheckoutDataError(n)})}},{key:"onGetCheckoutDataSuccess",value:function(e,n){this.setCheckoutData(e),this.config.mode===f.default.MODE_MODAL?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this,n):this.config.mode===f.default.MODE_POPUP?this.updatePopupSource(this.options.src,n):this.config.mode===t.MODE_REDIRECT&&(A.default.set_url(this.options.src),"function"==typeof n&&n())}},{key:"onPopupClose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.popup.off("close",this.onPopupClose),e&&this.close(null,{data:{reason:"canceled"},success:!1})}},{key:"onPopupOpen",value:function(e){var n=this;this.popup.on("close",this.onPopupClose),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onPopupOpen",this).call(this,function(){n.options.src?"function"==typeof e&&e():n.loadCheckoutSource(e)})}},{key:"open",value:function(e){var n=this;return f.default.determineMode(this.config.mode).then(function(r){var o=r;if(o===f.default.MODE_UNSUPPORTED){var a=n.config.checkoutPayload;o=a&&a.merchant&&a.merchant.use_vcn?t.MODE_UNSUPPORTED:t.MODE_REDIRECT}n.config.mode=o,o===f.default.MODE_MODAL?(h.default.trackImpression("Checkout Modal Page"),n.options.src?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",n).call(n,e):n.loadCheckoutSource(e)):o===f.default.MODE_POPUP?(h.default.trackImpression("Checkout Popup Page"),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",n).call(n,e)):o===t.MODE_REDIRECT?(h.default.trackImpression("Checkout Redirect Page"),n.options.src?A.default.set_url(n.options.src):n.loadCheckoutSource(e)):o===f.default.MODE_UNSUPPORTED&&((0,l.showError)({body:"Affirm Checkout requires third party cookies in order to work properly. Please enable them in your settings before continuing, or use a different browser.",title:"Your browser is missing important features"}),"function"==typeof e&&e())})}},{key:"postMessageListener",value:function(e){var n=d.default.parsePostMessageData(e);if(n&&n.id===t.POST_MESSAGE_ID)switch(n.name){case"AFFIRM_CHECKOUT_CLOSE":this.close(null,n),c.default.shouldOpenToastOnSuccess()&&c.default.open(!0);break;case"AFFIRM_CHECKOUT_INIT":this.clearTimers(!0)}}},{key:"setCheckoutData",value:function(e){this.config.checkoutAri=e.token,this.options.src=t.decorateUrlWithDeviceId(A.default.formatted_url(e.url,{fs:1}))}},{key:"unload",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unload",this).call(this),A.default.unbind(window,"message",this.postMessageListener),this.trigger("unload",{},!1)}}]),t}();t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n(3)),s=_(n(2)),u=_(n(7)),c=_(n(9)),l=_(n(27)),f=_(n(11)),d=_(n(21)),p=_(n(10)),A=_(n(18)),h=_(n(0)),m=n(12),g=n(1);function _(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n={bottom:"0",border:"0",borderRadius:"4px",boxShadow:"0 2px 7px 0 rgba(35, 41, 47, .16)",height:"1px",left:"0",right:"auto",margin:"0 0 -10px 0",overflow:"hidden",padding:"0",position:"fixed",top:"auto",width:"1px",zIndex:t.ZINDEX_VALUE,"-moz-transition":t.TRANSITION,"-o-transition":t.TRANSITION,"-webkit-transition":t.TRANSITION,transition:t.TRANSITION},r=h.default.extend({iframe_container_css:n,src:""},e),o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return o.isIFrameReady=!1,o.merchantPublicApiKey=a.default.getPublicApiKey(),o.transitions=null,o.postMessageListener=o.postMessageListener.bind(o),c.default.on(["config:pageType","config:toast:onCartPage"],function(){o.shouldOpenToastOnPageTypeUpdate()&&o.open(!0)}),c.default.on("config:toast:onPrequalSuccess",function(){o.shouldOpenToastOnSuccess()&&o.open()}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,A.default),i(t,[{key:"applyStyles",value:function(e){e&&"object"===(void 0===e?"undefined":o(e))&&h.default.set_element_style(this.$iframe_container,e)}},{key:"applyTransitions",value:function(e){this.transitions&&("in"===e?this.applyStyles(this.transitions.final):"out"===e&&this.applyStyles(this.transitions.initial))}},{key:"close",value:function(e){this.hide(),this.unload(),"function"==typeof e&&e()}}],[{key:"buildToastUrl",value:function(e,t,n){return h.default.get_frontend_url(s.default.resource_urls.toast_backend_route+"/"+e+"/?forceShow="+t+"&cartAmount="+n)}},{key:"POST_MESSAGE_ID",get:function(){return"AFFIRM_TOAST_MESSAGES"}},{key:"TRANSITION",get:function(){return"bottom "+t.TRANSITION_TIME+"ms ease, opacity "+t.TRANSITION_TIME+"ms ease"}},{key:"TRANSITION_TIME",get:function(){return 200}},{key:"VISIBLE_STYLES",get:function(){return{styles:{height:"1px",width:"1px"},transitions:{initial:{bottom:"-10px",opacity:0},final:{bottom:"32px",opacity:1}}}}},{key:"ZINDEX_VALUE",get:function(){return l.default.MAX_ZINDEX_VALUE-1}}]),i(t,[{key:"initializeTransitions",value:function(e){e&&"object"===(void 0===e?"undefined":o(e))&&e.initial&&e.final&&(this.transitions=e,this.applyTransitions("out"))}},{key:"isMupMerchant",value:function(){return(0,m.indexOf)(s.default.mup_enabled_merchants,this.merchantPublicApiKey)>-1}},{key:"loadToastOnPage",value:function(){h.default.bind(window,"message",this.postMessageListener),this.options.container=document.body,this.paint()}},{key:"openPrequal",value:function(e){if(this.prequalWidgets||(this.prequalWidgets={}),!this.prequalWidgets[e]){var t=u.default.get();this.prequalWidgets[e]=new d.default(r({},t,{urlParams:{unit_price:e,device_id:(0,g.getTrackingKey)(),merchant_name:t.merchant_name,referring_url:encodeURIComponent(window.location.href),webhook_session_id:t.webhook_session_id||h.default.getWebhookSessionId()}}))}return this.prequalWidgets[e].open(),this.prequalWidgets[e]}},{key:"postMessageListener",value:function(e){var n=this,o=p.default.parsePostMessageData(e);if(o&&o.id===t.POST_MESSAGE_ID)switch(o.name){case"iframe-toast-dimensions-and-show":var i="left"===(s.default.toast.position||"left"),a=(parseInt(s.default.toast.bottomMargin,10)-32||0)+"px",u=(parseInt(s.default.toast.horizontalMargin,10)||32)+"px";this.initializeTransitions(t.VISIBLE_STYLES.transitions),this.applyStyles(r({},t.VISIBLE_STYLES.styles,{height:o.data.styles.height,width:o.data.styles.width,left:i?u:"auto",right:i?"auto":u,margin:"0 0 "+a+" 0"})),this.show();break;case"iframe-toast-ready":this.isIFrameReady=!0;break;case"iframe-toast-close":this.applyTransitions("out"),setTimeout(function(){n.close(),o.data.openPrequal&&n.openPrequal(s.default.cart&&s.default.cart.total)},t.TRANSITION_TIME)}}},{key:"open",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments[1],o=parseInt(s.default.cart.total,10)||0;return this.options.src=t.buildToastUrl(this.merchantPublicApiKey,n,o),h.default.is_mobile()?Promise.resolve(!1):f.default.isModalSupported().then(function(t){return t&&(e.loadToastOnPage(),"function"==typeof r&&r()),t})}},{key:"shouldOpenToastOnPageTypeUpdate",value:function(){return!0===s.default.toast.onCartPage&&"cart"===s.default.pageType}},{key:"shouldOpenToastOnSuccess",value:function(){return s.default.toast.onPrequalSuccess||this.isMupMerchant()}},{key:"show",value:function(){var e=this;(function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),setTimeout(function(){e.applyTransitions("in")},100)}},{key:"unload",value:function(){this.remove(),h.default.unbind(window,"message",this.postMessageListener),this.isIFrameReady=!1,this.options.container=void 0,this.transitions=null}}]),t}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(27)),a=f(n(10)),s=f(n(0)),u=f(n(5)),c=f(n(80)),l=f(n(36));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n={"-webkit-tap-highlight-color":"transparent",overflow:"hidden",position:"fixed",bottom:"0",left:"0",right:"0",top:"0",zIndex:i.default.MAX_ZINDEX_VALUE,margin:"0",border:"0",padding:"0"},r={height:"100%",width:"100%",margin:"0",border:"0",padding:"0"};s.default.is_mobile()&&(r=s.default.extend({position:"fixed","overflow-y":"scroll","-webkit-overflow-scrolling":"touch","-webkit-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)",background:"#fff"},r));var o=s.default.extend({css:{height:"100%",width:"100%",margin:"0",border:"0",padding:"0"},iframe_container_css:n,modalCss:r},e),a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return a.isIFrameReady=!1,a.options=s.default.extend(a.defaultOptions,a.options),a.options.src=e.src,s.default.is_mobile()||(a.scrollbarWidth=l.default.getScrollbarWidth()),(0,u.default)(a,"alignModalAndPage","handleBackgroundClick","modalMessageListener","resetBodyPosition","resetModalAndPageAlignment","setBodyPosition"),a.registerWidgetListeners(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"defaultOptions",get:function(){return{minModalHeight:0,resizeHeight:!1,resizeWidth:!1}}},{key:"targetWindow",get:function(){return this.$iframe.contentWindow}}],[{key:"IFRAME_CONTAINER_CLASSNAME",get:function(){return"affirm-sandbox-iframe-container"}},{key:"MODAL_MARGIN",get:function(){return 40}}]),o(t,[{key:"alignModalAndPage",value:function(){var e={},t=this.exceedsViewportHeight();if(void 0===this.bodyPosition&&void 0===this.bodyMarginRight&&(this.bodyPosition=document.body.style.position,this.bodyMarginRight=document.body.style.marginRight),this.bodyHasVerticalScroll){var n=void 0;try{var r=getComputedStyle(document.body);n=parseInt(r["margin-right"],10)}catch(e){n=0}s.default.set_element_style(document.body,{position:"relative",marginRight:this.scrollbarWidth+n+"px"}),t||0===this.scrollbarWidth?e.marginRight="0":e.marginRight=this.scrollbarWidth+"px"}else t&&0!==this.scrollbarWidth?e.marginRight="-"+this.scrollbarWidth+"px":e.marginRight="0";s.default.set_element_style(this.modal,e)}},{key:"appendTo",value:function(e){var t=s.default.getElementById(e);return this.regenerateIfAlreadyAppended(),this.modal.appendChild(this.$iframe),this.$iframe_container.appendChild(this.modal),t&&t.appendChild&&t.appendChild(this.$iframe_container),this}},{key:"exceedsViewportHeight",value:function(){return this.modalContainerHeight+this.modalVerticalMargins>window.innerHeight}},{key:"generateFrame",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateFrame",this).call(this);var e=document.createElement("div");e.className=t.IFRAME_CONTAINER_CLASSNAME,s.default.set_element_style(e,this.options.modalCss),this.modal=e}},{key:"handleBackgroundClick",value:function(e){e.currentTarget===this.$iframe_container&&this.close()}},{key:"maxViewableHeight",value:function(){return window.innerHeight-this.modalVerticalMargins}},{key:"modalMessageListener",value:function(e){var t=a.default.parsePostMessageData(e);if(t&&t.id===c.default.POST_MESSAGE_ID)switch(t.name){case c.default.IFRAME_DIMENSIONS_MESSAGE:this.resizeModal(t);break;case c.default.IFRAME_READY_MESSAGE:this.isIFrameReady=!0;break;case c.default.REQUEST_PARENT_BOUNDS_MESSAGE:this.sendModalBounds()}}},{key:"open",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this,e),s.default.is_mobile()||this.requestModalContentDimensions()}},{key:"optimizeUiCalculations",value:function(e){this.modalContainerHeight=parseInt(e.modalCss.height,10),this.modalVerticalMargins=parseInt(this.modal.style.marginBottom,10)+parseInt(this.modal.style.marginTop,10),this.scrollbarWidth=l.default.getScrollbarWidth()}},{key:"registerWidgetListeners",value:function(){s.default.is_mobile()?(this.on("hiding",this.resetBodyPosition),this.on("showing",this.setBodyPosition)):(this.on("hiding",this.resetModalAndPageAlignment),this.on("showing",this.alignModalAndPage),s.default.bind(this.$iframe_container,"click",this.handleBackgroundClick)),s.default.bind(window,"message",this.modalMessageListener)}},{key:"requestModalContentDimensions",value:function(){this.postMessage({name:c.default.REQUEST_IFRAME_DIMENSIONS_MESSAGE})}},{key:"resetBodyPosition",value:function(){void 0!==this.bodyPosition&&(s.default.set_element_style(document.body,{position:this.bodyPosition}),delete this.bodyPosition)}},{key:"resetModalAndPageAlignment",value:function(){s.default.set_element_style(document.body,{position:this.bodyPosition,marginRight:this.bodyMarginRight}),delete this.bodyPosition,delete this.bodyMarginRight}},{key:"resizeModal",value:function(e){if(e&&e.height&&e.width){var t={},n=e.height>this.modalContainerHeight;if(this.options.resizeHeight&&(n||this.exceedsViewportHeight())){var r=Math.max(e.height,this.maxViewableHeight(),this.options.minModalHeight);t.height=r+"px",this.modalContainerHeight=r}this.options.resizeWidth&&(t.width=e.width+"px"),(t.height||t.width)&&(s.default.set_element_style(this.modal,t),this.alignModalAndPage())}}},{key:"postMessage",value:function(e){var t=this.src();if(t){var n=s.default.extend({id:c.default.POST_MESSAGE_ID},e);this.isIFrameReady&&this.targetWindow.postMessage(JSON.stringify(n),s.default.get_domain(t))}}},{key:"sendModalBounds",value:function(){var e=Math.round(this.$iframe_container.scrollTop);s.default.is_mobile()||(e-=t.MODAL_MARGIN),e=Math.max(e,0);var n=this.modalContainerHeight-e,r=Math.min(n,window.innerHeight);this.postMessage({availableHeight:r,modalHeight:this.modalContainerHeight,name:c.default.PARENT_BOUNDS_MESSAGE,scrollTop:e})}},{key:"setBodyPosition",value:function(){void 0===this.bodyPosition&&(this.bodyPosition=document.body.style.position,s.default.set_element_style(document.body,{position:"fixed"}))}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(34),i=(r=o)&&r.__esModule?r:{default:r};var a="iframe-dimensions",s="iframe-ready",u="AFFIRM_FRAME_MESSAGES",c="request-parent-bounds",l="request-iframe-dimensions";function f(e){var t=d(e);t&&t.name===l&&p()}function d(e){var t=void 0;if("string"==typeof e.data)try{(t=JSON.parse(e.data)).id!==u&&(t=null)}catch(e){t=null}return t}function p(){var e=document.body.style.height,t=document.body.style.minHeight;document.body.style.height="auto",document.body.style.minHeight=0;var n={height:document.body.offsetHeight,id:u,name:a,width:document.body.offsetWidth};document.body.style.height=e,document.body.style.minHeight=t,window.parent.postMessage(JSON.stringify(n),"*")}t.default={IFRAME_DIMENSIONS_MESSAGE:a,IFRAME_READY_MESSAGE:s,initMessageListener:function(){i.default.bind(window,"message",f),window.parent.postMessage(JSON.stringify({id:u,name:s}),"*"),p()},isInIFrame:function(){return window.self!==window.top&&window.parent},requestParentBounds:function(){window.parent.postMessage(JSON.stringify({id:u,name:c}),"*")},parsePostMessageData:d,sendBodyDimensions:p,PARENT_BOUNDS_MESSAGE:"parent-bounds",POST_MESSAGE_ID:u,REQUEST_PARENT_BOUNDS_MESSAGE:c,REQUEST_IFRAME_DIMENSIONS_MESSAGE:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(4)),i=u(n(82)),a=u(n(19)),s=n(12);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Popup"));return n.options=Object.assign(t.DEFAULT_OPTIONS,e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,null,[{key:"DEFAULT_OPTIONS",get:function(){return{popupName:"Affirm",popupOverlayMessage:"Please click continue if you don't see the Affirm window. You may need to turn off your pop-up blocker.",popupTimeout:2500,popupWidth:400}}}]),r(t,[{key:"clearTimer",value:function(){clearTimeout(this.popupTimer),delete this.popupTimer}},{key:"close",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.clearTimer(),this.popupOverlay&&this.popupOverlay.close(),this.popupWindow&&(this.popupWindow.close(),delete this.popupWindow),this.trigger("close",t),"function"==typeof e&&e(t)}},{key:"getLoadingPage",value:function(){a.default.get("templates/loading.html",this.renderLoadingPage.bind(this))}},{key:"open",value:function(e){return this.popupWindow&&!this.popupWindow.top&&delete this.popupWindow,this.popupWindow?this.popupWindow.focus():(this.popupTimer=setTimeout(this.openPopupOverlay.bind(this,e),this.options.popupTimeout),this.popupWindow=window.open(this.options.src||"",this.options.popupName,(0,s.childWindowParams)(this.options.popupWidth)),this.options.src||this.getLoadingPage()),"function"==typeof e&&e(),this.popupWindow}},{key:"openPopupOverlay",value:function(e){delete this.popupTimer,this.popupOverlay?this.popupOverlay.open():(this.popupOverlay=new i.default({template_args:{title:this.options.popupOverlayMessage}}),this.popupOverlay.on("close",this.close.bind(this,null,!0)).on("continue",this.open.bind(this,e)))}},{key:"renderLoadingPage",value:function(e){var t=a.default.render({},e);!this.options.src&&this.popupWindow&&this.popupWindow.document&&(this.popupWindow.document.open(),this.popupWindow.document.write(t),this.popupWindow.document.close())}},{key:"updateSource",value:function(e){this.options.src=e,this.popupWindow&&this.popupWindow.location&&this.popupWindow.location.replace(e)}}]),t}();t.default=c},function(e,t,n){var r,o,i,a={}.hasOwnProperty;o=n(17).default,i=n(0),r=function(e){function t(e){null==e&&(e={}),t.__super__.constructor.call(this,i.extend({name:"affirm_overlay",template:"templates/overlay.html",template_args:{title:"Please click continue if you don't see the Affirm window. You may need to turn off your pop-up blocker."}},e)),this.open()}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,o),t}(),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=void 0,o=void 0,i=void 0,a=new Promise(function(e,a){o=a,i=e,n=setTimeout(function(){a(r)},t)});return Promise.race([e,a]).then(function(e){return clearTimeout(n),i(),e}).catch(function(e){throw clearTimeout(n),o(),e})};var r=t.TIMEOUT_ERROR="TIMED_OUT"},function(e,t,n){"use strict";var r=/["'&<>]/;e.exports=function(e){var t,n=""+e,o=r.exec(n);if(!o)return n;var i="",a=0,s=0;for(a=o.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==a&&(i+=n.substring(s,a)),s=a+1,i+=t}return s!==a?i+n.substring(s,a):i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function e(t,n){return new Proxy(t,{apply:function(e,t,r){try{var o=d+"."+n,i=o.lastIndexOf("affirm.");return i>-1&&(o=o.slice(i),f(r,o)),d="",e.apply(t,r)}catch(e){window.affirm=window.unproxiedAffirm}},construct:function(e,t){try{var r=d+"."+n,o=r.lastIndexOf("affirm.");return o>-1&&(r=r.slice(o),f(t,r)),d="",new(Function.prototype.bind.apply(e,[null].concat(s(t))))}catch(e){window.affirm=window.unproxiedAffirm}},get:function(t,r){var o=d.split(".");if((d=d&&o[o.length-1]!==n?d+"."+n:"affirm"===n?"affirm":"").split(".").length>10){var i=d.lastIndexOf("affirm.");d=i>-1?d.slice(i):""}return t[r]instanceof Object&&!(t[r]instanceof HTMLElement)?e(t[r],r):t[r]}})};var o,i=n(1),a=(o=i)&&o.__esModule?o:{default:o};function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u={number:function(e){return{type:e!==(0|e)?"float":"int"}},string:function(e){return{length:e.length,type:e&&!isNaN(e)?+e!=(0|+e)?"string-float":"string-int":"string"}},object:function(e){return{keys:Object.keys(e)}},array:function(e){return{length:e.length}}};var c=function(e,t,n,r){return e<0?[(o=r.indexOf(n),i=n,o>0?o+i.length+1:-1),r.length+1]:r.slice(e,e+n.length)!==n?[-1,-2]:[e+n.length+1,t];var o,i};function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-2;return i===a?null:(Object.keys(e).forEach(function(f){var d=t+"."+f,p=e[f],A=function(e){var t={}.toString.call(e).toLowerCase().match(/\s([a-z]+)/)[1];return r({type:t},u[t]&&u[t](e))}(p);!n&&new Set(["object","array"]).has(A.type)&&l.apply(void 0,[p,d,!1,o].concat(s(c(i,a,f,t)))),o[d]=A.type}),o)}function f(e,t){var n;t.indexOf("hasOwnProperty")<0&&t.split(".").length<=10&&a.default.trackEvent("AFJS API Track",{apiCall:t,callArgs:(n=l(e,t,!0),Object.keys(n).sort(function(e,t){return e<t?-1:e>t?1:0}).map(function(e){return n[e]}).join(", ")),detailedArgs:JSON.stringify(l(e,t))})}var d=""},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(4)),i=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.isReady=!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"ready",value:function(e){if(e)if(this.isReady){if("function"==typeof e)try{e()}catch(e){a.default.trackEvent("affirm.ui.ready Callback Error",e)}}else this.on("ready",e);else this.trigger("ready"),this.isReady=!0;return this.isReady}},{key:"runQueuedActions",value:function(){var e=this,t=window.affirm&&window.affirm.ui&&window.affirm.ui._||[];i.default.delay(function(){t.forEach(function(t){e[t[0]].apply(e,t[1])})})}}]),t}();t.default=u},function(e,t,n){var r=n(88);(e.exports=n(89)(!1)).push([e.i,"@font-face {\n  font-family: 'affirm';\n  src: url("+r(n(45))+");\n  src: url("+r(n(45))+'#iefix) format("embedded-opentype"), url('+r(n(90))+') format("woff2"), url('+r(n(91))+') format("woff"), url('+r(n(92))+'#affirm) format("svg");\n  font-weight: normal;\n  font-style: normal; }\n\n.__affirm-logo {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'affirm\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Enable Ligatures ================ */\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -webkit-font-feature-settings: "liga";\n          font-feature-settings: "liga";\n  -webkit-font-variant-ligatures: discretionary-ligatures;\n          font-variant-ligatures: discretionary-ligatures;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-size: 1.236em; }\n  .__affirm-logo.__affirm-logo-black {\n    color: #23292F; }\n  .__affirm-logo.__affirm-logo-blue {\n    color: #0FA0EA; }\n  .__affirm-logo.__affirm-logo-white {\n    color: #FFF; }\n  .__affirm-logo.__ligature__affirm__ {\n    font-size: 0.8em; }\n\n@-webkit-keyframes affirm_logo_listener {\n  from {\n    outline: 1px solid transparent; }\n  to {\n    outline: 0px solid transparent; } }\n\n@keyframes affirm_logo_listener {\n  from {\n    outline: 1px solid transparent; }\n  to {\n    outline: 0px solid transparent; } }\n\n@-webkit-keyframes affirm_asset_listener {\n  from {\n    outline: 1px solid transparent; }\n  to {\n    outline: 0px solid transparent; } }\n\n@keyframes affirm_asset_listener {\n  from {\n    outline: 1px solid transparent; }\n  to {\n    outline: 0px solid transparent; } }\n\n.__affirm-logo:not(.__processed) {\n  -webkit-animation: affirm_logo_listener 0.001s;\n          animation: affirm_logo_listener 0.001s; }\n\nimg[src*="cdn-assets.affirm.com"]:not(.__processed) {\n  -webkit-animation: affirm_asset_listener 0.001s;\n          animation: affirm_asset_listener 0.001s; }\n',""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t){e.exports="data:font/woff2;base64,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"},function(e,t){e.exports="data:application/font-woff;base64,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"},function(e,t,n){e.exports=n.p+"affirm-a26c1846f55e4d10ec3203ffce51bda2.svg"},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,c=0,l=[],f=n(94);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(_(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(_(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function A(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function m(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),A(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function _(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=c++;n=u||(u=m(t)),r=b.bind(null,n,a,!1),o=b.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),A(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=f(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&d(p(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete i[s.id]}}}};var y,v=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function b(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(7)),a=f(n(96)),s=f(n(21)),u=f(n(0)),c=f(n(5)),l=n(1);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,c.default)(this,"createPrequalWidget","launchPrequalFlow"),i.default.instance.on(["reset","set","update"],this.createPrequalWidget)}return o(e,[{key:"createBannerWidget",value:function(){this.prequalBanner||(this.prequalBanner=new a.default({container:document.body}),this.prequalBanner.on("launch_prequal_flow",this.launchPrequalFlow))}},{key:"createPrequalWidget",value:function(){var e=this;if(!this.prequalWidget){var t=i.default.get();this.prequalWidget=new s.default(r({},t,{urlParams:{device_id:(0,l.getTrackingKey)(),merchant_name:t.merchant_name,referring_url:encodeURIComponent(window.location.href),webhook_session_id:t.webhook_session_id||u.default.getWebhookSessionId()}})),this.prequalWidget.on("hiding",function(){e.prequalBanner&&e.prequalBanner.trigger("render")}).on("prequalFinished",function(){e.prequalBanner&&e.prequalBanner.fetch()})}}},{key:"hide",value:function(){this.prequalBanner&&this.prequalBanner.hide()}},{key:"launchPrequalFlow",value:function(){return this.prequalWidget||this.createPrequalWidget(),this.prequalWidget.open(null,i.default.get()),this.prequalWidget.getTargetWindow()}},{key:"show",value:function(){u.default.is_ie()||(this.prequalBanner?this.prequalBanner.show():(this.createBannerWidget(),this.createPrequalWidget()))}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(3)),a=f(n(2)),s=f(n(7)),u=f(n(18)),c=f(n(0)),l=f(n(24));function f(e){return e&&e.__esModule?e:{default:e}}var d=i.default.getPublicApiKey(),p=c.default.get_frontend_url(a.default.resource_urls.prequal_banner_route)+"?public_api_key="+d,A=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.container)throw new Error(t.MISSING_CONTAINER_ERROR);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c.default.extend({css:{bottom:"0",left:"0",position:"fixed",right:"0",zIndex:1e3,height:"96px",width:"100%"},name:"affirm-prequal",src:p},e)));return n.on("hide",n.hide).on("ready",n.init).on("show",n.show),n.paint(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,null,[{key:"isBannerHidden",value:function(){return l.default.read(t.VISIBILITY_COOKIE_NAME)===t.VISIBILITY_COOKIE_VALUE}},{key:"MISSING_CONTAINER_ERROR",get:function(){return"A container for the widget is required"}},{key:"VISIBILITY_COOKIE_EXPIRATION",get:function(){return 7}},{key:"VISIBILITY_COOKIE_NAME",get:function(){return"AFFIRM_PREQUAL_BANNER_VISIBILITY"}},{key:"VISIBILITY_COOKIE_VALUE",get:function(){return"hidden"}}]),o(t,[{key:"fetch",value:function(){this.trigger("fetch",{pageType:s.default.get().page_type||null,publicApiKey:d})}},{key:"hide",value:function(e){l.default.create(t.VISIBILITY_COOKIE_NAME,t.VISIBILITY_COOKIE_VALUE,t.VISIBILITY_COOKIE_EXPIRATION),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"hide",this).call(this),"function"==typeof e&&e()}},{key:"init",value:function(){this.trigger("init",{pageType:s.default.get().page_type||null}),this.trigger("render")}},{key:"show",value:function(e){t.isBannerHidden()||(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),"function"==typeof e&&e())}}]),t}();t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(2)),o=s(n(3)),i=s(n(47)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}n(44);var u=["text","logo","symbol"],c=["black","blue","white"],l=function(e){var t=e.getAttribute("data-promo-id"),n=e.getAttribute("data-affirm-color")||"blue",r=e.getAttribute("data-affirm-type")||"logo",o="true"===e.getAttribute("data-learnmore-show"),s="false"!==e.getAttribute("data-clickable");if(-1===u.indexOf(r))throw new Error('Affirm: Received a wrong data-affirm-type value "'+r+'". Element:',e);if(-1===c.indexOf(n))throw new Error('Affirm: Received a wrong data-affirm-color value "'+n+'". Element:',e);var l=void 0;return l="text"===r?"Affirm":'<span class="__affirm-logo __affirm-logo-'+n+'">'+("symbol"===r?"affirm":"Affirm")+"</span>",a.default.trackImpression("Inline Prequal Promo"),f.getConfig(t).then(function(t){var n=t.pricingTemplate;if(n=n.replace(/\{affirm_logo\}/gi,l),e.innerHTML=n,o){e.innerHTML=e.innerHTML+". ";var r=document.createElement("a");r.innerHTML="Learn more",r.setAttribute("href","javascript:void(0)"),r.onclick=function(e){a.default.trackUserInteraction("Inline Prequal Promo",a.default.USER_ACTIONS.CLICK),e.preventDefault(),i.default.launchPrequalFlow()},e.appendChild(r)}else s&&(e.setAttribute("href","#"),e.onclick=function(e){a.default.trackUserInteraction("Inline Prequal Promo",a.default.USER_ACTIONS.CLICK),e.preventDefault(),i.default.launchPrequalFlow()},e.style="cursor: pointer;")})},f={setupElement:l,setupElements:function(e){for(var t=0;t<e.length;t++){var n=e[t];l(n)}},getConfig:function(e){var t=r.default.promos_url_prefix+"prequal_text/"+o.default.getPublicApiKey()+"/"+e+".json";return window.fetch(t).then(function(e){return e.ok?e.json():Promise.reject("Invalid promo ID")})}};t.default=f},function(e,t){var n,r;n=["yes","1"],r=function(){var e;return e=window.navigator.doNotTrack||window.navigator.msDoNotTrack||window.doNotTrack,n.indexOf(e)>-1},e.exports=r},function(e,t,n){var r;(r=n(19)).put("templates/error.html",n(100)),r.put("templates/learn_more_split_pay.html",n(101)),r.put("templates/loading.html",n(102)),r.put("templates/promo.html",n(103)),r.put("templates/overlay.html",n(104))},function(e,t){e.exports='<!DOCTYPE html>\n<head>\n    <meta charset="utf-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n    <title></title>\n    <meta name="description" content="">\n    <link rel="stylesheet" href="{{ASSETS_ROOT}}styles/main.css">\n</head>\n<body>\n  <div id="modal_wrapper" style="display:none;">\n    <a class="close-modal-button" href="javascript:;" onclick="trigger(\'close\');">&times;</a>\n    <div id="affirm_error_container">\n      <div class="affirm-content-wrapper">\n        <div>\n          <h3 class="affirm-section">{{title}}</h3>\n        </div>\n        <p>{{body}}</p>\n        {{ body_extra }}\n        <a id="affirm_error_back_button" onclick="trigger(\'close\');">Return to {{merchant_name}}</a>\n      </div>\n    </div>\n  </div>\n  <script>\n    window[\'affirm_events\'] = {\n\n      hiding: function(){\n        document.getElementById("modal_wrapper").className = "";\n      },\n\n      showing: function(){\n        document.getElementById("modal_wrapper").className = "show";\n      }\n    };\n\n    setTimeout(function(){\n      window.affirm_events.showing();\n    },100);\n  <\/script>\n\n</body>\n</html>\n'},function(e,t){e.exports='<!DOCTYPE html>\n<head>\n    <meta charset="utf-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n    <title></title>\n    <meta name="description" content="">\n    <link rel="stylesheet" href="{{ASSETS_ROOT}}styles/main.css">\n</head>\n<body>\n  <div id="modal_wrapper" style="display:none;">\n    <div class="affirm_learn_more_modal-background" onclick="trigger(\'close\');"></div>\n    <div id="affirm_learn_more_modal" class=" {{modal_class}}">\n      <div class="affirm-content-wrapper" style="font-family: {{font}}">\n        <div class="affirm-modal-hero" style="{{ hero_image }}">\n        </div>\n        <div class="affirm-modal-content">\n          <div class="close-modal-button" href="javascript:;" onclick="trigger(\'close\');">\n            <span class="close-icon">close</span>\n          </div>\n          <div class="affirm-content-text">\n            <div class="affirm-modal-header">\n              <span class="affirm-logo">Affirm</span>\n              <span class="affirm-modal-plus">+</span>\n              <img src="{{logo_image}}" class="affirm-merchant-logo" />\n            </div>\n            <h1 class="affirm-tagline">\n              {{copy.tagline}}\n            </h1>\n            <p class="affirm-promo-text" style="font-family: {{fontFamily}};">\n              {{copy.promo}}\n            </p>\n            <div class="affirm-copy-sections">\n              <div class="copy-section">\n                <span class="copy-section-icon" style="color:{{color}};">{{copy.section_1.icon}}</span>\n                <h4 style="font-family: {{fontFamily}};">{{copy.section_1.header}}</h4>\n                <p style="font-family: {{fontFamily}};">{{copy.section_1.body}}</p>\n              </div>\n              <div class="copy-section">\n                <span class="copy-section-icon" style="color:{{color}};">{{copy.section_2.icon}}</span>\n                <h4 style="font-family: {{fontFamily}};">{{copy.section_2.header}}</h4>\n                <p style="font-family: {{fontFamily}};">{{copy.section_2.body}}</p>\n              </div>\n            </div>\n            <div class="affirm-checkout">\n              {{copy.cta}}\n            </div>\n          </div>\n          <div class="affirm-footer">\n            {{footer}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    window[\'affirm_events\'] = {\n      hiding: function(){\n        document.getElementById("modal_wrapper").className = "";\n      },\n\n      showing: function(){\n        document.getElementById("modal_wrapper").className = "show";\n      }\n    };\n\n    setTimeout(function(){\n      window.affirm_events.showing();\n    },100);\n  <\/script>\n</body>\n</html>\n'},function(e,t){e.exports='<!DOCTYPE html>\n  <head>\n    <meta charset="utf-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n    <title>Loading</title>\n    <link rel="stylesheet" href="{{ASSETS_ROOT}}styles/main.css"/>\n  </head>\n  <body>\n    <div class="loading-wrapper">\n      <div class="loader">\n        <div class="dots">\n          <div class="dot dot-a"></div>\n          <div class="dot dot-b"></div>\n          <div class="dot dot-c"></div>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>'},function(e,t){e.exports='<!DOCTYPE html>\n  <head>\n    <meta charset="utf-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n    <title></title>\n    <meta name="description" content="">\n    <link rel="stylesheet" href="{{ASSETS_ROOT}}styles/main.css"/>\n    <style>{{custom_css}}</style>\n  </head>\n  <body class="affirm-promo">\n    <a href="javascript:;" id="affirm_promo_link" onclick="trigger(\'click\');">\n      <img src="{{img_src}}" />\n    </a>\n  </body>\n</html>'},function(e,t){e.exports='<!DOCTYPE html>\n<head>\n  <meta charset="utf-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n  <title></title>\n  <meta name="description" content="">\n  <link rel="stylesheet" href="{{ASSETS_ROOT}}styles/main.css">\n</head>\n<body>\n  <div id="modal_wrapper" style="display:none;">\n    <button\n      aria-label="Close Modal"\n      class="close-modal-button btn"\n      onclick="trigger(\'close\');"\n    >&times;</button>\n    <div id="affirm_vcn_modal">\n      <div class="affirm-content-wrapper">\n        <div>\n          <h3 class="affirm-section">{{title}}</h3>\n        </div>\n        <button\n          aria-label="Continue"\n          id="affirm-primary-action-button"\n          class="btn"\n          onclick="trigger(\'continue\');"\n        >Continue</button>\n      </div>\n    </div>\n  </div>\n  <script>\n    window[\'affirm_events\'] = {\n\n      hiding: function() {\n        document.getElementById(\'modal_wrapper\').className = \'\';\n      },\n\n      showing: function() {\n        document.getElementById(\'modal_wrapper\').className = \'show\';\n      },\n    };\n\n    setTimeout(function() {\n      window.affirm_events.showing();\n    }, 100);\n  <\/script>\n</body>\n</html>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){c.default.ready(function(){var e={affirm:"mriffa",Affirm:"mriffA"};(0,u.addInsertListener)("affirm_logo_listener",function(t){if(t){var n=t.innerText;e[n]&&t.classList.add("__ligature__"+n+"__");var r=(0,u.getBackgroundBrightness)(t);t.classList.add("__processed"),l.default.trackEvent("AFJS Background Track",{brightness:r,type:"logo"},.1)}}),(0,u.addInsertListener)("affirm_asset_listener",function(e){if(e){var t=(0,u.getBackgroundBrightness)(e);e.classList.add("__processed"),l.default.trackEvent("AFJS Background Track",{brightness:t,type:"asset"},.1)}}),Array.prototype.slice.call(document.getElementsByClassName("affirm-promo")).forEach(function(e){e&&new i.default({container:e})}),r.default.isMupMerchant()&&r.default.open(),s.default.delay(function(){return(0,a.default)()}),console&&"function"==typeof console.warn&&s.default.sniffer.failed.forEach(function(e){console.warn("Warning: affirm.js may not work properly due to the follow issue: "+e)}),o.default.ready()})};f(n(15));var r=f(n(29)),o=f(n(39)),i=f(n(48)),a=f(n(49)),s=f(n(0)),u=n(12),c=f(n(106)),l=f(n(1));function f(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r=new function(){var e=!1,t=[];this.ready=function(n){!0!==e||"function"!=typeof n?t.push(n):n()};var n=function(e,t,n){window.addEventListener?t.addEventListener(e,n,!1):document.attachEvent&&t.attachEvent("on"+e,n)},r=function(){if(!0!==e){for(var n=!1,r=0,o=t.length;r<o;r++)"function"==typeof(n=t[r])&&n();e=!0}};!function(){if("complete"===document.readyState)return r();document.addEventListener?(n("DOMContentLoaded",document,r),n("load",window,r)):document.attachEvent&&(n("load",window,r),n("readystatechange",document,r),document.documentElement.doScroll&&null===window.frameset&&function t(){if(!0!==e){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}r()}}())}()};e.exports=r}]);